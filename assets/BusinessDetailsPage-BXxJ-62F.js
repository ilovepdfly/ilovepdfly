import{u as C,r as d,j as e,L as D,S as w}from"./main--FR5vwUm.js";const y={companyName:"ilovepdfly",vatId:"",country:"Nepal",stateProvince:"",city:"",address:"",zipCode:""},S=()=>{const{user:s,updateBusinessDetails:h,loading:j}=C(),[g,c]=d.useState(!1),[a,u]=d.useState(s?.businessDetails||y),[p,v]=d.useState(!1),[x,o]=d.useState("");d.useEffect(()=>{s&&u(s.businessDetails||y)},[s]);const l=r=>{const{name:t,value:m}=r.target;u(b=>({...b,[t]:m}))},f=async r=>{r.preventDefault(),v(!0),o("");try{await h(a),o("Details saved successfully!"),c(!1),setTimeout(()=>o(""),3e3)}catch{o("Failed to save details.")}finally{v(!1)}},N=()=>{u(s?.businessDetails||y),c(!1)},n=({label:r,value:t})=>e.jsxs("div",{className:"flex justify-between py-3",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:r}),e.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-100",children:t||"-"})]}),i=({label:r,name:t,value:m,onChange:b})=>e.jsxs("div",{className:"py-2",children:[e.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r}),e.jsx("input",{type:"text",id:t,name:t,value:m,onChange:b,className:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-brand-red focus:border-brand-red"})]});return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-gray-800 dark:text-gray-100",children:"Business details"}),e.jsxs(D,{to:"/pricing",className:"bg-yellow-400 hover:bg-yellow-500 text-yellow-900 font-bold py-2 px-4 rounded-md flex items-center gap-2 transition-colors text-sm",children:[e.jsx(w,{className:"h-5 w-5"}),e.jsx("span",{children:"Upgrade to Premium"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-surface-dark p-8 rounded-lg shadow-lg border border-gray-200 dark:border-gray-800",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Billing details"}),!g&&e.jsx("button",{onClick:()=>c(!0),className:"text-brand-red font-semibold hover:underline",children:"Change"})]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:"Invoices will be issued with your Billing information"}),j?e.jsx("p",{children:"Loading details..."}):g?e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsx(i,{label:"Company name",name:"companyName",value:a.companyName,onChange:l}),e.jsx(i,{label:"VAT ID",name:"vatId",value:a.vatId,onChange:l}),e.jsx(i,{label:"Country",name:"country",value:a.country,onChange:l}),e.jsx(i,{label:"State/Province",name:"stateProvince",value:a.stateProvince,onChange:l}),e.jsx(i,{label:"City",name:"city",value:a.city,onChange:l}),e.jsx(i,{label:"Address",name:"address",value:a.address,onChange:l}),e.jsx(i,{label:"Zip Code",name:"zipCode",value:a.zipCode,onChange:l}),e.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[e.jsx("button",{type:"button",onClick:N,className:"bg-gray-200 dark:bg-gray-700 font-semibold py-2 px-6 rounded-lg",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:p,className:"bg-brand-red text-white font-semibold py-2 px-6 rounded-lg disabled:bg-red-300",children:p?"Saving...":"Save"})]})]}):e.jsxs("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx(n,{label:"Company name:",value:s?.businessDetails?.companyName}),e.jsx(n,{label:"VAT ID:",value:s?.businessDetails?.vatId}),e.jsx(n,{label:"Country:",value:s?.businessDetails?.country}),e.jsx(n,{label:"State/Province:",value:s?.businessDetails?.stateProvince}),e.jsx(n,{label:"City:",value:s?.businessDetails?.city}),e.jsx(n,{label:"Address:",value:s?.businessDetails?.address}),e.jsx(n,{label:"Zip Code:",value:s?.businessDetails?.zipCode})]}),x&&e.jsx("p",{className:`mt-4 text-sm font-semibold ${x.includes("successfully")?"text-green-600":"text-red-500"}`,children:x})]})]})};export{S as default};
