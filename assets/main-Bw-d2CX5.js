const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-CEuPkJ2m.js","assets/useWorkflows-B_S-uOby.js","assets/react-Ckhrjn13.js","assets/ToolPage-JZsjQ0gw.js","assets/index-eibjdU2R.js","assets/html2canvas.esm-B0tyYwQk.js","assets/jspdf.es.min-CrsnWOMm.js","assets/xlsx-eYdzo_tC.js","assets/useLastTasks-CIcKouT4.js","assets/useSignedDocuments-C_C3pXPq.js","assets/AboutPage-Clsce6ge.js","assets/BlogPage-CqfHYoYS.js","assets/BlogPostPage-RaWUfGzT.js","assets/ContactPage-BPQZh8ja.js","assets/LoginPage-CPz0Nj8I.js","assets/SignUpPage-BVW_RxFY.js","assets/DeveloperPage-CIAs2cTv.js","assets/FaqPage-enTRksZK.js","assets/SitemapPage-A3n2IKUo.js","assets/InvoiceGeneratorPage-DBbBdNsb.js","assets/CVGeneratorPage-B5vhFSGK.js","assets/LessonPlanCreatorPage-C_rHuCRG.js","assets/index-YgAewIAf.js","assets/AIQuestionGeneratorPage-CBc7CMlg.js","assets/PricingPage-D97gtUAw.js","assets/PremiumFeaturePage-DUnse9M3.js","assets/PaymentPage-BOX2JMOk.js","assets/DeveloperAccessPage-DiPObZEr.js","assets/AdminDashboardPage-DUjEHJj9.js","assets/HowToUsePage-DKFayJGS.js","assets/EducationPage-BUWvOb4d.js","assets/BusinessPage-DQPVxfef.js","assets/PrivacyPolicyPage-ByrXuqcn.js","assets/TermsOfServicePage-BQbKUvzz.js","assets/CookiesPolicyPage-DBAwYcDQ.js","assets/CeoPage-BY7pjXp3.js","assets/ApiPricingPage-Bjv6x0dy.js","assets/ApiReferencePage-B_qE6fJ-.js","assets/ApiPdfPage-bWFQfgJt.js","assets/ApiImagePage-DMQNJOpY.js","assets/ApiSignaturePage-dJUaN426.js","assets/AccountSettingsPage-BhWABkeH.js","assets/PressPage-CGXhmUcd.js","assets/WorkflowsPage-DFF8sQIp.js","assets/CreateWorkflowPage-BYfmfOcU.js","assets/UserDashboardLayout-DLF_kNVM.js","assets/SecurityPage-DvgEI4Pv.js","assets/TeamPage-BqCPjPMk.js","assets/LastTasksPage-DrhM6Fmh.js","assets/SignaturesOverviewPage-TsGS5ll9.js","assets/SignatureModal-Dr2F0Ykc.js","assets/SentPage-BwNTkZmL.js","assets/InboxPage-DGVk7g1W.js","assets/SignedPage-CPN-EBYN.js","assets/TemplatesPage-CkfO0yB8.js","assets/ContactsPage-CgFa4Ujc.js","assets/SignatureSettingsPage-CiFmBk28.js","assets/PlansAndPackagesPage-BS9DviIf.js","assets/BusinessDetailsPage-DslqwiVx.js","assets/InvoicesPage-D1wccG_Y.js"])))=>i.map(i=>d[i]);
import{r as ig,g as gl,a as sg}from"./react-Ckhrjn13.js";function v0(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var _c={exports:{}},Ds={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp;function _0(){if(gp)return Ds;gp=1;var n=ig(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,c,u){var p,m={},g=null,b=null;u!==void 0&&(g=""+u),c.key!==void 0&&(g=""+c.key),c.ref!==void 0&&(b=c.ref);for(p in c)r.call(c,p)&&!s.hasOwnProperty(p)&&(m[p]=c[p]);if(a&&a.defaultProps)for(p in c=a.defaultProps,c)m[p]===void 0&&(m[p]=c[p]);return{$$typeof:e,type:a,key:g,ref:b,props:m,_owner:i.current}}return Ds.Fragment=t,Ds.jsx=o,Ds.jsxs=o,Ds}var yp;function w0(){return yp||(yp=1,_c.exports=_0()),_c.exports}var d=w0(),I=ig();const Vi=gl(I),b0=v0({__proto__:null,default:Vi},[I]);var _a={},vp;function x0(){if(vp)return _a;vp=1;var n=sg();return _a.createRoot=n.createRoot,_a.hydrateRoot=n.hydrateRoot,_a}var I0=x0();const T0=gl(I0);sg();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oo(){return oo=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},oo.apply(this,arguments)}var zn;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(zn||(zn={}));const _p="popstate";function E0(n){n===void 0&&(n={});function e(i,s){let{pathname:o="/",search:a="",hash:c=""}=Qr(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Gc("",{pathname:o,search:a,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let c=i.location.href,u=c.indexOf("#");a=u===-1?c:c.slice(0,u)}return a+"#"+(typeof s=="string"?s:Ha(s))}function r(i,s){Lu(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return A0(e,t,r,n)}function je(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Lu(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function P0(){return Math.random().toString(36).substr(2,8)}function wp(n,e){return{usr:n.state,key:n.key,idx:e}}function Gc(n,e,t,r){return t===void 0&&(t=null),oo({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Qr(e):e,{state:t,key:e&&e.key||r||P0()})}function Ha(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Qr(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function A0(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=zn.Pop,c=null,u=p();u==null&&(u=0,o.replaceState(oo({},o.state,{idx:u}),""));function p(){return(o.state||{idx:null}).idx}function m(){a=zn.Pop;let P=p(),M=P==null?null:P-u;u=P,c&&c({action:a,location:S.location,delta:M})}function g(P,M){a=zn.Push;let F=Gc(S.location,P,M);t&&t(F,P),u=p()+1;let V=wp(F,u),H=S.createHref(F);try{o.pushState(V,"",H)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;i.location.assign(H)}s&&c&&c({action:a,location:S.location,delta:1})}function b(P,M){a=zn.Replace;let F=Gc(S.location,P,M);t&&t(F,P),u=p();let V=wp(F,u),H=S.createHref(F);o.replaceState(V,"",H),s&&c&&c({action:a,location:S.location,delta:0})}function A(P){let M=i.location.origin!=="null"?i.location.origin:i.location.href,F=typeof P=="string"?P:Ha(P);return F=F.replace(/ $/,"%20"),je(M,"No window.location.(origin|href) available to create URL for href: "+F),new URL(F,M)}let S={get action(){return a},get location(){return n(i,o)},listen(P){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(_p,m),c=P,()=>{i.removeEventListener(_p,m),c=null}},createHref(P){return e(i,P)},createURL:A,encodeLocation(P){let M=A(P);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:g,replace:b,go(P){return o.go(P)}};return S}var bp;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(bp||(bp={}));function k0(n,e,t){return t===void 0&&(t="/"),R0(n,e,t)}function R0(n,e,t,r){let i=typeof e=="string"?Qr(e):e,s=Fu(i.pathname||"/",t);if(s==null)return null;let o=og(n);C0(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=B0(s);a=j0(o[c],u)}return a}function og(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(je(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Hn([r,c.relativePath]),p=t.concat(c);s.children&&s.children.length>0&&(je(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),og(s.children,e,p,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:F0(u,s.index),routesMeta:p})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of ag(s.path))i(s,o,c)}),e}function ag(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=ag(r.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>n.startsWith("/")&&c===""?"/":c)}function C0(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:M0(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const S0=/^:[\w-]+$/,D0=3,N0=2,V0=1,O0=10,L0=-2,xp=n=>n==="*";function F0(n,e){let t=n.split("/"),r=t.length;return t.some(xp)&&(r+=L0),e&&(r+=N0),t.filter(i=>!xp(i)).reduce((i,s)=>i+(S0.test(s)?D0:s===""?V0:O0),r)}function M0(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function j0(n,e,t){let{routesMeta:r}=n,i={},s="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",m=U0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},p),g=c.route;if(!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:Hn([s,m.pathname]),pathnameBase:W0(Hn([s,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(s=Hn([s,m.pathnameBase]))}return o}function U0(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=z0(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,p,m)=>{let{paramName:g,isOptional:b}=p;if(g==="*"){let S=a[m]||"";o=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const A=a[m];return b&&!A?u[g]=void 0:u[g]=(A||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:n}}function z0(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Lu(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function B0(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Lu(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Fu(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function q0(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Qr(n):n;return{pathname:t?t.startsWith("/")?t:H0(t,e):e,search:$0(r),hash:K0(i)}}function H0(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function wc(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function G0(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Mu(n,e){let t=G0(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function ju(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Qr(n):(i=oo({},n),je(!i.pathname||!i.pathname.includes("?"),wc("?","pathname","search",i)),je(!i.pathname||!i.pathname.includes("#"),wc("#","pathname","hash",i)),je(!i.search||!i.search.includes("#"),wc("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let m=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}a=m>=0?e[m]:"/"}let c=q0(i,a),u=o&&o!=="/"&&o.endsWith("/"),p=(s||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(u||p)&&(c.pathname+="/"),c}const Hn=n=>n.join("/").replace(/\/\/+/g,"/"),W0=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),$0=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,K0=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Q0(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const lg=["post","put","patch","delete"];new Set(lg);const Y0=["get",...lg];new Set(Y0);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ao(){return ao=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ao.apply(this,arguments)}const Uu=I.createContext(null),J0=I.createContext(null),rr=I.createContext(null),yl=I.createContext(null),rn=I.createContext({outlet:null,matches:[],isDataRoute:!1}),cg=I.createContext(null);function X0(n,e){let{relative:t}=e===void 0?{}:e;Zi()||je(!1);let{basename:r,navigator:i}=I.useContext(rr),{hash:s,pathname:o,search:a}=dg(n,{relative:t}),c=o;return r!=="/"&&(c=o==="/"?r:Hn([r,o])),i.createHref({pathname:c,search:a,hash:s})}function Zi(){return I.useContext(yl)!=null}function Yr(){return Zi()||je(!1),I.useContext(yl).location}function ug(n){I.useContext(rr).static||I.useLayoutEffect(n)}function vl(){let{isDataRoute:n}=I.useContext(rn);return n?pb():Z0()}function Z0(){Zi()||je(!1);let n=I.useContext(Uu),{basename:e,future:t,navigator:r}=I.useContext(rr),{matches:i}=I.useContext(rn),{pathname:s}=Yr(),o=JSON.stringify(Mu(i,t.v7_relativeSplatPath)),a=I.useRef(!1);return ug(()=>{a.current=!0}),I.useCallback(function(u,p){if(p===void 0&&(p={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let m=ju(u,JSON.parse(o),s,p.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Hn([e,m.pathname])),(p.replace?r.replace:r.push)(m,p.state,p)},[e,r,o,s,n])}const eb=I.createContext(null);function tb(n){let e=I.useContext(rn).outlet;return e&&I.createElement(eb.Provider,{value:n},e)}function bD(){let{matches:n}=I.useContext(rn),e=n[n.length-1];return e?e.params:{}}function dg(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=I.useContext(rr),{matches:i}=I.useContext(rn),{pathname:s}=Yr(),o=JSON.stringify(Mu(i,r.v7_relativeSplatPath));return I.useMemo(()=>ju(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}function nb(n,e){return rb(n,e)}function rb(n,e,t,r){Zi()||je(!1);let{navigator:i}=I.useContext(rr),{matches:s}=I.useContext(rn),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Yr(),p;if(e){var m;let P=typeof e=="string"?Qr(e):e;c==="/"||(m=P.pathname)!=null&&m.startsWith(c)||je(!1),p=P}else p=u;let g=p.pathname||"/",b=g;if(c!=="/"){let P=c.replace(/^\//,"").split("/");b="/"+g.replace(/^\//,"").split("/").slice(P.length).join("/")}let A=k0(n,{pathname:b}),S=lb(A&&A.map(P=>Object.assign({},P,{params:Object.assign({},a,P.params),pathname:Hn([c,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?c:Hn([c,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),s,t,r);return e&&S?I.createElement(yl.Provider,{value:{location:ao({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:zn.Pop}},S):S}function ib(){let n=hb(),e=Q0(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),t?I.createElement("pre",{style:i},t):null,null)}const sb=I.createElement(ib,null);class ob extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?I.createElement(rn.Provider,{value:this.props.routeContext},I.createElement(cg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ab(n){let{routeContext:e,match:t,children:r}=n,i=I.useContext(Uu);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),I.createElement(rn.Provider,{value:e},r)}function lb(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(i=t)==null?void 0:i.errors;if(a!=null){let p=o.findIndex(m=>m.route.id&&a?.[m.route.id]!==void 0);p>=0||je(!1),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,u=-1;if(t&&r&&r.v7_partialHydration)for(let p=0;p<o.length;p++){let m=o[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=p),m.route.id){let{loaderData:g,errors:b}=t,A=m.route.loader&&g[m.route.id]===void 0&&(!b||b[m.route.id]===void 0);if(m.route.lazy||A){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((p,m,g)=>{let b,A=!1,S=null,P=null;t&&(b=a&&m.route.id?a[m.route.id]:void 0,S=m.route.errorElement||sb,c&&(u<0&&g===0?(fb("route-fallback"),A=!0,P=null):u===g&&(A=!0,P=m.route.hydrateFallbackElement||null)));let M=e.concat(o.slice(0,g+1)),F=()=>{let V;return b?V=S:A?V=P:m.route.Component?V=I.createElement(m.route.Component,null):m.route.element?V=m.route.element:V=p,I.createElement(ab,{match:m,routeContext:{outlet:p,matches:M,isDataRoute:t!=null},children:V})};return t&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?I.createElement(ob,{location:t.location,revalidation:t.revalidation,component:S,error:b,children:F(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):F()},null)}var hg=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(hg||{}),pg=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(pg||{});function cb(n){let e=I.useContext(Uu);return e||je(!1),e}function ub(n){let e=I.useContext(J0);return e||je(!1),e}function db(n){let e=I.useContext(rn);return e||je(!1),e}function fg(n){let e=db(),t=e.matches[e.matches.length-1];return t.route.id||je(!1),t.route.id}function hb(){var n;let e=I.useContext(cg),t=ub(),r=fg();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function pb(){let{router:n}=cb(hg.UseNavigateStable),e=fg(pg.UseNavigateStable),t=I.useRef(!1);return ug(()=>{t.current=!0}),I.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,ao({fromRouteId:e},s)))},[n,e])}const Ip={};function fb(n,e,t){Ip[n]||(Ip[n]=!0)}function mb(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function mg(n){let{to:e,replace:t,state:r,relative:i}=n;Zi()||je(!1);let{future:s,static:o}=I.useContext(rr),{matches:a}=I.useContext(rn),{pathname:c}=Yr(),u=vl(),p=ju(e,Mu(a,s.v7_relativeSplatPath),c,i==="path"),m=JSON.stringify(p);return I.useEffect(()=>u(JSON.parse(m),{replace:t,state:r,relative:i}),[u,m,i,t,r]),null}function gg(n){return tb(n.context)}function X(n){je(!1)}function gb(n){let{basename:e="/",children:t=null,location:r,navigationType:i=zn.Pop,navigator:s,static:o=!1,future:a}=n;Zi()&&je(!1);let c=e.replace(/^\/*/,"/"),u=I.useMemo(()=>({basename:c,navigator:s,static:o,future:ao({v7_relativeSplatPath:!1},a)}),[c,a,s,o]);typeof r=="string"&&(r=Qr(r));let{pathname:p="/",search:m="",hash:g="",state:b=null,key:A="default"}=r,S=I.useMemo(()=>{let P=Fu(p,c);return P==null?null:{location:{pathname:P,search:m,hash:g,state:b,key:A},navigationType:i}},[c,p,m,g,b,A,i]);return S==null?null:I.createElement(rr.Provider,{value:u},I.createElement(yl.Provider,{children:t,value:S}))}function yb(n){let{children:e,location:t}=n;return nb(Wc(e),t)}new Promise(()=>{});function Wc(n,e){e===void 0&&(e=[]);let t=[];return I.Children.forEach(n,(r,i)=>{if(!I.isValidElement(r))return;let s=[...e,i];if(r.type===I.Fragment){t.push.apply(t,Wc(r.props.children,s));return}r.type!==X&&je(!1),!r.props.index||!r.props.children||je(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Wc(r.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $c(){return $c=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},$c.apply(this,arguments)}function vb(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function _b(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function wb(n,e){return n.button===0&&(!e||e==="_self")&&!_b(n)}const bb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xb="6";try{window.__reactRouterVersion=xb}catch{}const Ib="startTransition",Tp=b0[Ib];function Tb(n){let{basename:e,children:t,future:r,window:i}=n,s=I.useRef();s.current==null&&(s.current=E0({window:i,v5Compat:!0}));let o=s.current,[a,c]=I.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},p=I.useCallback(m=>{u&&Tp?Tp(()=>c(m)):c(m)},[c,u]);return I.useLayoutEffect(()=>o.listen(p),[o,p]),I.useEffect(()=>mb(r),[r]),I.createElement(gb,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:r})}const Eb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Pb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ee=I.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:c,to:u,preventScrollReset:p,viewTransition:m}=e,g=vb(e,bb),{basename:b}=I.useContext(rr),A,S=!1;if(typeof u=="string"&&Pb.test(u)&&(A=u,Eb))try{let V=new URL(window.location.href),H=u.startsWith("//")?new URL(V.protocol+u):new URL(u),J=Fu(H.pathname,b);H.origin===V.origin&&J!=null?u=J+H.search+H.hash:S=!0}catch{}let P=X0(u,{relative:i}),M=Ab(u,{replace:o,state:a,target:c,preventScrollReset:p,relative:i,viewTransition:m});function F(V){r&&r(V),V.defaultPrevented||M(V)}return I.createElement("a",$c({},g,{href:A||P,onClick:S||s?r:F,ref:t,target:c}))});var Ep;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Ep||(Ep={}));var Pp;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Pp||(Pp={}));function Ab(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,c=vl(),u=Yr(),p=dg(n,{relative:o});return I.useCallback(m=>{if(wb(m,t)){m.preventDefault();let g=r!==void 0?r:Ha(u)===Ha(p);c(n,{replace:g,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,c,p,r,i,t,n,s,o,a])}const kb="modulepreload",Rb=function(n){return"/"+n},Ap={},ee=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let c=function(u){return Promise.all(u.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");i=c(t.map(u=>{if(u=Rb(u),u in Ap)return;Ap[u]=!0;const p=u.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${m}`))return;const g=document.createElement("link");if(g.rel=p?"stylesheet":kb,p||(g.as="script"),g.crossOrigin="",g.href=u,a&&g.setAttribute("nonce",a),document.head.appendChild(g),p)return new Promise((b,A)=>{g.addEventListener("load",b),g.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},yg=I.createContext(void 0),Cb=({children:n})=>{const[e,t]=I.useState(()=>{if(typeof window<"u"){const i=localStorage.getItem("theme");return i==="light"||i==="dark"?i:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}return"light"});I.useEffect(()=>{const i=window.document.documentElement;e==="dark"?i.classList.add("dark"):i.classList.remove("dark"),localStorage.setItem("theme",e)},[e]);const r=()=>{t(i=>i==="light"?"dark":"light")};return d.jsx(yg.Provider,{value:{theme:e,toggleTheme:r},children:n})},vg=()=>{const n=I.useContext(yg);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n};var kp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Sb=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],o=n[t++],a=n[t++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},wg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,p=s>>2,m=(s&3)<<4|a>>4;let g=(a&15)<<2|u>>6,b=u&63;c||(b=64,o||(g=64)),r.push(t[p],t[m],t[g],t[b])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(_g(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Sb(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const u=i<n.length?t[n.charAt(i)]:64;++i;const m=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||u==null||m==null)throw new Db;const g=s<<2|a>>4;if(r.push(g),u!==64){const b=a<<4&240|u>>2;if(r.push(b),m!==64){const A=u<<6&192|m;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Db extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nb=function(n){const e=_g(n);return wg.encodeByteArray(e,!0)},Ga=function(n){return Nb(n).replace(/\./g,"")},bg=function(n){try{return wg.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Wa(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!Vb(t)||(n[t]=Wa(n[t],e[t]));return n}function Vb(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=()=>xg().__FIREBASE_DEFAULTS__,Lb=()=>{if(typeof process>"u"||typeof kp>"u")return;const n=kp.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Fb=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&bg(n[1]);return e&&JSON.parse(e)},zu=()=>{try{return Ob()||Lb()||Fb()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Ig=()=>{var n;return(n=zu())===null||n===void 0?void 0:n.config},Mb=n=>{var e;return(e=zu())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ga(JSON.stringify(t)),Ga(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ub(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function Bu(){var n;const e=(n=zu())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zb(){return typeof window<"u"||Eg()}function Eg(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Bb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Pg(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function qu(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ag(){const n=ke();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function kg(){return!Bu()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lo(){try{return typeof indexedDB=="object"}catch{return!1}}function qb(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="FirebaseError";class at extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Hb,Object.setPrototypeOf(this,at.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jr.prototype.create)}}class Jr{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Gb(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new at(i,a,r)}}function Gb(n,e){return n.replace(Wb,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Wb=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function $b(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function co(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(Cp(s)&&Cp(o)){if(!co(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function Cp(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Pi(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Bs(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Rg(n,e){const t=new Kb(n,e);return t.subscribe.bind(t)}class Kb{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Qb(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=bc),i.error===void 0&&(i.error=bc),i.complete===void 0&&(i.complete=bc);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qb(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function bc(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(n){return n&&n._delegate?n._delegate:n}class Dt{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new jb;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Xb(e))try{this.getOrInitializeService({instanceIdentifier:wr})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=wr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wr){return this.instances.has(e)}getOptions(e=wr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Jb(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wr){return this.component?this.component.multipleInstances?e:wr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Jb(n){return n===wr?void 0:n}function Xb(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Yb(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=[];var ie;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ie||(ie={}));const Sg={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},Zb=ie.INFO,e1={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},t1=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=e1[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _l{constructor(e){this.name=e,this._logLevel=Zb,this._logHandler=t1,this._userLogHandler=null,Hu.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Sg[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}}function n1(n){Hu.forEach(e=>{e.setLogLevel(n)})}function r1(n,e){for(const t of Hu){let r=null;e&&e.level&&(r=Sg[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,s,...o)=>{const a=o.map(c=>{if(c==null)return null;if(typeof c=="string")return c;if(typeof c=="number"||typeof c=="boolean")return c.toString();if(c instanceof Error)return c.message;try{return JSON.stringify(c)}catch{return null}}).filter(c=>c).join(" ");s>=(r??i.logLevel)&&n({level:ie[s].toLowerCase(),message:a,args:o,type:i.name})}}}const i1=(n,e)=>e.some(t=>n instanceof t);let Sp,Dp;function s1(){return Sp||(Sp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function o1(){return Dp||(Dp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dg=new WeakMap,Kc=new WeakMap,Ng=new WeakMap,xc=new WeakMap,Gu=new WeakMap;function a1(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Gn(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Dg.set(t,n)}).catch(()=>{}),Gu.set(e,n),e}function l1(n){if(Kc.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Kc.set(n,e)}let Qc={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Kc.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Ng.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Gn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function c1(n){Qc=n(Qc)}function u1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Ic(this),e,...t);return Ng.set(r,e.sort?e.sort():[e]),Gn(r)}:o1().includes(n)?function(...e){return n.apply(Ic(this),e),Gn(Dg.get(this))}:function(...e){return Gn(n.apply(Ic(this),e))}}function d1(n){return typeof n=="function"?u1(n):(n instanceof IDBTransaction&&l1(n),i1(n,s1())?new Proxy(n,Qc):n)}function Gn(n){if(n instanceof IDBRequest)return a1(n);if(xc.has(n))return xc.get(n);const e=d1(n);return e!==n&&(xc.set(n,e),Gu.set(e,n)),e}const Ic=n=>Gu.get(n);function h1(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Gn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Gn(o.result),c.oldVersion,c.newVersion,Gn(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const p1=["get","getKey","getAll","getAllKeys","count"],f1=["put","add","delete","clear"],Tc=new Map;function Np(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Tc.get(e))return Tc.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=f1.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||p1.includes(t)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[t](...a),i&&c.done]))[0]};return Tc.set(e,s),s}c1(n=>({...n,get:(e,t,r)=>Np(e,t)||n.get(e,t,r),has:(e,t)=>!!Np(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(g1(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function g1(n){const e=n.getComponent();return e?.type==="VERSION"}const $a="@firebase/app",Yc="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn=new _l("@firebase/app"),y1="@firebase/app-compat",v1="@firebase/analytics-compat",_1="@firebase/analytics",w1="@firebase/app-check-compat",b1="@firebase/app-check",x1="@firebase/auth",I1="@firebase/auth-compat",T1="@firebase/database",E1="@firebase/data-connect",P1="@firebase/database-compat",A1="@firebase/functions",k1="@firebase/functions-compat",R1="@firebase/installations",C1="@firebase/installations-compat",S1="@firebase/messaging",D1="@firebase/messaging-compat",N1="@firebase/performance",V1="@firebase/performance-compat",O1="@firebase/remote-config",L1="@firebase/remote-config-compat",F1="@firebase/storage",M1="@firebase/storage-compat",j1="@firebase/firestore",U1="@firebase/vertexai-preview",z1="@firebase/firestore-compat",B1="firebase",q1="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n="[DEFAULT]",H1={[$a]:"fire-core",[y1]:"fire-core-compat",[_1]:"fire-analytics",[v1]:"fire-analytics-compat",[b1]:"fire-app-check",[w1]:"fire-app-check-compat",[x1]:"fire-auth",[I1]:"fire-auth-compat",[T1]:"fire-rtdb",[E1]:"fire-data-connect",[P1]:"fire-rtdb-compat",[A1]:"fire-fn",[k1]:"fire-fn-compat",[R1]:"fire-iid",[C1]:"fire-iid-compat",[S1]:"fire-fcm",[D1]:"fire-fcm-compat",[N1]:"fire-perf",[V1]:"fire-perf-compat",[O1]:"fire-rc",[L1]:"fire-rc-compat",[F1]:"fire-gcs",[M1]:"fire-gcs-compat",[j1]:"fire-fst",[z1]:"fire-fst-compat",[U1]:"fire-vertex","fire-js":"fire-js",[B1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn=new Map,Oi=new Map,Li=new Map;function uo(n,e){try{n.container.addComponent(e)}catch(t){yn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Vg(n,e){n.container.addOrOverwriteComponent(e)}function vn(n){const e=n.name;if(Li.has(e))return yn.debug(`There were multiple attempts to register component ${e}.`),!1;Li.set(e,n);for(const t of Kn.values())uo(t,n);for(const t of Oi.values())uo(t,n);return!0}function Og(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function G1(n,e,t=$n){Og(n,e).clearInstance(t)}function Lg(n){return n.options!==void 0}function De(n){return n.settings!==void 0}function W1(){Li.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},St=new Jr("app","Firebase",$1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fg=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw St.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1 extends Fg{constructor(e,t,r,i){const s=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!1,o={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,o,i);else{const a=e;super(a.options,o,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},t),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Pt($a,Yc,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){$u(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw St.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn=q1;function Wu(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:$n,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw St.create("bad-app-name",{appName:String(i)});if(t||(t=Ig()),!t)throw St.create("no-options");const s=Kn.get(i);if(s){if(co(t,s.options)&&co(r,s.config))return s;throw St.create("duplicate-app",{appName:i})}const o=new Cg(i);for(const c of Li.values())o.addComponent(c);const a=new Fg(t,r,o);return Kn.set(i,a),a}function Q1(n,e){if(zb()&&!Eg())throw St.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let t;Lg(n)?t=n.options:t=n;const r=Object.assign(Object.assign({},e),t);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=u=>[...u].reduce((p,m)=>Math.imul(31,p)+m.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw St.create("finalization-registry-not-supported",{});const s=""+i(JSON.stringify(r)),o=Oi.get(s);if(o)return o.incRefCount(e.releaseOnDeref),o;const a=new Cg(s);for(const u of Li.values())a.addComponent(u);const c=new K1(t,e,s,a);return Oi.set(s,c),c}function Y1(n=$n){const e=Kn.get(n);if(!e&&n===$n&&Ig())return Wu();if(!e)throw St.create("no-app",{appName:n});return e}function J1(){return Array.from(Kn.values())}async function $u(n){let e=!1;const t=n.name;Kn.has(t)?(e=!0,Kn.delete(t)):Oi.has(t)&&n.decRefCount()<=0&&(Oi.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function Pt(n,e,t){var r;let i=(r=H1[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yn.warn(a.join(" "));return}vn(new Dt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function Mg(n,e){if(n!==null&&typeof n!="function")throw St.create("invalid-log-argument");r1(n,e)}function jg(n){n1(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="firebase-heartbeat-database",Z1=1,ho="firebase-heartbeat-store";let Ec=null;function Ug(){return Ec||(Ec=h1(X1,Z1,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ho)}catch(t){console.warn(t)}}}}).catch(n=>{throw St.create("idb-open",{originalErrorMessage:n.message})})),Ec}async function ex(n){try{const t=(await Ug()).transaction(ho),r=await t.objectStore(ho).get(zg(n));return await t.done,r}catch(e){if(e instanceof at)yn.warn(e.message);else{const t=St.create("idb-get",{originalErrorMessage:e?.message});yn.warn(t.message)}}}async function Vp(n,e){try{const r=(await Ug()).transaction(ho,"readwrite");await r.objectStore(ho).put(e,zg(n)),await r.done}catch(t){if(t instanceof at)yn.warn(t.message);else{const r=St.create("idb-set",{originalErrorMessage:t?.message});yn.warn(r.message)}}}function zg(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=1024,nx=720*60*60*1e3;class rx{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new sx(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Op();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=nx}),this._storage.overwrite(this._heartbeatsCache))}catch(r){yn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Op(),{heartbeatsToSend:r,unsentEntries:i}=ix(this._heartbeatsCache.heartbeats),s=Ga(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return yn.warn(t),""}}}function Op(){return new Date().toISOString().substring(0,10)}function ix(n,e=tx){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Lp(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Lp(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class sx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lo()?qb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await ex(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return Vp(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return Vp(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Lp(n){return Ga(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(n){vn(new Dt("platform-logger",e=>new m1(e),"PRIVATE")),vn(new Dt("heartbeat",e=>new rx(e),"PRIVATE")),Pt($a,Yc,n),Pt($a,Yc,"esm2017"),Pt("fire-js","")}ox("");const ax=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:at,SDK_VERSION:xn,_DEFAULT_ENTRY_NAME:$n,_addComponent:uo,_addOrOverwriteComponent:Vg,_apps:Kn,_clearComponents:W1,_components:Li,_getProvider:Og,_isFirebaseApp:Lg,_isFirebaseServerApp:De,_registerComponent:vn,_removeServiceInstance:G1,_serverApps:Oi,deleteApp:$u,getApp:Y1,getApps:J1,initializeApp:Wu,initializeServerApp:Q1,onLog:Mg,registerVersion:Pt,setLogLevel:jg},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,t){this._delegate=e,this.firebase=t,uo(e,new Dt("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),$u(this._delegate)))}_getService(e,t=$n){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=$n){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){uo(this._delegate,e)}_addOrOverwriteComponent(e){Vg(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},Fp=new Jr("app-compat","Firebase",cx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(n){const e={},t={__esModule:!0,initializeApp:s,app:i,registerVersion:Pt,setLogLevel:jg,onLog:Mg,apps:null,SDK_VERSION:xn,INTERNAL:{registerComponent:a,removeApp:r,useAsService:c,modularAPIs:ax}};t.default=t,Object.defineProperty(t,"apps",{get:o});function r(u){delete e[u]}function i(u){if(u=u||$n,!Rp(e,u))throw Fp.create("no-app",{appName:u});return e[u]}i.App=n;function s(u,p={}){const m=Wu(u,p);if(Rp(e,m.name))return e[m.name];const g=new n(m,t);return e[m.name]=g,g}function o(){return Object.keys(e).map(u=>e[u])}function a(u){const p=u.name,m=p.replace("-compat","");if(vn(u)&&u.type==="PUBLIC"){const g=(b=i())=>{if(typeof b[m]!="function")throw Fp.create("invalid-app-argument",{appName:p});return b[m]()};u.serviceProps!==void 0&&Wa(g,u.serviceProps),t[m]=g,n.prototype[m]=function(...b){return this._getService.bind(this,p).apply(this,u.multipleInstances?b:[])}}return u.type==="PUBLIC"?t[m]:null}function c(u,p){return p==="serverAuth"?null:p}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(){const n=ux(lx);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:Bg,extendNamespace:e,createSubscribe:Rg,ErrorFactory:Jr,deepExtend:Wa});function e(t){Wa(n,t)}return n}const dx=Bg();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp=new _l("@firebase/app-compat"),hx="@firebase/app-compat",px="0.2.43";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(n){Pt(hx,px,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=xg();if(n.firebase!==void 0){Mp.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Mp.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const At=dx;fx();var mx="firebase",gx="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */At.registerVersion(mx,gx,"app-compat");function Ku(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Xr(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(p){try{u(r.next(p))}catch(m){o(m)}}function c(p){try{u(r.throw(p))}catch(m){o(m)}}function u(p){p.done?s(p.value):i(p.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}const Ns={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},mi={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function qg(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vx=yx,_x=qg,Hg=new Jr("auth","Firebase",qg());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=new _l("@firebase/auth");function wx(n,...e){Ka.logLevel<=ie.WARN&&Ka.warn(`Auth (${xn}): ${n}`,...e)}function Da(n,...e){Ka.logLevel<=ie.ERROR&&Ka.error(`Auth (${xn}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(n,...e){throw Yu(n,...e)}function We(n,...e){return Yu(n,...e)}function Qu(n,e,t){const r=Object.assign(Object.assign({},_x()),{[e]:t});return new Jr("auth","Firebase",r).create(e,{appName:n.name})}function Je(n){return Qu(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ts(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&nt(n,"argument-error"),Qu(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Yu(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Hg.create(n,...e)}function j(n,e,...t){if(!n)throw Yu(e,...t)}function $t(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Da(e),new Error(e)}function Ft(n,e){n||$t(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Ju(){return jp()==="http:"||jp()==="https:"}function jp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ju()||Pg()||"connection"in navigator)?navigator.onLine:!0}function xx(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ft(t>e,"Short delay should be less than long delay!"),this.isMobile=Ub()||qu()}get(){return bx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(n,e){Ft(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$t("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$t("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$t("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx=new No(3e4,6e4);function Oe(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Le(n,e,t,r,i={}){return Wg(n,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=es(Object.assign({key:n.config.apiKey},o)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const u=Object.assign({method:e,headers:c},s);return Bb()||(u.referrerPolicy="no-referrer"),Gg.fetch()($g(n,n.config.apiHost,t,a),u)})}async function Wg(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ix),e);try{const i=new Px(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw qs(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw qs(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw qs(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw qs(n,"user-disabled",o);const p=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Qu(n,p,u);nt(n,p)}}catch(i){if(i instanceof at)throw i;nt(n,"network-request-failed",{message:String(i)})}}async function In(n,e,t,r,i={}){const s=await Le(n,e,t,r,i);return"mfaPendingCredential"in s&&nt(n,"multi-factor-auth-required",{_serverResponse:s}),s}function $g(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?Xu(n.config,i):`${n.config.apiScheme}://${i}`}function Ex(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Px{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(We(this.auth,"network-request-failed")),Tx.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qs(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=We(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(n){return n!==void 0&&n.getResponse!==void 0}function zp(n){return n!==void 0&&n.enterprise!==void 0}class Ax{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ex(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kx(n){return(await Le(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function Rx(n,e){return Le(n,"GET","/v2/recaptchaConfig",Oe(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cx(n,e){return Le(n,"POST","/v1/accounts:delete",e)}async function Sx(n,e){return Le(n,"POST","/v1/accounts:update",e)}async function Kg(n,e){return Le(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Dx(n,e=!1){const t=K(n),r=await t.getIdToken(e),i=wl(r);j(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ys(Pc(i.auth_time)),issuedAtTime:Ys(Pc(i.iat)),expirationTime:Ys(Pc(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Pc(n){return Number(n)*1e3}function wl(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Da("JWT malformed, contained fewer than 3 sections"),null;try{const i=bg(t);return i?JSON.parse(i):(Da("Failed to decode base64 JWT payload"),null)}catch(i){return Da("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Bp(n){const e=wl(n);return j(e,"internal-error"),j(typeof e.exp<"u","internal-error"),j(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _n(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof at&&Nx(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Nx({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ys(this.lastLoginAt),this.creationTime=Ys(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(n){var e;const t=n.auth,r=await n.getIdToken(),i=await _n(n,Kg(t,{idToken:r}));j(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Qg(s.providerUserInfo):[],a=Lx(n.providerData,o),c=n.isAnonymous,u=!(n.email&&s.passwordHash)&&!a?.length,p=c?u:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Jc(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,m)}async function Ox(n){const e=K(n);await fo(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Lx(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Qg(n){return n.map(e=>{var{providerId:t}=e,r=Ku(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fx(n,e){const t=await Wg(n,{},async()=>{const r=es({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=$g(n,i,"/v1/token",`key=${s}`),a=await n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Gg.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Mx(n,e){return Le(n,"POST","/v2/accounts:revokeToken",Oe(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){j(e.idToken,"internal-error"),j(typeof e.idToken<"u","internal-error"),j(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Bp(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){j(e.length!==0,"internal-error");const t=Bp(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(j(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await Fx(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Ai;return r&&(j(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(j(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(j(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ai,this.toJSON())}_performRefresh(){return $t("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(n,e){j(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class hn{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Ku(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Jc(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await _n(this,this.stsTokenManager.getToken(this.auth,e));return j(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Dx(this,e)}reload(){return Ox(this)}_assign(e){this!==e&&(j(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new hn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await fo(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(De(this.auth.app))return Promise.reject(Je(this.auth));const e=await this.getIdToken();return await _n(this,Cx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,c,u,p;const m=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,b=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=t.photoURL)!==null&&o!==void 0?o:void 0,S=(a=t.tenantId)!==null&&a!==void 0?a:void 0,P=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,M=(u=t.createdAt)!==null&&u!==void 0?u:void 0,F=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:V,emailVerified:H,isAnonymous:J,providerData:Y,stsTokenManager:w}=t;j(V&&w,e,"internal-error");const v=Ai.fromJSON(this.name,w);j(typeof V=="string",e,"internal-error"),On(m,e.name),On(g,e.name),j(typeof H=="boolean",e,"internal-error"),j(typeof J=="boolean",e,"internal-error"),On(b,e.name),On(A,e.name),On(S,e.name),On(P,e.name),On(M,e.name),On(F,e.name);const _=new hn({uid:V,auth:e,email:g,emailVerified:H,displayName:m,isAnonymous:J,photoURL:A,phoneNumber:b,tenantId:S,stsTokenManager:v,createdAt:M,lastLoginAt:F});return Y&&Array.isArray(Y)&&(_.providerData=Y.map(T=>Object.assign({},T))),P&&(_._redirectEventId=P),_}static async _fromIdTokenResponse(e,t,r=!1){const i=new Ai;i.updateFromServerResponse(t);const s=new hn({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await fo(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];j(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Qg(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Ai;a.updateFromIdToken(r);const c=new hn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Jc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp=new Map;function Et(n){Ft(n instanceof Function,"Expected a class definition");let e=qp.get(n);return e?(Ft(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,qp.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Yg.type="NONE";const Fi=Yg;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(n,e,t){return`firebase:${n}:${e}:${t}`}class ki{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Dr(this.userKey,i.apiKey,s),this.fullPersistenceKey=Dr("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?hn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ki(Et(Fi),e,r);const i=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Et(Fi);const o=Dr(r,e.config.apiKey,e.name);let a=null;for(const u of t)try{const p=await u._get(o);if(p){const m=hn._fromJSON(e,p);u!==s&&(a=m),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new ki(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(t.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ki(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ey(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Jg(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ty(e))return"Blackberry";if(ny(e))return"Webos";if(Xg(e))return"Safari";if((e.includes("chrome/")||Zg(e))&&!e.includes("edge/"))return"Chrome";if(Vo(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Jg(n=ke()){return/firefox\//i.test(n)}function Xg(n=ke()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Zg(n=ke()){return/crios\//i.test(n)}function ey(n=ke()){return/iemobile/i.test(n)}function Vo(n=ke()){return/android/i.test(n)}function ty(n=ke()){return/blackberry/i.test(n)}function ny(n=ke()){return/webos/i.test(n)}function Oo(n=ke()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function jx(n=ke()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function Ux(n=ke()){var e;return Oo(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function zx(){return Ag()&&document.documentMode===10}function ry(n=ke()){return Oo(n)||Vo(n)||ny(n)||ty(n)||/windows phone/i.test(n)||ey(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(n,e=[]){let t;switch(n){case"Browser":t=Hp(ke());break;case"Worker":t=`${Hp(ke())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${xn}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{const c=e(s);o(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qx(n,e={}){return Le(n,"GET","/v2/passwordPolicy",Oe(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=6;class Gx{constructor(e){var t,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:Hx,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gp(this),this.idTokenSubscription=new Gp(this),this.beforeStateQueue=new Bx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hg,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Et(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ki.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Kg(this,{idToken:e}),r=await hn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(De(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return j(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await fo(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(De(this.app))return Promise.reject(Je(this));const t=e?K(e):null;return t&&j(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&j(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return De(this.app)?Promise.reject(Je(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return De(this.app)?Promise.reject(Je(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Et(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qx(this),t=new Gx(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Jr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Mx(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Et(e)||this._popupRedirectResolver;j(t,this,"argument-error"),this.redirectPersistenceManager=await ki.create(this,[Et(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(j(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(t);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&wx(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ne(n){return K(n)}class Gp{constructor(e){this.auth=e,this.observer=null,this.addObserver=Rg(t=>this.observer=t)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $x(n){Lo=n}function Zu(n){return Lo.loadJS(n)}function Kx(){return Lo.recaptchaV2Script}function Qx(){return Lo.recaptchaEnterpriseScript}function Yx(){return Lo.gapiScript}function sy(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const Jx="recaptcha-enterprise",Xx="NO_RECAPTCHA";class Zx{constructor(e){this.type=Jx,this.auth=Ne(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Rx(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new Ax(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function i(s,o,a){const c=window.grecaptcha;zp(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(Xx)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&zp(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Qx();c.length!==0&&(c+=a),Zu(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Wp(n,e,t,r=!1){const i=new Zx(n);let s;try{s=await i.verify(t)}catch{s=await i.verify(t,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function mo(n,e,t,r){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Wp(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Wp(n,e,t,t==="getOobCode");return r(n,o)}else return Promise.reject(s)})}function e2(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Et);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function t2(n,e,t){const r=Ne(n);j(r._canInitEmulator,r,"emulator-config-failed"),j(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=oy(e),{host:o,port:a}=n2(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||r2()}function oy(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function n2(n){const e=oy(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:$p(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:$p(o)}}}function $p(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function r2(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return $t("not implemented")}_getIdTokenResponse(e){return $t("not implemented")}_linkToIdToken(e,t){return $t("not implemented")}_getReauthenticationResolver(e){return $t("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ay(n,e){return Le(n,"POST","/v1/accounts:resetPassword",Oe(n,e))}async function i2(n,e){return Le(n,"POST","/v1/accounts:update",e)}async function s2(n,e){return Le(n,"POST","/v1/accounts:signUp",e)}async function o2(n,e){return Le(n,"POST","/v1/accounts:update",Oe(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2(n,e){return In(n,"POST","/v1/accounts:signInWithPassword",Oe(n,e))}async function bl(n,e){return Le(n,"POST","/v1/accounts:sendOobCode",Oe(n,e))}async function l2(n,e){return bl(n,e)}async function c2(n,e){return bl(n,e)}async function u2(n,e){return bl(n,e)}async function d2(n,e){return bl(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h2(n,e){return In(n,"POST","/v1/accounts:signInWithEmailLink",Oe(n,e))}async function p2(n,e){return In(n,"POST","/v1/accounts:signInWithEmailLink",Oe(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends ns{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new go(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new go(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mo(e,t,"signInWithPassword",a2);case"emailLink":return h2(e,{email:this._email,oobCode:this._password});default:nt(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mo(e,r,"signUpPassword",s2);case"emailLink":return p2(e,{idToken:t,email:this._email,oobCode:this._password});default:nt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mn(n,e){return In(n,"POST","/v1/accounts:signInWithIdp",Oe(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2="http://localhost";class Zt extends ns{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Zt(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):nt("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=Ku(t,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Zt(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return mn(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,mn(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,mn(e,t)}buildRequest(){const e={requestUri:f2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=es(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m2(n,e){return Le(n,"POST","/v1/accounts:sendVerificationCode",Oe(n,e))}async function g2(n,e){return In(n,"POST","/v1/accounts:signInWithPhoneNumber",Oe(n,e))}async function y2(n,e){const t=await In(n,"POST","/v1/accounts:signInWithPhoneNumber",Oe(n,e));if(t.temporaryProof)throw qs(n,"account-exists-with-different-credential",t);return t}const v2={USER_NOT_FOUND:"user-not-found"};async function _2(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return In(n,"POST","/v1/accounts:signInWithPhoneNumber",Oe(n,t),v2)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends ns{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Nr({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Nr({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return g2(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return y2(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return _2(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!t&&!i&&!s?null:new Nr({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function b2(n){const e=Pi(Bs(n)).link,t=e?Pi(Bs(e)).deep_link_id:null,r=Pi(Bs(n)).deep_link_id;return(r?Pi(Bs(r)).link:null)||r||t||e||n}class xl{constructor(e){var t,r,i,s,o,a;const c=Pi(Bs(e)),u=(t=c.apiKey)!==null&&t!==void 0?t:null,p=(r=c.oobCode)!==null&&r!==void 0?r:null,m=w2((i=c.mode)!==null&&i!==void 0?i:null);j(u&&p&&m,"argument-error"),this.apiKey=u,this.operation=m,this.code=p,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const t=b2(e);try{return new xl(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(){this.providerId=ir.PROVIDER_ID}static credential(e,t){return go._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=xl.parseLink(t);return j(r,"argument-error"),go._fromEmailAndCode(e,r.code,r.tenantId)}}ir.PROVIDER_ID="password";ir.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ir.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Tn{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ri extends rs{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return j("providerId"in t&&"signInMethod"in t,"argument-error"),Zt._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return j(e.idToken||e.accessToken,"argument-error"),Zt._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Ri.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Ri.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!t&&!s||!a)return null;try{return new Ri(a)._credential({idToken:t,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt extends rs{constructor(){super("facebook.com")}static credential(e){return Zt._fromParams({providerId:Bt.PROVIDER_ID,signInMethod:Bt.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bt.credentialFromTaggedObject(e)}static credentialFromError(e){return Bt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bt.credential(e.oauthAccessToken)}catch{return null}}}Bt.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bt.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt extends rs{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Zt._fromParams({providerId:qt.PROVIDER_ID,signInMethod:qt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return qt.credentialFromTaggedObject(e)}static credentialFromError(e){return qt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return qt.credential(t,r)}catch{return null}}}qt.GOOGLE_SIGN_IN_METHOD="google.com";qt.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht extends rs{constructor(){super("github.com")}static credential(e){return Zt._fromParams({providerId:Ht.PROVIDER_ID,signInMethod:Ht.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ht.credentialFromTaggedObject(e)}static credentialFromError(e){return Ht.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ht.credential(e.oauthAccessToken)}catch{return null}}}Ht.GITHUB_SIGN_IN_METHOD="github.com";Ht.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="http://localhost";class Mi extends ns{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return mn(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,mn(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,mn(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=t;return!r||!i||!s||r!==i?null:new Mi(r,s)}static _create(e,t){return new Mi(e,t)}buildRequest(){return{requestUri:x2,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2="saml.";class Qa extends Tn{constructor(e){j(e.startsWith(I2),"argument-error"),super(e)}static credentialFromResult(e){return Qa.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Qa.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Mi.fromJSON(e);return j(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return Mi._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt extends rs{constructor(){super("twitter.com")}static credential(e,t){return Zt._fromParams({providerId:Gt.PROVIDER_ID,signInMethod:Gt.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Gt.credentialFromTaggedObject(e)}static credentialFromError(e){return Gt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Gt.credential(t,r)}catch{return null}}}Gt.TWITTER_SIGN_IN_METHOD="twitter.com";Gt.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ly(n,e){return In(n,"POST","/v1/accounts:signUp",Oe(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await hn._fromIdTokenResponse(e,r,i),o=Kp(r);return new Nt({user:s,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=Kp(r);return new Nt({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function Kp(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T2(n){var e;if(De(n.app))return Promise.reject(Je(n));const t=Ne(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new Nt({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await ly(t,{returnSecureToken:!0}),i=await Nt._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends at{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ya.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Ya(e,t,r,i)}}function cy(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ya._fromErrorAndOperation(n,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E2(n,e){const t=K(n);await Il(!0,t,e);const{providerUserInfo:r}=await Sx(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=uy(r||[]);return t.providerData=t.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function ed(n,e,t=!1){const r=await _n(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Nt._forOperation(n,"link",r)}async function Il(n,e,t){await fo(e);const r=uy(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";j(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dy(n,e,t=!1){const{auth:r}=n;if(De(r.app))return Promise.reject(Je(r));const i="reauthenticate";try{const s=await _n(n,cy(r,i,e,n),t);j(s.idToken,r,"internal-error");const o=wl(s.idToken);j(o,r,"internal-error");const{sub:a}=o;return j(n.uid===a,r,"user-mismatch"),Nt._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&nt(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hy(n,e,t=!1){if(De(n.app))return Promise.reject(Je(n));const r="signIn",i=await cy(n,r,e),s=await Nt._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function Tl(n,e){return hy(Ne(n),e)}async function py(n,e){const t=K(n);return await Il(!1,t,e.providerId),ed(t,e)}async function fy(n,e){return dy(K(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P2(n,e){return In(n,"POST","/v1/accounts:signInWithCustomToken",Oe(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A2(n,e){if(De(n.app))return Promise.reject(Je(n));const t=Ne(n),r=await P2(t,{token:e,returnSecureToken:!0}),i=await Nt._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?td._fromServerResponse(e,t):"totpInfo"in t?nd._fromServerResponse(e,t):nt(e,"internal-error")}}class td extends Fo{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new td(t)}}class nd extends Fo{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new nd(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(n,e,t){var r;j(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),j(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(j(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(j(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rd(n){const e=Ne(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function k2(n,e,t){const r=Ne(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&El(r,i,t),await mo(r,i,"getOobCode",c2)}async function R2(n,e,t){await ay(K(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&rd(n),r})}async function C2(n,e){await o2(K(n),{oobCode:e})}async function my(n,e){const t=K(n),r=await ay(t,{oobCode:e}),i=r.requestType;switch(j(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":j(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":j(r.mfaInfo,t,"internal-error");default:j(r.email,t,"internal-error")}let s=null;return r.mfaInfo&&(s=Fo._fromServerResponse(Ne(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function S2(n,e){const{data:t}=await my(K(n),e);return t.email}async function D2(n,e,t){if(De(n.app))return Promise.reject(Je(n));const r=Ne(n),o=await mo(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ly).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&rd(n),c}),a=await Nt._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function N2(n,e,t){return De(n.app)?Promise.reject(Je(n)):Tl(K(n),ir.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&rd(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V2(n,e,t){const r=Ne(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,a){j(a.handleCodeInApp,r,"argument-error"),a&&El(r,o,a)}s(i,t),await mo(r,i,"getOobCode",u2)}function O2(n,e){const t=xl.parseLink(e);return t?.operation==="EMAIL_SIGNIN"}async function L2(n,e,t){if(De(n.app))return Promise.reject(Je(n));const r=K(n),i=ir.credentialWithLink(e,t||po());return j(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Tl(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F2(n,e){return Le(n,"POST","/v1/accounts:createAuthUri",Oe(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M2(n,e){const t=Ju()?po():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await F2(K(n),r);return i||[]}async function j2(n,e){const t=K(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&El(t.auth,i,e);const{email:s}=await l2(t.auth,i);s!==n.email&&await n.reload()}async function U2(n,e,t){const r=K(n),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&El(r.auth,s,t);const{email:o}=await d2(r.auth,s);o!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2(n,e){return Le(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B2(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=K(n),s={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},o=await _n(r,z2(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:c})=>c==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function q2(n,e){const t=K(n);return De(t.auth.app)?Promise.reject(Je(t.auth)):gy(t,e,null)}function H2(n,e){return gy(K(n),null,e)}async function gy(n,e,t){const{auth:r}=n,s={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(s.email=e),t&&(s.password=t);const o=await _n(n,i2(r,s));await n._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},s=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&n?.idToken){const o=(t=(e=wl(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new Ci(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new W2(s,i);case"github.com":return new $2(s,i);case"google.com":return new K2(s,i);case"twitter.com":return new Q2(s,i,n.screenName||null);case"custom":case"anonymous":return new Ci(s,null);default:return new Ci(s,r,i)}}class Ci{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class yy extends Ci{constructor(e,t,r,i){super(e,t,r),this.username=i}}class W2 extends Ci{constructor(e,t){super(e,"facebook.com",t)}}class $2 extends yy{constructor(e,t){super(e,"github.com",t,typeof t?.login=="string"?t?.login:null)}}class K2 extends Ci{constructor(e,t){super(e,"google.com",t)}}class Q2 extends yy{constructor(e,t,r){super(e,"twitter.com",t,r)}}function Y2(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:G2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new Rr("enroll",e,t)}static _fromMfaPendingCredential(e){return new Rr("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e?.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return Rr._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Rr._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Ne(e),i=t.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>Fo._fromServerResponse(r,a));j(i.mfaPendingCredential,r,"internal-error");const o=Rr._fromMfaPendingCredential(i.mfaPendingCredential);return new id(o,s,async a=>{const c=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const u=Object.assign(Object.assign({},i),{idToken:c.idToken,refreshToken:c.refreshToken});switch(t.operationType){case"signIn":const p=await Nt._fromIdTokenResponse(r,t.operationType,u);return await r._updateCurrentUser(p.user),p;case"reauthenticate":return j(t.user,r,"internal-error"),Nt._forOperation(t.user,t.operationType,u);default:nt(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function J2(n,e){var t;const r=K(n),i=e;return j(e.customData.operationType,r,"argument-error"),j((t=i.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),id._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(n,e){return Le(n,"POST","/v2/accounts/mfaEnrollment:start",Oe(n,e))}function Z2(n,e){return Le(n,"POST","/v2/accounts/mfaEnrollment:finalize",Oe(n,e))}function eI(n,e){return Le(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Oe(n,e))}class sd{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>Fo._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new sd(e)}async getSession(){return Rr._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),s=await _n(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await _n(this.user,eI(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const Ac=new WeakMap;function tI(n){const e=K(n);return Ac.has(e)||Ac.set(e,sd._fromUser(e)),Ac.get(e)}const Ja="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ja,"1"),this.storage.removeItem(Ja),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=1e3,rI=10;class _y extends vy{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ry(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);zx()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,rI):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},nI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}_y.type="LOCAL";const od=_y;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy extends vy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}wy.type="SESSION";const Lr=wy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Pl(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,o=this.handlersMap[i];if(!o?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(t.origin,s)),c=await iI(a);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const u=Mo("",20);i.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const g=m;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(p),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(){return window}function oI(n){He().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(){return typeof He().WorkerGlobalScope<"u"&&typeof He().importScripts=="function"}async function aI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lI(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function cI(){return ad()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="firebaseLocalStorageDb",uI=1,Xa="firebaseLocalStorage",xy="fbase_key";class jo{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Al(n,e){return n.transaction([Xa],e?"readwrite":"readonly").objectStore(Xa)}function dI(){const n=indexedDB.deleteDatabase(by);return new jo(n).toPromise()}function Xc(){const n=indexedDB.open(by,uI);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Xa,{keyPath:xy})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Xa)?e(r):(r.close(),await dI(),e(await Xc()))})})}async function Qp(n,e,t){const r=Al(n,!0).put({[xy]:e,value:t});return new jo(r).toPromise()}async function hI(n,e){const t=Al(n,!1).get(e),r=await new jo(t).toPromise();return r===void 0?null:r.value}function Yp(n,e){const t=Al(n,!0).delete(e);return new jo(t).toPromise()}const pI=800,fI=3;class Iy{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xc(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>fI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ad()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pl._getInstance(cI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await aI(),!this.activeServiceWorker)return;this.sender=new sI(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xc();return await Qp(e,Ja,"1"),await Yp(e,Ja),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Qp(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>hI(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Yp(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Al(i,!1).getAll();return new jo(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Iy.type="LOCAL";const yo=Iy;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(n,e){return Le(n,"POST","/v2/accounts/mfaSignIn:start",Oe(n,e))}function gI(n,e){return Le(n,"POST","/v2/accounts/mfaSignIn:finalize",Oe(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=500,vI=6e4,wa=1e12;class _I{constructor(e){this.auth=e,this.counter=wa,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new wI(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||wa;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;const r=e||wa;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const r=e||wa;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""}}class wI{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;j(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=bI(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},vI)},yI))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function bI(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=sy("rcb"),xI=new No(3e4,6e4);class II{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=He().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return j(TI(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Up(He().grecaptcha)?Promise.resolve(He().grecaptcha):new Promise((r,i)=>{const s=He().setTimeout(()=>{i(We(e,"network-request-failed"))},xI.get());He()[kc]=()=>{He().clearTimeout(s),delete He()[kc];const a=He().grecaptcha;if(!a||!Up(a)){i(We(e,"internal-error"));return}const c=a.render;a.render=(u,p)=>{const m=c(u,p);return this.counter++,m},this.hostLanguage=t,r(a)};const o=`${Kx()}?${es({onload:kc,render:"explicit",hl:t})}`;Zu(o).catch(()=>{clearTimeout(s),i(We(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=He().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function TI(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class EI{async load(e){return new _I(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="recaptcha",PI={theme:"light",type:"image"};let AI=class{constructor(e,t,r=Object.assign({},PI)){this.parameters=r,this.type=Ty,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ne(e),this.isInvisible=this.parameters.size==="invisible",j(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;j(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new EI:new II,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){j(!this.parameters.sitekey,this.auth,"argument-error"),j(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),j(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=He()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){j(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){j(Ju()&&!ad(),this.auth,"internal-error"),await kI(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await kx(this.auth);j(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return j(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function kI(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Nr._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function RI(n,e,t){if(De(n.app))return Promise.reject(Je(n));const r=Ne(n),i=await kl(r,e,K(t));return new ld(i,s=>Tl(r,s))}async function CI(n,e,t){const r=K(n);await Il(!1,r,"phone");const i=await kl(r.auth,e,K(t));return new ld(i,s=>py(r,s))}async function SI(n,e,t){const r=K(n);if(De(r.auth.app))return Promise.reject(Je(r.auth));const i=await kl(r.auth,e,K(t));return new ld(i,s=>fy(r,s))}async function kl(n,e,t){var r;const i=await t.verify();try{j(typeof i=="string",n,"argument-error"),j(t.type===Ty,n,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return j(o.type==="enroll",n,"internal-error"),(await X2(n,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{j(o.type==="signin",n,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return j(a,n,"missing-multi-factor-info"),(await mI(n,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await m2(n,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{t._reset()}}async function DI(n,e){const t=K(n);if(De(t.auth.app))return Promise.reject(Je(t.auth));await ed(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fr=class Na{constructor(e){this.providerId=Na.PROVIDER_ID,this.auth=Ne(e)}verifyPhoneNumber(e,t){return kl(this.auth,e,K(t))}static credential(e,t){return Nr._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Na.credentialFromTaggedObject(t)}static credentialFromError(e){return Na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?Nr._fromTokenResponse(t,r):null}};Fr.PROVIDER_ID="phone";Fr.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(n,e){return e?Et(e):(j(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd extends ns{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mn(e,this._buildIdpRequest())}_linkToIdToken(e,t){return mn(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return mn(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function NI(n){return hy(n.auth,new cd(n),n.bypassAuthState)}function VI(n){const{auth:e,user:t}=n;return j(t,e,"internal-error"),dy(t,new cd(n),n.bypassAuthState)}async function OI(n){const{auth:e,user:t}=n;return j(t,e,"internal-error"),ed(t,new cd(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NI;case"linkViaPopup":case"linkViaRedirect":return OI;case"reauthViaPopup":case"reauthViaRedirect":return VI;default:nt(this.auth,"internal-error")}}resolve(e){Ft(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ft(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=new No(2e3,1e4);async function FI(n,e,t){if(De(n.app))return Promise.reject(We(n,"operation-not-supported-in-this-environment"));const r=Ne(n);ts(n,e,Tn);const i=Zr(r,t);return new pn(r,"signInViaPopup",e,i).executeNotNull()}async function MI(n,e,t){const r=K(n);if(De(r.auth.app))return Promise.reject(We(r.auth,"operation-not-supported-in-this-environment"));ts(r.auth,e,Tn);const i=Zr(r.auth,t);return new pn(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function jI(n,e,t){const r=K(n);ts(r.auth,e,Tn);const i=Zr(r.auth,t);return new pn(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class pn extends Ey{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,pn.currentPopupAction&&pn.currentPopupAction.cancel(),pn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return j(e,this.auth,"internal-error"),e}async onExecution(){Ft(this.filter.length===1,"Popup operations only handle one event");const e=Mo();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(We(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(We(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(We(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LI.get())};e()}}pn.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="pendingRedirect",Js=new Map;class zI extends Ey{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Js.get(this.auth._key());if(!e){try{const r=await BI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Js.set(this.auth._key(),e)}return this.bypassAuthState||Js.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BI(n,e){const t=Ay(e),r=Py(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function ud(n,e){return Py(n)._set(Ay(e),"true")}function qI(){Js.clear()}function dd(n,e){Js.set(n._key(),e)}function Py(n){return Et(n._redirectPersistence)}function Ay(n){return Dr(UI,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(n,e,t){return GI(n,e,t)}async function GI(n,e,t){if(De(n.app))return Promise.reject(Je(n));const r=Ne(n);ts(n,e,Tn),await r._initializationPromise;const i=Zr(r,t);return await ud(i,r),i._openRedirect(r,e,"signInViaRedirect")}function WI(n,e,t){return $I(n,e,t)}async function $I(n,e,t){const r=K(n);if(ts(r.auth,e,Tn),De(r.auth.app))return Promise.reject(Je(r.auth));await r.auth._initializationPromise;const i=Zr(r.auth,t);await ud(i,r.auth);const s=await ky(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function KI(n,e,t){return QI(n,e,t)}async function QI(n,e,t){const r=K(n);ts(r.auth,e,Tn),await r.auth._initializationPromise;const i=Zr(r.auth,t);await Il(!1,r,e.providerId),await ud(i,r.auth);const s=await ky(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function YI(n,e){return await Ne(n)._initializationPromise,Rl(n,e,!1)}async function Rl(n,e,t=!1){if(De(n.app))return Promise.reject(Je(n));const r=Ne(n),i=Zr(r,e),o=await new zI(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function ky(n){const e=Mo(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=600*1e3;class Ry{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Cy(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(We(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jp(e))}saveEventToCache(e){this.cachedEventUids.add(Jp(e)),this.lastProcessedEventTime=Date.now()}}function Jp(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Cy({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function XI(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cy(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sy(n,e={}){return Le(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eT=/^https?/;async function tT(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Sy(n);for(const t of e)try{if(nT(t))return}catch{}nt(n,"unauthorized-domain")}function nT(n){const e=po(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!eT.test(t))return!1;if(ZI.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=new No(3e4,6e4);function Xp(){const n=He().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function iT(n){return new Promise((e,t)=>{var r,i,s;function o(){Xp(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Xp(),t(We(n,"network-request-failed"))},timeout:rT.get()})}if(!((i=(r=He().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=He().gapi)===null||s===void 0)&&s.load)o();else{const a=sy("iframefcb");return He()[a]=()=>{gapi.load?o():t(We(n,"network-request-failed"))},Zu(`${Yx()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw Va=null,e})}let Va=null;function sT(n){return Va=Va||iT(n),Va}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=new No(5e3,15e3),aT="__/auth/iframe",lT="emulator/auth/iframe",cT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dT(n){const e=n.config;j(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Xu(e,lT):`https://${n.config.authDomain}/${aT}`,r={apiKey:e.apiKey,appName:n.name,v:xn},i=uT.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${es(r).slice(1)}`}async function hT(n){const e=await sT(n),t=He().gapi;return j(t,n,"internal-error"),e.open({where:document.body,url:dT(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cT,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=We(n,"network-request-failed"),a=He().setTimeout(()=>{s(o)},oT.get());function c(){He().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fT=500,mT=600,gT="_blank",yT="http://localhost";class Zp{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vT(n,e,t,r=fT,i=mT){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},pT),{width:r.toString(),height:i.toString(),top:s,left:o}),u=ke().toLowerCase();t&&(a=Zg(u)?gT:t),Jg(u)&&(e=e||yT,c.scrollbars="yes");const p=Object.entries(c).reduce((g,[b,A])=>`${g}${b}=${A},`,"");if(Ux(u)&&a!=="_self")return _T(e||"",a),new Zp(null);const m=window.open(e||"",a,p);j(m,n,"popup-blocked");try{m.focus()}catch{}return new Zp(m)}function _T(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="__/auth/handler",bT="emulator/auth/handler",xT=encodeURIComponent("fac");async function Zc(n,e,t,r,i,s){j(n.config.authDomain,n,"auth-domain-config-required"),j(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:xn,eventId:i};if(e instanceof Tn){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",$b(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries(s||{}))o[p]=m}if(e instanceof rs){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(o.scopes=p.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const p of Object.keys(a))a[p]===void 0&&delete a[p];const c=await n._getAppCheckToken(),u=c?`#${xT}=${encodeURIComponent(c)}`:"";return`${IT(n)}?${es(a).slice(1)}${u}`}function IT({config:n}){return n.emulator?Xu(n,bT):`https://${n.authDomain}/${wT}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc="webStorageSupport";class TT{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lr,this._completeRedirectFn=Rl,this._overrideRedirectResult=dd}async _openPopup(e,t,r,i){var s;Ft((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Zc(e,t,r,po(),i);return vT(e,o,Mo())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await Zc(e,t,r,po(),i);return oI(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Ft(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await hT(e),r=new Ry(e);return t.register("authEvent",i=>(j(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Rc,{type:Rc},i=>{var s;const o=(s=i?.[0])===null||s===void 0?void 0:s[Rc];o!==void 0&&t(!!o),nt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=tT(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ry()||Xg()||Oo()}}const ET=TT;class PT{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return $t("unexpected MultiFactorSessionType")}}}class hd extends PT{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new hd(e)}_finalizeEnroll(e,t,r){return Z2(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return gI(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Dy{constructor(){}static assertion(e){return hd._fromCredential(e)}}Dy.FACTOR_ID="phone";var ef="@firebase/auth",tf="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RT(n){vn(new Dt("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;j(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iy(n)},u=new Wx(r,i,s,c);return e2(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),vn(new Dt("auth-internal",e=>{const t=Ne(e.getProvider("auth").getImmediate());return(r=>new AT(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pt(ef,tf,kT(n)),Pt(ef,tf,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=300;Mb("authIdTokenMaxAge");function ST(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}$x({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=We("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",ST().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RT("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=2e3;async function NT(n,e,t){var r;const{BuildInfo:i}=Mr();Ft(e.sessionId,"AuthEvent did not contain a session ID");const s=await MT(e.sessionId),o={};return Oo()?o.ibi=i.packageName:Vo()?o.apn=i.packageName:nt(n,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,Zc(n,t,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function VT(n){const{BuildInfo:e}=Mr(),t={};Oo()?t.iosBundleId=e.packageName:Vo()?t.androidPackageName=e.packageName:nt(n,"operation-not-supported-in-this-environment"),await Sy(n,t)}function OT(n){const{cordova:e}=Mr();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,jx()?"_blank":"_system","location=yes"),t(i)})})}async function LT(n,e,t){const{cordova:r}=Mr();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function c(){var m;s();const g=(m=r.plugins.browsertab)===null||m===void 0?void 0:m.close;typeof g=="function"&&g(),typeof t?.close=="function"&&t.close()}function u(){a||(a=window.setTimeout(()=>{o(We(n,"redirect-cancelled-by-user"))},DT))}function p(){document?.visibilityState==="visible"&&u()}e.addPassiveListener(c),document.addEventListener("resume",u,!1),Vo()&&document.addEventListener("visibilitychange",p,!1),i=()=>{e.removePassiveListener(c),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",p,!1),a&&window.clearTimeout(a)}})}finally{i()}}function FT(n){var e,t,r,i,s,o,a,c,u,p;const m=Mr();j(typeof((e=m?.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),j(typeof((t=m?.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),j(typeof((s=(i=(r=m?.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j(typeof((c=(a=(o=m?.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||c===void 0?void 0:c.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j(typeof((p=(u=m?.cordova)===null||u===void 0?void 0:u.InAppBrowser)===null||p===void 0?void 0:p.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function MT(n){const e=jT(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function jT(n){if(Ft(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=20;class zT extends Ry{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function BT(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:GT(),postBody:null,tenantId:n.tenantId,error:We(n,"no-auth-event")}}function qT(n,e){return eu()._set(tu(n),e)}async function nf(n){const e=await eu()._get(tu(n));return e&&await eu()._remove(tu(n)),e}function HT(n,e){var t,r;const i=$T(e);if(i.includes("/__/auth/callback")){const s=Oa(i),o=s.firebaseError?WT(decodeURIComponent(s.firebaseError)):null,a=(r=(t=o?.code)===null||t===void 0?void 0:t.split("auth/"))===null||r===void 0?void 0:r[1],c=a?We(a):null;return c?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:c,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:i,postBody:null}}return null}function GT(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<UT;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function eu(){return Et(od)}function tu(n){return Dr("authEvent",n.config.apiKey,n.name)}function WT(n){try{return JSON.parse(n)}catch{return null}}function $T(n){const e=Oa(n),t=e.link?decodeURIComponent(e.link):void 0,r=Oa(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Oa(i).link||i||r||t||n}function Oa(n){if(!n?.includes("?"))return{};const[e,...t]=n.split("?");return Pi(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=500;class QT{constructor(){this._redirectPersistence=Lr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Rl,this._overrideRedirectResult=dd}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new zT(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){nt(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,i){FT(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),qI(),await this._originValidation(e);const o=BT(e,r,i);await qT(e,o);const a=await NT(e,o,t),c=await OT(a);return LT(e,s,c)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=VT(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=Mr(),o=setTimeout(async()=>{await nf(e),t.onEvent(rf())},KT),a=async p=>{clearTimeout(o);const m=await nf(e);let g=null;m&&p?.url&&(g=HT(m,p.url)),t.onEvent(g||rf())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const c=i,u=`${s.packageName.toLowerCase()}://`;Mr().handleOpenURL=async p=>{if(p.toLowerCase().startsWith(u)&&a({url:p}),typeof c=="function")try{c(p)}catch(m){console.error(m)}}}}const YT=QT;function rf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:We("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(n,e){Ne(n)._logFramework(e)}var XT="@firebase/auth-compat",ZT="0.5.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=1e3;function Xs(){var n;return((n=self?.location)===null||n===void 0?void 0:n.protocol)||null}function tE(){return Xs()==="http:"||Xs()==="https:"}function Ny(n=ke()){return!!((Xs()==="file:"||Xs()==="ionic:"||Xs()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function nE(){return qu()||Bu()}function rE(){return Ag()&&document?.documentMode===11}function iE(n=ke()){return/Edge\/\d+/.test(n)}function sE(n=ke()){return rE()||iE(n)}function Vy(){try{const n=self.localStorage,e=Mo();if(n)return n.setItem(e,"1"),n.removeItem(e),sE()?lo():!0}catch{return pd()&&lo()}return!1}function pd(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Cc(){return(tE()||Pg()||Ny())&&!nE()&&Vy()&&!pd()}function Oy(){return Ny()&&typeof document<"u"}async function oE(){return Oy()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},eE);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function aE(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tt={LOCAL:"local",NONE:"none",SESSION:"session"},Vs=j,Ly="persistence";function lE(n,e){if(Vs(Object.values(Tt).includes(e),n,"invalid-persistence-type"),qu()){Vs(e!==Tt.SESSION,n,"unsupported-persistence-type");return}if(Bu()){Vs(e===Tt.NONE,n,"unsupported-persistence-type");return}if(pd()){Vs(e===Tt.NONE||e===Tt.LOCAL&&lo(),n,"unsupported-persistence-type");return}Vs(e===Tt.NONE||Vy(),n,"unsupported-persistence-type")}async function nu(n){await n._initializationPromise;const e=Fy(),t=Dr(Ly,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistence())}function cE(n,e){const t=Fy();if(!t)return[];const r=Dr(Ly,n,e);switch(t.getItem(r)){case Tt.NONE:return[Fi];case Tt.LOCAL:return[yo,Lr];case Tt.SESSION:return[Lr];default:return[]}}function Fy(){var n;try{return((n=aE())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=j;class Bn{constructor(){this.browserResolver=Et(ET),this.cordovaResolver=Et(YT),this.underlyingResolver=null,this._redirectPersistence=Lr,this._completeRedirectFn=Rl,this._overrideRedirectResult=dd}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)}async _openRedirect(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Oy()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return uE(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await oE();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(n){return n.unwrap()}function dE(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(n){return jy(n)}function pE(n,e){var t;const r=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if(e?.code==="auth/multi-factor-auth-required"){const i=e;i.resolver=new fE(n,J2(n,e))}else if(r){const i=jy(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function jy(n){const{_tokenResponse:e}=n instanceof at?n.customData:n;if(!e)return null;if(!(n instanceof at)&&"temporaryProof"in e&&"phoneNumber"in e)return Fr.credentialFromResult(n);const t=e.providerId;if(!t||t===Ns.PASSWORD)return null;let r;switch(t){case Ns.GOOGLE:r=qt;break;case Ns.FACEBOOK:r=Bt;break;case Ns.GITHUB:r=Ht;break;case Ns.TWITTER:r=Gt;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:c}=e;return!s&&!o&&!i&&!a?null:a?t.startsWith("saml.")?Mi._create(t,a):Zt._fromParams({providerId:t,signInMethod:t,pendingToken:a,idToken:i,accessToken:s}):new Ri(t).credential({idToken:i,accessToken:s,rawNonce:c})}return n instanceof at?r.credentialFromError(n):r.credentialFromResult(n)}function vt(n,e){return e.catch(t=>{throw t instanceof at&&pE(n,t),t}).then(t=>{const r=t.operationType,i=t.user;return{operationType:r,credential:hE(t),additionalUserInfo:Y2(t),user:Cl.getOrCreate(i)}})}async function ru(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>vt(n,t.confirm(r))}}class fE{constructor(e,t){this.resolver=t,this.auth=dE(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return vt(My(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cl=class Hs{constructor(e){this._delegate=e,this.multiFactor=tI(e)}static getOrCreate(e){return Hs.USER_MAP.has(e)||Hs.USER_MAP.set(e,new Hs(e)),Hs.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return vt(this.auth,py(this._delegate,e))}async linkWithPhoneNumber(e,t){return ru(this.auth,CI(this._delegate,e,t))}async linkWithPopup(e){return vt(this.auth,jI(this._delegate,e,Bn))}async linkWithRedirect(e){return await nu(Ne(this.auth)),KI(this._delegate,e,Bn)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return vt(this.auth,fy(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return ru(this.auth,SI(this._delegate,e,t))}reauthenticateWithPopup(e){return vt(this.auth,MI(this._delegate,e,Bn))}async reauthenticateWithRedirect(e){return await nu(Ne(this.auth)),WI(this._delegate,e,Bn)}sendEmailVerification(e){return j2(this._delegate,e)}async unlink(e){return await E2(this._delegate,e),this}updateEmail(e){return q2(this._delegate,e)}updatePassword(e){return H2(this._delegate,e)}updatePhoneNumber(e){return DI(this._delegate,e)}updateProfile(e){return B2(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return U2(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Cl.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=j;class iu{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Os(r,"invalid-api-key",{appName:e.name}),Os(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Bn:void 0;this._delegate=t.initialize({options:{persistence:mE(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(vx),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Cl.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){t2(this._delegate,e,t)}applyActionCode(e){return C2(this._delegate,e)}checkActionCode(e){return my(this._delegate,e)}confirmPasswordReset(e,t){return R2(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return vt(this._delegate,D2(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return M2(this._delegate,e)}isSignInWithEmailLink(e){return O2(this._delegate,e)}async getRedirectResult(){Os(Cc(),this._delegate,"operation-not-supported-in-this-environment");const e=await YI(this._delegate,Bn);return e?vt(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){JT(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:i,error:s,complete:o}=sf(e,t,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,t,r){const{next:i,error:s,complete:o}=sf(e,t,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,t){return V2(this._delegate,e,t)}sendPasswordResetEmail(e,t){return k2(this._delegate,e,t||void 0)}async setPersistence(e){lE(this._delegate,e);let t;switch(e){case Tt.SESSION:t=Lr;break;case Tt.LOCAL:t=await Et(yo)._isAvailable()?yo:od;break;case Tt.NONE:t=Fi;break;default:return nt("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return vt(this._delegate,T2(this._delegate))}signInWithCredential(e){return vt(this._delegate,Tl(this._delegate,e))}signInWithCustomToken(e){return vt(this._delegate,A2(this._delegate,e))}signInWithEmailAndPassword(e,t){return vt(this._delegate,N2(this._delegate,e,t))}signInWithEmailLink(e,t){return vt(this._delegate,L2(this._delegate,e,t))}signInWithPhoneNumber(e,t){return ru(this._delegate,RI(this._delegate,e,t))}async signInWithPopup(e){return Os(Cc(),this._delegate,"operation-not-supported-in-this-environment"),vt(this._delegate,FI(this._delegate,e,Bn))}async signInWithRedirect(e){return Os(Cc(),this._delegate,"operation-not-supported-in-this-environment"),await nu(this._delegate),HI(this._delegate,e,Bn)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return S2(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}iu.Persistence=Tt;function sf(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const i=r;return{next:o=>i(o&&Cl.getOrCreate(o)),error:e,complete:t}}function mE(n,e){const t=cE(n,e);if(typeof self<"u"&&!t.includes(yo)&&t.push(yo),typeof window<"u")for(const r of[od,Lr])t.includes(r)||t.push(r);return t.includes(Fi)||t.push(Fi),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(){this.providerId="phone",this._delegate=new Fr(My(At.auth()))}static credential(e,t){return Fr.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}fd.PHONE_SIGN_IN_METHOD=Fr.PHONE_SIGN_IN_METHOD;fd.PROVIDER_ID=Fr.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=j;class yE{constructor(e,t,r=At.app()){var i;gE((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new AI(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="auth-compat";function _E(n){n.INTERNAL.registerComponent(new Dt(vE,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new iu(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:mi.EMAIL_SIGNIN,PASSWORD_RESET:mi.PASSWORD_RESET,RECOVER_EMAIL:mi.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:mi.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:mi.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:mi.VERIFY_EMAIL}},EmailAuthProvider:ir,FacebookAuthProvider:Bt,GithubAuthProvider:Ht,GoogleAuthProvider:qt,OAuthProvider:Ri,SAMLAuthProvider:Qa,PhoneAuthProvider:fd,PhoneMultiFactorGenerator:Dy,RecaptchaVerifier:yE,TwitterAuthProvider:Gt,Auth:iu,AuthCredential:ns,Error:at}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(XT,ZT)}_E(At);var of=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vr,Uy;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,v){function _(){}_.prototype=v.prototype,w.D=v.prototype,w.prototype=new _,w.prototype.constructor=w,w.C=function(T,E,k){for(var x=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)x[fe-2]=arguments[fe];return v.prototype[E].apply(T,x)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,_){_||(_=0);var T=Array(16);if(typeof v=="string")for(var E=0;16>E;++E)T[E]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(E=0;16>E;++E)T[E]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=w.g[0],_=w.g[1],E=w.g[2];var k=w.g[3],x=v+(k^_&(E^k))+T[0]+3614090360&4294967295;v=_+(x<<7&4294967295|x>>>25),x=k+(E^v&(_^E))+T[1]+3905402710&4294967295,k=v+(x<<12&4294967295|x>>>20),x=E+(_^k&(v^_))+T[2]+606105819&4294967295,E=k+(x<<17&4294967295|x>>>15),x=_+(v^E&(k^v))+T[3]+3250441966&4294967295,_=E+(x<<22&4294967295|x>>>10),x=v+(k^_&(E^k))+T[4]+4118548399&4294967295,v=_+(x<<7&4294967295|x>>>25),x=k+(E^v&(_^E))+T[5]+1200080426&4294967295,k=v+(x<<12&4294967295|x>>>20),x=E+(_^k&(v^_))+T[6]+2821735955&4294967295,E=k+(x<<17&4294967295|x>>>15),x=_+(v^E&(k^v))+T[7]+4249261313&4294967295,_=E+(x<<22&4294967295|x>>>10),x=v+(k^_&(E^k))+T[8]+1770035416&4294967295,v=_+(x<<7&4294967295|x>>>25),x=k+(E^v&(_^E))+T[9]+2336552879&4294967295,k=v+(x<<12&4294967295|x>>>20),x=E+(_^k&(v^_))+T[10]+4294925233&4294967295,E=k+(x<<17&4294967295|x>>>15),x=_+(v^E&(k^v))+T[11]+2304563134&4294967295,_=E+(x<<22&4294967295|x>>>10),x=v+(k^_&(E^k))+T[12]+1804603682&4294967295,v=_+(x<<7&4294967295|x>>>25),x=k+(E^v&(_^E))+T[13]+4254626195&4294967295,k=v+(x<<12&4294967295|x>>>20),x=E+(_^k&(v^_))+T[14]+2792965006&4294967295,E=k+(x<<17&4294967295|x>>>15),x=_+(v^E&(k^v))+T[15]+1236535329&4294967295,_=E+(x<<22&4294967295|x>>>10),x=v+(E^k&(_^E))+T[1]+4129170786&4294967295,v=_+(x<<5&4294967295|x>>>27),x=k+(_^E&(v^_))+T[6]+3225465664&4294967295,k=v+(x<<9&4294967295|x>>>23),x=E+(v^_&(k^v))+T[11]+643717713&4294967295,E=k+(x<<14&4294967295|x>>>18),x=_+(k^v&(E^k))+T[0]+3921069994&4294967295,_=E+(x<<20&4294967295|x>>>12),x=v+(E^k&(_^E))+T[5]+3593408605&4294967295,v=_+(x<<5&4294967295|x>>>27),x=k+(_^E&(v^_))+T[10]+38016083&4294967295,k=v+(x<<9&4294967295|x>>>23),x=E+(v^_&(k^v))+T[15]+3634488961&4294967295,E=k+(x<<14&4294967295|x>>>18),x=_+(k^v&(E^k))+T[4]+3889429448&4294967295,_=E+(x<<20&4294967295|x>>>12),x=v+(E^k&(_^E))+T[9]+568446438&4294967295,v=_+(x<<5&4294967295|x>>>27),x=k+(_^E&(v^_))+T[14]+3275163606&4294967295,k=v+(x<<9&4294967295|x>>>23),x=E+(v^_&(k^v))+T[3]+4107603335&4294967295,E=k+(x<<14&4294967295|x>>>18),x=_+(k^v&(E^k))+T[8]+1163531501&4294967295,_=E+(x<<20&4294967295|x>>>12),x=v+(E^k&(_^E))+T[13]+2850285829&4294967295,v=_+(x<<5&4294967295|x>>>27),x=k+(_^E&(v^_))+T[2]+4243563512&4294967295,k=v+(x<<9&4294967295|x>>>23),x=E+(v^_&(k^v))+T[7]+1735328473&4294967295,E=k+(x<<14&4294967295|x>>>18),x=_+(k^v&(E^k))+T[12]+2368359562&4294967295,_=E+(x<<20&4294967295|x>>>12),x=v+(_^E^k)+T[5]+4294588738&4294967295,v=_+(x<<4&4294967295|x>>>28),x=k+(v^_^E)+T[8]+2272392833&4294967295,k=v+(x<<11&4294967295|x>>>21),x=E+(k^v^_)+T[11]+1839030562&4294967295,E=k+(x<<16&4294967295|x>>>16),x=_+(E^k^v)+T[14]+4259657740&4294967295,_=E+(x<<23&4294967295|x>>>9),x=v+(_^E^k)+T[1]+2763975236&4294967295,v=_+(x<<4&4294967295|x>>>28),x=k+(v^_^E)+T[4]+1272893353&4294967295,k=v+(x<<11&4294967295|x>>>21),x=E+(k^v^_)+T[7]+4139469664&4294967295,E=k+(x<<16&4294967295|x>>>16),x=_+(E^k^v)+T[10]+3200236656&4294967295,_=E+(x<<23&4294967295|x>>>9),x=v+(_^E^k)+T[13]+681279174&4294967295,v=_+(x<<4&4294967295|x>>>28),x=k+(v^_^E)+T[0]+3936430074&4294967295,k=v+(x<<11&4294967295|x>>>21),x=E+(k^v^_)+T[3]+3572445317&4294967295,E=k+(x<<16&4294967295|x>>>16),x=_+(E^k^v)+T[6]+76029189&4294967295,_=E+(x<<23&4294967295|x>>>9),x=v+(_^E^k)+T[9]+3654602809&4294967295,v=_+(x<<4&4294967295|x>>>28),x=k+(v^_^E)+T[12]+3873151461&4294967295,k=v+(x<<11&4294967295|x>>>21),x=E+(k^v^_)+T[15]+530742520&4294967295,E=k+(x<<16&4294967295|x>>>16),x=_+(E^k^v)+T[2]+3299628645&4294967295,_=E+(x<<23&4294967295|x>>>9),x=v+(E^(_|~k))+T[0]+4096336452&4294967295,v=_+(x<<6&4294967295|x>>>26),x=k+(_^(v|~E))+T[7]+1126891415&4294967295,k=v+(x<<10&4294967295|x>>>22),x=E+(v^(k|~_))+T[14]+2878612391&4294967295,E=k+(x<<15&4294967295|x>>>17),x=_+(k^(E|~v))+T[5]+4237533241&4294967295,_=E+(x<<21&4294967295|x>>>11),x=v+(E^(_|~k))+T[12]+1700485571&4294967295,v=_+(x<<6&4294967295|x>>>26),x=k+(_^(v|~E))+T[3]+2399980690&4294967295,k=v+(x<<10&4294967295|x>>>22),x=E+(v^(k|~_))+T[10]+4293915773&4294967295,E=k+(x<<15&4294967295|x>>>17),x=_+(k^(E|~v))+T[1]+2240044497&4294967295,_=E+(x<<21&4294967295|x>>>11),x=v+(E^(_|~k))+T[8]+1873313359&4294967295,v=_+(x<<6&4294967295|x>>>26),x=k+(_^(v|~E))+T[15]+4264355552&4294967295,k=v+(x<<10&4294967295|x>>>22),x=E+(v^(k|~_))+T[6]+2734768916&4294967295,E=k+(x<<15&4294967295|x>>>17),x=_+(k^(E|~v))+T[13]+1309151649&4294967295,_=E+(x<<21&4294967295|x>>>11),x=v+(E^(_|~k))+T[4]+4149444226&4294967295,v=_+(x<<6&4294967295|x>>>26),x=k+(_^(v|~E))+T[11]+3174756917&4294967295,k=v+(x<<10&4294967295|x>>>22),x=E+(v^(k|~_))+T[2]+718787259&4294967295,E=k+(x<<15&4294967295|x>>>17),x=_+(k^(E|~v))+T[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(E+(x<<21&4294967295|x>>>11))&4294967295,w.g[2]=w.g[2]+E&4294967295,w.g[3]=w.g[3]+k&4294967295}r.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var _=v-this.blockSize,T=this.B,E=this.h,k=0;k<v;){if(E==0)for(;k<=_;)i(this,w,k),k+=this.blockSize;if(typeof w=="string"){for(;k<v;)if(T[E++]=w.charCodeAt(k++),E==this.blockSize){i(this,T),E=0;break}}else for(;k<v;)if(T[E++]=w[k++],E==this.blockSize){i(this,T),E=0;break}}this.h=E,this.o+=v},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var _=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=_&255,_/=256;for(this.u(w),w=Array(16),v=_=0;4>v;++v)for(var T=0;32>T;T+=8)w[_++]=this.g[v]>>>T&255;return w};function s(w,v){var _=a;return Object.prototype.hasOwnProperty.call(_,w)?_[w]:_[w]=v(w)}function o(w,v){this.h=v;for(var _=[],T=!0,E=w.length-1;0<=E;E--){var k=w[E]|0;T&&k==v||(_[E]=k,T=!1)}this.g=_}var a={};function c(w){return-128<=w&&128>w?s(w,function(v){return new o([v|0],0>v?-1:0)}):new o([w|0],0>w?-1:0)}function u(w){if(isNaN(w)||!isFinite(w))return m;if(0>w)return P(u(-w));for(var v=[],_=1,T=0;w>=_;T++)v[T]=w/_|0,_*=4294967296;return new o(v,0)}function p(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return P(p(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=u(Math.pow(v,8)),T=m,E=0;E<w.length;E+=8){var k=Math.min(8,w.length-E),x=parseInt(w.substring(E,E+k),v);8>k?(k=u(Math.pow(v,k)),T=T.j(k).add(u(x))):(T=T.j(_),T=T.add(u(x)))}return T}var m=c(0),g=c(1),b=c(16777216);n=o.prototype,n.m=function(){if(S(this))return-P(this).m();for(var w=0,v=1,_=0;_<this.g.length;_++){var T=this.i(_);w+=(0<=T?T:4294967296+T)*v,v*=4294967296}return w},n.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(A(this))return"0";if(S(this))return"-"+P(this).toString(w);for(var v=u(Math.pow(w,6)),_=this,T="";;){var E=H(_,v).g;_=M(_,E.j(v));var k=((0<_.g.length?_.g[0]:_.h)>>>0).toString(w);if(_=E,A(_))return k+T;for(;6>k.length;)k="0"+k;T=k+T}},n.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function A(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function S(w){return w.h==-1}n.l=function(w){return w=M(this,w),S(w)?-1:A(w)?0:1};function P(w){for(var v=w.g.length,_=[],T=0;T<v;T++)_[T]=~w.g[T];return new o(_,~w.h).add(g)}n.abs=function(){return S(this)?P(this):this},n.add=function(w){for(var v=Math.max(this.g.length,w.g.length),_=[],T=0,E=0;E<=v;E++){var k=T+(this.i(E)&65535)+(w.i(E)&65535),x=(k>>>16)+(this.i(E)>>>16)+(w.i(E)>>>16);T=x>>>16,k&=65535,x&=65535,_[E]=x<<16|k}return new o(_,_[_.length-1]&-2147483648?-1:0)};function M(w,v){return w.add(P(v))}n.j=function(w){if(A(this)||A(w))return m;if(S(this))return S(w)?P(this).j(P(w)):P(P(this).j(w));if(S(w))return P(this.j(P(w)));if(0>this.l(b)&&0>w.l(b))return u(this.m()*w.m());for(var v=this.g.length+w.g.length,_=[],T=0;T<2*v;T++)_[T]=0;for(T=0;T<this.g.length;T++)for(var E=0;E<w.g.length;E++){var k=this.i(T)>>>16,x=this.i(T)&65535,fe=w.i(E)>>>16,Be=w.i(E)&65535;_[2*T+2*E]+=x*Be,F(_,2*T+2*E),_[2*T+2*E+1]+=k*Be,F(_,2*T+2*E+1),_[2*T+2*E+1]+=x*fe,F(_,2*T+2*E+1),_[2*T+2*E+2]+=k*fe,F(_,2*T+2*E+2)}for(T=0;T<v;T++)_[T]=_[2*T+1]<<16|_[2*T];for(T=v;T<2*v;T++)_[T]=0;return new o(_,0)};function F(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function V(w,v){this.g=w,this.h=v}function H(w,v){if(A(v))throw Error("division by zero");if(A(w))return new V(m,m);if(S(w))return v=H(P(w),v),new V(P(v.g),P(v.h));if(S(v))return v=H(w,P(v)),new V(P(v.g),v.h);if(30<w.g.length){if(S(w)||S(v))throw Error("slowDivide_ only works with positive integers.");for(var _=g,T=v;0>=T.l(w);)_=J(_),T=J(T);var E=Y(_,1),k=Y(T,1);for(T=Y(T,2),_=Y(_,2);!A(T);){var x=k.add(T);0>=x.l(w)&&(E=E.add(_),k=x),T=Y(T,1),_=Y(_,1)}return v=M(w,E.j(v)),new V(E,v)}for(E=m;0<=w.l(v);){for(_=Math.max(1,Math.floor(w.m()/v.m())),T=Math.ceil(Math.log(_)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),k=u(_),x=k.j(v);S(x)||0<x.l(w);)_-=T,k=u(_),x=k.j(v);A(k)&&(k=g),E=E.add(k),w=M(w,x)}return new V(E,w)}n.A=function(w){return H(this,w).h},n.and=function(w){for(var v=Math.max(this.g.length,w.g.length),_=[],T=0;T<v;T++)_[T]=this.i(T)&w.i(T);return new o(_,this.h&w.h)},n.or=function(w){for(var v=Math.max(this.g.length,w.g.length),_=[],T=0;T<v;T++)_[T]=this.i(T)|w.i(T);return new o(_,this.h|w.h)},n.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),_=[],T=0;T<v;T++)_[T]=this.i(T)^w.i(T);return new o(_,this.h^w.h)};function J(w){for(var v=w.g.length+1,_=[],T=0;T<v;T++)_[T]=w.i(T)<<1|w.i(T-1)>>>31;return new o(_,w.h)}function Y(w,v){var _=v>>5;v%=32;for(var T=w.g.length-_,E=[],k=0;k<T;k++)E[k]=0<v?w.i(k+_)>>>v|w.i(k+_+1)<<32-v:w.i(k+_);return new o(E,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Uy=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=p,Vr=o}).apply(typeof of<"u"?of:typeof self<"u"?self:typeof window<"u"?window:{});var ba=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zy,Gs,By,La,su,qy,Hy,Gy;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,f){return l==Array.prototype||l==Object.prototype||(l[h]=f.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof ba=="object"&&ba];for(var h=0;h<l.length;++h){var f=l[h];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(l,h){if(h)e:{var f=r;l=l.split(".");for(var y=0;y<l.length-1;y++){var R=l[y];if(!(R in f))break e;f=f[R]}l=l[l.length-1],y=f[l],h=h(y),h!=y&&h!=null&&e(f,l,{configurable:!0,writable:!0,value:h})}}function s(l,h){l instanceof String&&(l+="");var f=0,y=!1,R={next:function(){if(!y&&f<l.length){var N=f++;return{value:h(N,l[N]),done:!1}}return y=!0,{done:!0,value:void 0}}};return R[Symbol.iterator]=function(){return R},R}i("Array.prototype.values",function(l){return l||function(){return s(this,function(h,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function p(l,h,f){return l.call.apply(l.bind,arguments)}function m(l,h,f){if(!l)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var R=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(R,y),l.apply(h,R)}}return function(){return l.apply(h,arguments)}}function g(l,h,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,g.apply(null,arguments)}function b(l,h){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),l.apply(this,y)}}function A(l,h){function f(){}f.prototype=h.prototype,l.aa=h.prototype,l.prototype=new f,l.prototype.constructor=l,l.Qb=function(y,R,N){for(var U=Array(arguments.length-2),me=2;me<arguments.length;me++)U[me-2]=arguments[me];return h.prototype[R].apply(y,U)}}function S(l){const h=l.length;if(0<h){const f=Array(h);for(let y=0;y<h;y++)f[y]=l[y];return f}return[]}function P(l,h){for(let f=1;f<arguments.length;f++){const y=arguments[f];if(c(y)){const R=l.length||0,N=y.length||0;l.length=R+N;for(let U=0;U<N;U++)l[R+U]=y[U]}else l.push(y)}}class M{constructor(h,f){this.i=h,this.j=f,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function F(l){return/^[\s\xa0]*$/.test(l)}function V(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function H(l){return H[" "](l),l}H[" "]=function(){};var J=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function Y(l,h,f){for(const y in l)h.call(f,l[y],y,l)}function w(l,h){for(const f in l)h.call(void 0,l[f],f,l)}function v(l){const h={};for(const f in l)h[f]=l[f];return h}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(l,h){let f,y;for(let R=1;R<arguments.length;R++){y=arguments[R];for(f in y)l[f]=y[f];for(let N=0;N<_.length;N++)f=_[N],Object.prototype.hasOwnProperty.call(y,f)&&(l[f]=y[f])}}function E(l){var h=1;l=l.split(":");const f=[];for(;0<h&&l.length;)f.push(l.shift()),h--;return l.length&&f.push(l.join(":")),f}function k(l){a.setTimeout(()=>{throw l},0)}function x(){var l=Ge;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class fe{constructor(){this.h=this.g=null}add(h,f){const y=Be.get();y.set(h,f),this.h?this.h.next=y:this.g=y,this.h=y}}var Be=new M(()=>new ps,l=>l.reset());class ps{constructor(){this.next=this.g=this.h=null}set(h,f){this.h=h,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Mt,Vt=!1,Ge=new fe,si=()=>{const l=a.Promise.resolve(void 0);Mt=()=>{l.then(oi)}};var oi=()=>{for(var l;l=x();){try{l.h.call(l.g)}catch(f){k(f)}var h=Be;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}Vt=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Fe(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}Fe.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const f=()=>{};a.addEventListener("test",f,h),a.removeEventListener("test",f,h)}catch{}return l})();function ae(l,h){if(Fe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var f=this.type=l.type,y=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(J){e:{try{H(h.nodeName);var R=!0;break e}catch{}R=!1}R||(h=null)}}else f=="mouseover"?h=l.fromElement:f=="mouseout"&&(h=l.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ce[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&ae.aa.h.call(this)}}A(ae,Fe);var Ce={2:"touch",3:"pen",4:"mouse"};ae.prototype.h=function(){ae.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ur="closure_listenable_"+(1e6*Math.random()|0),ea=0;function ta(l,h,f,y,R){this.listener=l,this.proxy=null,this.src=h,this.type=f,this.capture=!!y,this.ha=R,this.key=++ea,this.da=this.fa=!1}function sn(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function on(l){this.src=l,this.g={},this.h=0}on.prototype.add=function(l,h,f,y,R){var N=l.toString();l=this.g[N],l||(l=this.g[N]=[],this.h++);var U=ai(l,h,y,R);return-1<U?(h=l[U],f||(h.fa=!1)):(h=new ta(h,this.src,N,!!y,R),h.fa=f,l.push(h)),h};function jt(l,h){var f=h.type;if(f in l.g){var y=l.g[f],R=Array.prototype.indexOf.call(y,h,void 0),N;(N=0<=R)&&Array.prototype.splice.call(y,R,1),N&&(sn(h),l.g[f].length==0&&(delete l.g[f],l.h--))}}function ai(l,h,f,y){for(var R=0;R<l.length;++R){var N=l[R];if(!N.da&&N.listener==h&&N.capture==!!f&&N.ha==y)return R}return-1}var li="closure_lm_"+(1e6*Math.random()|0),ci={};function fs(l,h,f,y,R){if(Array.isArray(h)){for(var N=0;N<h.length;N++)fs(l,h[N],f,y,R);return null}return f=Z(f),l&&l[ur]?l.K(h,f,u(y)?!!y.capture:!1,R):Rn(l,h,f,!1,y,R)}function Rn(l,h,f,y,R,N){if(!h)throw Error("Invalid event type");var U=u(R)?!!R.capture:!!R,me=gs(l);if(me||(l[li]=me=new on(l)),f=me.add(h,f,y,U,N),f.proxy)return f;if(y=ms(),f.proxy=y,y.src=l,y.listener=f,l.addEventListener)q||(R=U),R===void 0&&(R=!1),l.addEventListener(h.toString(),y,R);else if(l.attachEvent)l.attachEvent(na(h.toString()),y);else if(l.addListener&&l.removeListener)l.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return f}function ms(){function l(f){return h.call(l.src,l.listener,f)}const h=ic;return l}function dr(l,h,f,y,R){if(Array.isArray(h))for(var N=0;N<h.length;N++)dr(l,h[N],f,y,R);else y=u(y)?!!y.capture:!!y,f=Z(f),l&&l[ur]?(l=l.i,h=String(h).toString(),h in l.g&&(N=l.g[h],f=ai(N,f,y,R),-1<f&&(sn(N[f]),Array.prototype.splice.call(N,f,1),N.length==0&&(delete l.g[h],l.h--)))):l&&(l=gs(l))&&(h=l.g[h.toString()],l=-1,h&&(l=ai(h,f,y,R)),(f=-1<l?h[l]:null)&&Cn(f))}function Cn(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[ur])jt(h.i,l);else{var f=l.type,y=l.proxy;h.removeEventListener?h.removeEventListener(f,y,l.capture):h.detachEvent?h.detachEvent(na(f),y):h.addListener&&h.removeListener&&h.removeListener(y),(f=gs(h))?(jt(f,l),f.h==0&&(f.src=null,h[li]=null)):sn(l)}}}function na(l){return l in ci?ci[l]:ci[l]="on"+l}function ic(l,h){if(l.da)l=!0;else{h=new ae(h,this);var f=l.listener,y=l.ha||l.src;l.fa&&Cn(l),l=f.call(y,h)}return l}function gs(l){return l=l[li],l instanceof on?l:null}var G="__closure_events_fn_"+(1e9*Math.random()>>>0);function Z(l){return typeof l=="function"?l:(l[G]||(l[G]=function(h){return l.handleEvent(h)}),l[G])}function re(){ct.call(this),this.i=new on(this),this.M=this,this.F=null}A(re,ct),re.prototype[ur]=!0,re.prototype.removeEventListener=function(l,h,f,y){dr(this,l,h,f,y)};function le(l,h){var f,y=l.F;if(y)for(f=[];y;y=y.F)f.push(y);if(l=l.M,y=h.type||h,typeof h=="string")h=new Fe(h,l);else if(h instanceof Fe)h.target=h.target||l;else{var R=h;h=new Fe(y,l),T(h,R)}if(R=!0,f)for(var N=f.length-1;0<=N;N--){var U=h.g=f[N];R=Ke(U,y,!0,h)&&R}if(U=h.g=l,R=Ke(U,y,!0,h)&&R,R=Ke(U,y,!1,h)&&R,f)for(N=0;N<f.length;N++)U=h.g=f[N],R=Ke(U,y,!1,h)&&R}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var f=l.g[h],y=0;y<f.length;y++)sn(f[y]);delete l.g[h],l.h--}}this.F=null},re.prototype.K=function(l,h,f,y){return this.i.add(String(l),h,!1,f,y)},re.prototype.L=function(l,h,f,y){return this.i.add(String(l),h,!0,f,y)};function Ke(l,h,f,y){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var R=!0,N=0;N<h.length;++N){var U=h[N];if(U&&!U.da&&U.capture==f){var me=U.listener,Xe=U.ha||U.src;U.fa&&jt(l.i,U),R=me.call(Xe,y)!==!1&&R}}return R&&!y.defaultPrevented}function Sn(l,h,f){if(typeof l=="function")f&&(l=g(l,f));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function an(l){l.g=Sn(()=>{l.g=null,l.i&&(l.i=!1,an(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class ys extends ct{constructor(h,f){super(),this.m=h,this.l=f,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:an(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ln(l){ct.call(this),this.h=l,this.g={}}A(ln,ct);var ui=[];function hr(l){Y(l.g,function(h,f){this.g.hasOwnProperty(f)&&Cn(h)},l),l.g={}}ln.prototype.N=function(){ln.aa.N.call(this),hr(this)},ln.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pr=a.JSON.stringify,vs=a.JSON.parse,_s=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function fr(){}fr.prototype.h=null;function ra(l){return l.h||(l.h=l.i())}function Ph(){}var ws={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function sc(){Fe.call(this,"d")}A(sc,Fe);function oc(){Fe.call(this,"c")}A(oc,Fe);var mr={},Ah=null;function ia(){return Ah=Ah||new re}mr.La="serverreachability";function kh(l){Fe.call(this,mr.La,l)}A(kh,Fe);function bs(l){const h=ia();le(h,new kh(h))}mr.STAT_EVENT="statevent";function Rh(l,h){Fe.call(this,mr.STAT_EVENT,l),this.stat=h}A(Rh,Fe);function ut(l){const h=ia();le(h,new Rh(h,l))}mr.Ma="timingevent";function Ch(l,h){Fe.call(this,mr.Ma,l),this.size=h}A(Ch,Fe);function xs(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function Is(){this.g=!0}Is.prototype.xa=function(){this.g=!1};function Qw(l,h,f,y,R,N){l.info(function(){if(l.g)if(N)for(var U="",me=N.split("&"),Xe=0;Xe<me.length;Xe++){var ue=me[Xe].split("=");if(1<ue.length){var rt=ue[0];ue=ue[1];var it=rt.split("_");U=2<=it.length&&it[1]=="type"?U+(rt+"="+ue+"&"):U+(rt+"=redacted&")}}else U=null;else U=N;return"XMLHTTP REQ ("+y+") [attempt "+R+"]: "+h+`
`+f+`
`+U})}function Yw(l,h,f,y,R,N,U){l.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+R+"]: "+h+`
`+f+`
`+N+" "+U})}function di(l,h,f,y){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+Xw(l,f)+(y?" "+y:"")})}function Jw(l,h){l.info(function(){return"TIMEOUT: "+h})}Is.prototype.info=function(){};function Xw(l,h){if(!l.g)return h;if(!h)return null;try{var f=JSON.parse(h);if(f){for(l=0;l<f.length;l++)if(Array.isArray(f[l])){var y=f[l];if(!(2>y.length)){var R=y[1];if(Array.isArray(R)&&!(1>R.length)){var N=R[0];if(N!="noop"&&N!="stop"&&N!="close")for(var U=1;U<R.length;U++)R[U]=""}}}}return pr(f)}catch{return h}}var sa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Sh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ac;function oa(){}A(oa,fr),oa.prototype.g=function(){return new XMLHttpRequest},oa.prototype.i=function(){return{}},ac=new oa;function Dn(l,h,f,y){this.j=l,this.i=h,this.l=f,this.R=y||1,this.U=new ln(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Dh}function Dh(){this.i=null,this.g="",this.h=!1}var Nh={},lc={};function cc(l,h,f){l.L=1,l.v=ua(cn(h)),l.m=f,l.P=!0,Vh(l,null)}function Vh(l,h){l.F=Date.now(),aa(l),l.A=cn(l.v);var f=l.A,y=l.R;Array.isArray(y)||(y=[String(y)]),Kh(f.i,"t",y),l.C=0,f=l.j.J,l.h=new Dh,l.g=hp(l.j,f?h:null,!l.m),0<l.O&&(l.M=new ys(g(l.Y,l,l.g),l.O)),h=l.U,f=l.g,y=l.ca;var R="readystatechange";Array.isArray(R)||(R&&(ui[0]=R.toString()),R=ui);for(var N=0;N<R.length;N++){var U=fs(f,R[N],y||h.handleEvent,!1,h.h||h);if(!U)break;h.g[U.key]=U}h=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),bs(),Qw(l.i,l.u,l.A,l.l,l.R,l.m)}Dn.prototype.ca=function(l){l=l.target;const h=this.M;h&&un(l)==3?h.j():this.Y(l)},Dn.prototype.Y=function(l){try{if(l==this.g)e:{const it=un(this.g);var h=this.g.Ba();const fi=this.g.Z();if(!(3>it)&&(it!=3||this.g&&(this.h.h||this.g.oa()||tp(this.g)))){this.J||it!=4||h==7||(h==8||0>=fi?bs(3):bs(2)),uc(this);var f=this.g.Z();this.X=f;t:if(Oh(this)){var y=tp(this.g);l="";var R=y.length,N=un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gr(this),Ts(this);var U="";break t}this.h.i=new a.TextDecoder}for(h=0;h<R;h++)this.h.h=!0,l+=this.h.i.decode(y[h],{stream:!(N&&h==R-1)});y.length=0,this.h.g+=l,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=f==200,Yw(this.i,this.u,this.A,this.l,this.R,it,f),this.o){if(this.T&&!this.K){t:{if(this.g){var me,Xe=this.g;if((me=Xe.g?Xe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(me)){var ue=me;break t}}ue=null}if(f=ue)di(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dc(this,f);else{this.o=!1,this.s=3,ut(12),gr(this),Ts(this);break e}}if(this.P){f=!0;let Ot;for(;!this.J&&this.C<U.length;)if(Ot=Zw(this,U),Ot==lc){it==4&&(this.s=4,ut(14),f=!1),di(this.i,this.l,null,"[Incomplete Response]");break}else if(Ot==Nh){this.s=4,ut(15),di(this.i,this.l,U,"[Invalid Chunk]"),f=!1;break}else di(this.i,this.l,Ot,null),dc(this,Ot);if(Oh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),it!=4||U.length!=0||this.h.h||(this.s=1,ut(16),f=!1),this.o=this.o&&f,!f)di(this.i,this.l,U,"[Invalid Chunked Response]"),gr(this),Ts(this);else if(0<U.length&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.ba&&!rt.M&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),yc(rt),rt.M=!0,ut(11))}}else di(this.i,this.l,U,null),dc(this,U);it==4&&gr(this),this.o&&!this.J&&(it==4?lp(this.j,this):(this.o=!1,aa(this)))}else g0(this.g),f==400&&0<U.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),gr(this),Ts(this)}}}catch{}finally{}};function Oh(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Zw(l,h){var f=l.C,y=h.indexOf(`
`,f);return y==-1?lc:(f=Number(h.substring(f,y)),isNaN(f)?Nh:(y+=1,y+f>h.length?lc:(h=h.slice(y,y+f),l.C=y+f,h)))}Dn.prototype.cancel=function(){this.J=!0,gr(this)};function aa(l){l.S=Date.now()+l.I,Lh(l,l.I)}function Lh(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=xs(g(l.ba,l),h)}function uc(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Dn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Jw(this.i,this.A),this.L!=2&&(bs(),ut(17)),gr(this),this.s=2,Ts(this)):Lh(this,this.S-l)};function Ts(l){l.j.G==0||l.J||lp(l.j,l)}function gr(l){uc(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,hr(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function dc(l,h){try{var f=l.j;if(f.G!=0&&(f.g==l||hc(f.h,l))){if(!l.K&&hc(f.h,l)&&f.G==3){try{var y=f.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var R=y;if(R[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<l.F)ga(f),fa(f);else break e;gc(f),ut(18)}}else f.za=R[1],0<f.za-f.T&&37500>R[2]&&f.F&&f.v==0&&!f.C&&(f.C=xs(g(f.Za,f),6e3));if(1>=jh(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else vr(f,11)}else if((l.K||f.g==l)&&ga(f),!F(h))for(R=f.Da.g.parse(h),h=0;h<R.length;h++){let ue=R[h];if(f.T=ue[0],ue=ue[1],f.G==2)if(ue[0]=="c"){f.K=ue[1],f.ia=ue[2];const rt=ue[3];rt!=null&&(f.la=rt,f.j.info("VER="+f.la));const it=ue[4];it!=null&&(f.Aa=it,f.j.info("SVER="+f.Aa));const fi=ue[5];fi!=null&&typeof fi=="number"&&0<fi&&(y=1.5*fi,f.L=y,f.j.info("backChannelRequestTimeoutMs_="+y)),y=f;const Ot=l.g;if(Ot){const va=Ot.g?Ot.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(va){var N=y.h;N.g||va.indexOf("spdy")==-1&&va.indexOf("quic")==-1&&va.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(pc(N,N.h),N.h=null))}if(y.D){const vc=Ot.g?Ot.g.getResponseHeader("X-HTTP-Session-Id"):null;vc&&(y.ya=vc,ve(y.I,y.D,vc))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-l.F,f.j.info("Handshake RTT: "+f.R+"ms")),y=f;var U=l;if(y.qa=dp(y,y.J?y.ia:null,y.W),U.K){Uh(y.h,U);var me=U,Xe=y.L;Xe&&(me.I=Xe),me.B&&(uc(me),aa(me)),y.g=U}else op(y);0<f.i.length&&ma(f)}else ue[0]!="stop"&&ue[0]!="close"||vr(f,7);else f.G==3&&(ue[0]=="stop"||ue[0]=="close"?ue[0]=="stop"?vr(f,7):mc(f):ue[0]!="noop"&&f.l&&f.l.ta(ue),f.v=0)}}bs(4)}catch{}}var e0=class{constructor(l,h){this.g=l,this.map=h}};function Fh(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mh(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function jh(l){return l.h?1:l.g?l.g.size:0}function hc(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function pc(l,h){l.g?l.g.add(h):l.h=h}function Uh(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}Fh.prototype.cancel=function(){if(this.i=zh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function zh(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const f of l.g.values())h=h.concat(f.D);return h}return S(l.i)}function t0(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],f=l.length,y=0;y<f;y++)h.push(l[y]);return h}h=[],f=0;for(y in l)h[f++]=l[y];return h}function n0(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var f=0;f<l;f++)h.push(f);return h}h=[],f=0;for(const y in l)h[f++]=y;return h}}}function Bh(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var f=n0(l),y=t0(l),R=y.length,N=0;N<R;N++)h.call(void 0,y[N],f&&f[N],l)}var qh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function r0(l,h){if(l){l=l.split("&");for(var f=0;f<l.length;f++){var y=l[f].indexOf("="),R=null;if(0<=y){var N=l[f].substring(0,y);R=l[f].substring(y+1)}else N=l[f];h(N,R?decodeURIComponent(R.replace(/\+/g," ")):"")}}}function yr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof yr){this.h=l.h,la(this,l.j),this.o=l.o,this.g=l.g,ca(this,l.s),this.l=l.l;var h=l.i,f=new As;f.i=h.i,h.g&&(f.g=new Map(h.g),f.h=h.h),Hh(this,f),this.m=l.m}else l&&(h=String(l).match(qh))?(this.h=!1,la(this,h[1]||"",!0),this.o=Es(h[2]||""),this.g=Es(h[3]||"",!0),ca(this,h[4]),this.l=Es(h[5]||"",!0),Hh(this,h[6]||"",!0),this.m=Es(h[7]||"")):(this.h=!1,this.i=new As(null,this.h))}yr.prototype.toString=function(){var l=[],h=this.j;h&&l.push(Ps(h,Gh,!0),":");var f=this.g;return(f||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Ps(h,Gh,!0),"@"),l.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&l.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&l.push("/"),l.push(Ps(f,f.charAt(0)=="/"?o0:s0,!0))),(f=this.i.toString())&&l.push("?",f),(f=this.m)&&l.push("#",Ps(f,l0)),l.join("")};function cn(l){return new yr(l)}function la(l,h,f){l.j=f?Es(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function ca(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function Hh(l,h,f){h instanceof As?(l.i=h,c0(l.i,l.h)):(f||(h=Ps(h,a0)),l.i=new As(h,l.h))}function ve(l,h,f){l.i.set(h,f)}function ua(l){return ve(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Es(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ps(l,h,f){return typeof l=="string"?(l=encodeURI(l).replace(h,i0),f&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function i0(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Gh=/[#\/\?@]/g,s0=/[#\?:]/g,o0=/[#\?]/g,a0=/[#\?@]/g,l0=/#/g;function As(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Nn(l){l.g||(l.g=new Map,l.h=0,l.i&&r0(l.i,function(h,f){l.add(decodeURIComponent(h.replace(/\+/g," ")),f)}))}n=As.prototype,n.add=function(l,h){Nn(this),this.i=null,l=hi(this,l);var f=this.g.get(l);return f||this.g.set(l,f=[]),f.push(h),this.h+=1,this};function Wh(l,h){Nn(l),h=hi(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function $h(l,h){return Nn(l),h=hi(l,h),l.g.has(h)}n.forEach=function(l,h){Nn(this),this.g.forEach(function(f,y){f.forEach(function(R){l.call(h,R,y,this)},this)},this)},n.na=function(){Nn(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),f=[];for(let y=0;y<h.length;y++){const R=l[y];for(let N=0;N<R.length;N++)f.push(h[y])}return f},n.V=function(l){Nn(this);let h=[];if(typeof l=="string")$h(this,l)&&(h=h.concat(this.g.get(hi(this,l))));else{l=Array.from(this.g.values());for(let f=0;f<l.length;f++)h=h.concat(l[f])}return h},n.set=function(l,h){return Nn(this),this.i=null,l=hi(this,l),$h(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},n.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function Kh(l,h,f){Wh(l,h),0<f.length&&(l.i=null,l.g.set(hi(l,h),S(f)),l.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var f=0;f<h.length;f++){var y=h[f];const N=encodeURIComponent(String(y)),U=this.V(y);for(y=0;y<U.length;y++){var R=N;U[y]!==""&&(R+="="+encodeURIComponent(String(U[y]))),l.push(R)}}return this.i=l.join("&")};function hi(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function c0(l,h){h&&!l.j&&(Nn(l),l.i=null,l.g.forEach(function(f,y){var R=y.toLowerCase();y!=R&&(Wh(this,y),Kh(this,R,f))},l)),l.j=h}function u0(l,h){const f=new Is;if(a.Image){const y=new Image;y.onload=b(Vn,f,"TestLoadImage: loaded",!0,h,y),y.onerror=b(Vn,f,"TestLoadImage: error",!1,h,y),y.onabort=b(Vn,f,"TestLoadImage: abort",!1,h,y),y.ontimeout=b(Vn,f,"TestLoadImage: timeout",!1,h,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=l}else h(!1)}function d0(l,h){const f=new Is,y=new AbortController,R=setTimeout(()=>{y.abort(),Vn(f,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:y.signal}).then(N=>{clearTimeout(R),N.ok?Vn(f,"TestPingServer: ok",!0,h):Vn(f,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(R),Vn(f,"TestPingServer: error",!1,h)})}function Vn(l,h,f,y,R){try{R&&(R.onload=null,R.onerror=null,R.onabort=null,R.ontimeout=null),y(f)}catch{}}function h0(){this.g=new _s}function p0(l,h,f){const y=f||"";try{Bh(l,function(R,N){let U=R;u(R)&&(U=pr(R)),h.push(y+N+"="+encodeURIComponent(U))})}catch(R){throw h.push(y+"type="+encodeURIComponent("_badmap")),R}}function da(l){this.l=l.Ub||null,this.j=l.eb||!1}A(da,fr),da.prototype.g=function(){return new ha(this.l,this.j)},da.prototype.i=(function(l){return function(){return l}})({});function ha(l,h){re.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(ha,re),n=ha.prototype,n.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,Rs(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ks(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Rs(this)),this.g&&(this.readyState=3,Rs(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qh(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qh(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?ks(this):Rs(this),this.readyState==3&&Qh(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,ks(this))},n.Qa=function(l){this.g&&(this.response=l,ks(this))},n.ga=function(){this.g&&ks(this)};function ks(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Rs(l)}n.setRequestHeader=function(l,h){this.u.append(l,h)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var f=h.next();!f.done;)f=f.value,l.push(f[0]+": "+f[1]),f=h.next();return l.join(`\r
`)};function Rs(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ha.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Yh(l){let h="";return Y(l,function(f,y){h+=y,h+=":",h+=f,h+=`\r
`}),h}function fc(l,h,f){e:{for(y in f){var y=!1;break e}y=!0}y||(f=Yh(f),typeof l=="string"?f!=null&&encodeURIComponent(String(f)):ve(l,h,f))}function Se(l){re.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Se,re);var f0=/^https?$/i,m0=["POST","PUT"];n=Se.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,h,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ac.g(),this.v=this.o?ra(this.o):ra(ac),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(N){Jh(this,N);return}if(l=f||"",f=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var R in y)f.set(R,y[R]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const N of y.keys())f.set(N,y.get(N));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(f.keys()).find(N=>N.toLowerCase()=="content-type"),R=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(m0,h,void 0))||y||R||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[N,U]of f)this.g.setRequestHeader(N,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ep(this),this.u=!0,this.g.send(l),this.u=!1}catch(N){Jh(this,N)}};function Jh(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,Xh(l),pa(l)}function Xh(l){l.A||(l.A=!0,le(l,"complete"),le(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,le(this,"complete"),le(this,"abort"),pa(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pa(this,!0)),Se.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Zh(this):this.bb())},n.bb=function(){Zh(this)};function Zh(l){if(l.h&&typeof o<"u"&&(!l.v[1]||un(l)!=4||l.Z()!=2)){if(l.u&&un(l)==4)Sn(l.Ea,0,l);else if(le(l,"readystatechange"),un(l)==4){l.h=!1;try{const U=l.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var f;if(!(f=h)){var y;if(y=U===0){var R=String(l.D).match(qh)[1]||null;!R&&a.self&&a.self.location&&(R=a.self.location.protocol.slice(0,-1)),y=!f0.test(R?R.toLowerCase():"")}f=y}if(f)le(l,"complete"),le(l,"success");else{l.m=6;try{var N=2<un(l)?l.g.statusText:""}catch{N=""}l.l=N+" ["+l.Z()+"]",Xh(l)}}finally{pa(l)}}}}function pa(l,h){if(l.g){ep(l);const f=l.g,y=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||le(l,"ready");try{f.onreadystatechange=y}catch{}}}function ep(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function un(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<un(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),vs(h)}};function tp(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function g0(l){const h={};l=(l.g&&2<=un(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<l.length;y++){if(F(l[y]))continue;var f=E(l[y]);const R=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const N=h[R]||[];h[R]=N,N.push(f)}w(h,function(y){return y.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cs(l,h,f){return f&&f.internalChannelParams&&f.internalChannelParams[l]||h}function np(l){this.Aa=0,this.i=[],this.j=new Is,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cs("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cs("baseRetryDelayMs",5e3,l),this.cb=Cs("retryDelaySeedMs",1e4,l),this.Wa=Cs("forwardChannelMaxRetries",2,l),this.wa=Cs("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Fh(l&&l.concurrentRequestLimit),this.Da=new h0,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=np.prototype,n.la=8,n.G=1,n.connect=function(l,h,f,y){ut(0),this.W=l,this.H=h||{},f&&y!==void 0&&(this.H.OSID=f,this.H.OAID=y),this.F=this.X,this.I=dp(this,null,this.W),ma(this)};function mc(l){if(rp(l),l.G==3){var h=l.U++,f=cn(l.I);if(ve(f,"SID",l.K),ve(f,"RID",h),ve(f,"TYPE","terminate"),Ss(l,f),h=new Dn(l,l.j,h),h.L=2,h.v=ua(cn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=h.v,f=!0),f||(h.g=hp(h.j,null),h.g.ea(h.v)),h.F=Date.now(),aa(h)}up(l)}function fa(l){l.g&&(yc(l),l.g.cancel(),l.g=null)}function rp(l){fa(l),l.u&&(a.clearTimeout(l.u),l.u=null),ga(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function ma(l){if(!Mh(l.h)&&!l.s){l.s=!0;var h=l.Ga;Mt||si(),Vt||(Mt(),Vt=!0),Ge.add(h,l),l.B=0}}function y0(l,h){return jh(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=xs(g(l.Ga,l,h),cp(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const R=new Dn(this,this.j,l);let N=this.o;if(this.S&&(N?(N=v(N),T(N,this.S)):N=this.S),this.m!==null||this.O||(R.H=N,N=null),this.P)e:{for(var h=0,f=0;f<this.i.length;f++){t:{var y=this.i[f];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=f;break e}if(h===4096||f===this.i.length-1){h=f+1;break e}}h=1e3}else h=1e3;h=sp(this,R,h),f=cn(this.I),ve(f,"RID",l),ve(f,"CVER",22),this.D&&ve(f,"X-HTTP-Session-Id",this.D),Ss(this,f),N&&(this.O?h="headers="+encodeURIComponent(String(Yh(N)))+"&"+h:this.m&&fc(f,this.m,N)),pc(this.h,R),this.Ua&&ve(f,"TYPE","init"),this.P?(ve(f,"$req",h),ve(f,"SID","null"),R.T=!0,cc(R,f,null)):cc(R,f,h),this.G=2}}else this.G==3&&(l?ip(this,l):this.i.length==0||Mh(this.h)||ip(this))};function ip(l,h){var f;h?f=h.l:f=l.U++;const y=cn(l.I);ve(y,"SID",l.K),ve(y,"RID",f),ve(y,"AID",l.T),Ss(l,y),l.m&&l.o&&fc(y,l.m,l.o),f=new Dn(l,l.j,f,l.B+1),l.m===null&&(f.H=l.o),h&&(l.i=h.D.concat(l.i)),h=sp(l,f,1e3),f.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),pc(l.h,f),cc(f,y,h)}function Ss(l,h){l.H&&Y(l.H,function(f,y){ve(h,y,f)}),l.l&&Bh({},function(f,y){ve(h,y,f)})}function sp(l,h,f){f=Math.min(l.i.length,f);var y=l.l?g(l.l.Na,l.l,l):null;e:{var R=l.i;let N=-1;for(;;){const U=["count="+f];N==-1?0<f?(N=R[0].g,U.push("ofs="+N)):N=0:U.push("ofs="+N);let me=!0;for(let Xe=0;Xe<f;Xe++){let ue=R[Xe].g;const rt=R[Xe].map;if(ue-=N,0>ue)N=Math.max(0,R[Xe].g-100),me=!1;else try{p0(rt,U,"req"+ue+"_")}catch{y&&y(rt)}}if(me){y=U.join("&");break e}}}return l=l.i.splice(0,f),h.D=l,y}function op(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;Mt||si(),Vt||(Mt(),Vt=!0),Ge.add(h,l),l.v=0}}function gc(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=xs(g(l.Fa,l),cp(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,ap(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=xs(g(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),fa(this),ap(this))};function yc(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function ap(l){l.g=new Dn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=cn(l.qa);ve(h,"RID","rpc"),ve(h,"SID",l.K),ve(h,"AID",l.T),ve(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&ve(h,"TO",l.ja),ve(h,"TYPE","xmlhttp"),Ss(l,h),l.m&&l.o&&fc(h,l.m,l.o),l.L&&(l.g.I=l.L);var f=l.g;l=l.ia,f.L=1,f.v=ua(cn(h)),f.m=null,f.P=!0,Vh(f,l)}n.Za=function(){this.C!=null&&(this.C=null,fa(this),gc(this),ut(19))};function ga(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function lp(l,h){var f=null;if(l.g==h){ga(l),yc(l),l.g=null;var y=2}else if(hc(l.h,h))f=h.D,Uh(l.h,h),y=1;else return;if(l.G!=0){if(h.o)if(y==1){f=h.m?h.m.length:0,h=Date.now()-h.F;var R=l.B;y=ia(),le(y,new Ch(y,f)),ma(l)}else op(l);else if(R=h.s,R==3||R==0&&0<h.X||!(y==1&&y0(l,h)||y==2&&gc(l)))switch(f&&0<f.length&&(h=l.h,h.i=h.i.concat(f)),R){case 1:vr(l,5);break;case 4:vr(l,10);break;case 3:vr(l,6);break;default:vr(l,2)}}}function cp(l,h){let f=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(f*=2),f*h}function vr(l,h){if(l.j.info("Error code "+h),h==2){var f=g(l.fb,l),y=l.Xa;const R=!y;y=new yr(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||la(y,"https"),ua(y),R?u0(y.toString(),f):d0(y.toString(),f)}else ut(2);l.G=0,l.l&&l.l.sa(h),up(l),rp(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function up(l){if(l.G=0,l.ka=[],l.l){const h=zh(l.h);(h.length!=0||l.i.length!=0)&&(P(l.ka,h),P(l.ka,l.i),l.h.i.length=0,S(l.i),l.i.length=0),l.l.ra()}}function dp(l,h,f){var y=f instanceof yr?cn(f):new yr(f);if(y.g!="")h&&(y.g=h+"."+y.g),ca(y,y.s);else{var R=a.location;y=R.protocol,h=h?h+"."+R.hostname:R.hostname,R=+R.port;var N=new yr(null);y&&la(N,y),h&&(N.g=h),R&&ca(N,R),f&&(N.l=f),y=N}return f=l.D,h=l.ya,f&&h&&ve(y,f,h),ve(y,"VER",l.la),Ss(l,y),y}function hp(l,h,f){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new Se(new da({eb:f})):new Se(l.pa),h.Ha(l.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function pp(){}n=pp.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ya(){}ya.prototype.g=function(l,h){return new It(l,h)};function It(l,h){re.call(this),this.g=new np(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!F(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!F(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new pi(this)}A(It,re),It.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},It.prototype.close=function(){mc(this.g)},It.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var f={};f.__data__=l,l=f}else this.u&&(f={},f.__data__=pr(l),l=f);h.i.push(new e0(h.Ya++,l)),h.G==3&&ma(h)},It.prototype.N=function(){this.g.l=null,delete this.j,mc(this.g),delete this.g,It.aa.N.call(this)};function fp(l){sc.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const f in h){l=f;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}A(fp,sc);function mp(){oc.call(this),this.status=1}A(mp,oc);function pi(l){this.g=l}A(pi,pp),pi.prototype.ua=function(){le(this.g,"a")},pi.prototype.ta=function(l){le(this.g,new fp(l))},pi.prototype.sa=function(l){le(this.g,new mp)},pi.prototype.ra=function(){le(this.g,"b")},ya.prototype.createWebChannel=ya.prototype.g,It.prototype.send=It.prototype.o,It.prototype.open=It.prototype.m,It.prototype.close=It.prototype.close,Gy=function(){return new ya},Hy=function(){return ia()},qy=mr,su={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},sa.NO_ERROR=0,sa.TIMEOUT=8,sa.HTTP_ERROR=6,La=sa,Sh.COMPLETE="complete",By=Sh,Ph.EventType=ws,ws.OPEN="a",ws.CLOSE="b",ws.ERROR="c",ws.MESSAGE="d",re.prototype.listen=re.prototype.K,Gs=Ph,Se.prototype.listenOnce=Se.prototype.L,Se.prototype.getLastError=Se.prototype.Ka,Se.prototype.getLastErrorCode=Se.prototype.Ba,Se.prototype.getStatus=Se.prototype.Z,Se.prototype.getResponseJson=Se.prototype.Oa,Se.prototype.getResponseText=Se.prototype.oa,Se.prototype.send=Se.prototype.ea,Se.prototype.setWithCredentials=Se.prototype.Ha,zy=Se}).apply(typeof ba<"u"?ba:typeof self<"u"?self:typeof window<"u"?window:{});const af="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let is="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn=new _l("@firebase/firestore");function bi(){return Qn.logLevel}function wE(n){Qn.setLogLevel(n)}function L(n,...e){if(Qn.logLevel<=ie.DEBUG){const t=e.map(md);Qn.debug(`Firestore (${is}): ${n}`,...t)}}function Me(n,...e){if(Qn.logLevel<=ie.ERROR){const t=e.map(md);Qn.error(`Firestore (${is}): ${n}`,...t)}}function en(n,...e){if(Qn.logLevel<=ie.WARN){const t=e.map(md);Qn.warn(`Firestore (${is}): ${n}`,...t)}}function md(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(n="Unexpected state"){const e=`FIRESTORE (${is}) INTERNAL ASSERTION FAILED: `+n;throw Me(e),new Error(e)}function $(n,e){n||W()}function bE(n,e){n||W()}function B(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class O extends at{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ye.UNAUTHENTICATED)))}shutdown(){}}class IE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class TE{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve();let s=new tt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new tt,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const c=s;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},a=c=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((c=>a(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new tt)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($(typeof r.accessToken=="string"),new Wy(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $(e===null||typeof e=="string"),new Ye(e)}}class EE{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class PE{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new EE(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Ye.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class AE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kE{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){$(this.o===void 0);const r=s=>{s.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,L("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?($(typeof t.token=="string"),this.R=t.token,new AE(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=RE(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function te(n,e){return n<e?-1:n>e?1:0}function ji(n,e,t){return n.length===e.length&&n.every(((r,i)=>t(r,e[i])))}function Ky(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new O(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new O(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new O(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new O(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Te.fromMillis(Date.now())}static fromDate(e){return Te.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Te(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?te(this.nanoseconds,e.nanoseconds):te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Q(e)}static min(){return new Q(new Te(0,0))}static max(){return new Q(new Te(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,t,r){t===void 0?t=0:t>e.length&&W(),r===void 0?r=e.length-t:r>e.length-t&&W(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return vo.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vo?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class se extends vo{construct(e,t,r){return new se(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new O(D.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((i=>i.length>0)))}return new se(t)}static emptyPath(){return new se([])}}const CE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xe extends vo{construct(e,t,r){return new xe(e,t,r)}static isValidIdentifier(e){return CE.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new xe(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new O(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new O(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new O(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new O(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xe(t)}static emptyPath(){return new xe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.path=e}static fromPath(e){return new z(se.fromString(e))}static fromName(e){return new z(se.fromString(e).popFirst(5))}static empty(){return new z(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return se.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new z(new se(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function ou(n){return n.fields.find((e=>e.kind===2))}function br(n){return n.fields.filter((e=>e.kind!==2))}Za.UNKNOWN_ID=-1;class Fa{constructor(e,t){this.fieldPath=e,this.kind=t}}class _o{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new _o(0,kt.min())}}function Qy(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Q.fromTimestamp(r===1e9?new Te(t+1,0):new Te(t,r));return new kt(i,z.empty(),e)}function Yy(n){return new kt(n.readTime,n.key,-1)}class kt{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new kt(Q.min(),z.empty(),-1)}static max(){return new kt(Q.max(),z.empty(),-1)}}function gd(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=z.comparator(n.documentKey,e.documentKey),t!==0?t:te(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xy{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sr(n){if(n.code!==D.FAILED_PRECONDITION||n.message!==Jy)throw n;L("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&W(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new C(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof C?t:C.resolve(t)}catch(t){return C.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):C.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):C.reject(t)}static resolve(e){return new C(((t,r)=>{t(e)}))}static reject(e){return new C(((t,r)=>{r(e)}))}static waitFor(e){return new C(((t,r)=>{let i=0,s=0,o=!1;e.forEach((a=>{++i,a.next((()=>{++s,o&&s===i&&t()}),(c=>r(c)))})),o=!0,s===i&&t()}))}static or(e){let t=C.resolve(!1);for(const r of e)t=t.next((i=>i?C.resolve(i):r()));return t}static forEach(e,t){const r=[];return e.forEach(((i,s)=>{r.push(t.call(this,i,s))})),this.waitFor(r)}static mapArray(e,t){return new C(((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;t(e[u]).next((p=>{o[u]=p,++a,a===s&&r(o)}),(p=>i(p)))}}))}static doWhile(e,t){return new C(((r,i)=>{const s=()=>{e()===!0?t().next((()=>{s()}),i):r()};s()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new tt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Zs(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=yd(r.target.error);this.V.reject(new Zs(e,i))}}static open(e,t,r,i){try{return new Sl(t,e.transaction(i,r))}catch(s){throw new Zs(t,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(L("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new DE(t)}}class Yt{constructor(e,t,r){this.name=e,this.version=t,this.p=r,Yt.S(ke())===12.2&&Me("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return L("SimpleDb","Removing database:",e),xr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!lo())return!1;if(Yt.v())return!0;const e=ke(),t=Yt.S(e),r=0<t&&t<10,i=Zy(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(L("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;t(o)},i.onblocked=()=>{r(new Zs(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new O(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new O(D.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Zs(e,o))},i.onupgradeneeded=s=>{L("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.O(o,i.transaction,s.oldVersion,this.version).next((()=>{L("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.N&&(this.db.onversionchange=t=>this.N(t)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const s=t==="readonly";let o=0;for(;;){++o;try{this.db=await this.M(e);const a=Sl.open(this.db,e,s?"readonly":"readwrite",r),c=i(a).next((u=>(a.g(),u))).catch((u=>(a.abort(u),C.reject(u)))).toPromise();return c.catch((()=>{})),await a.m,c}catch(a){const c=a,u=c.name!=="FirebaseError"&&o<3;if(L("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Zy(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class SE{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return xr(this.B.delete())}}class Zs extends O{constructor(e,t){super(D.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function or(n){return n.name==="IndexedDbTransactionError"}class DE{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(L("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(L("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),xr(r)}add(e){return L("SimpleDb","ADD",this.store.name,e,e),xr(this.store.add(e))}get(e){return xr(this.store.get(e)).next((t=>(t===void 0&&(t=null),L("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return L("SimpleDb","DELETE",this.store.name,e),xr(this.store.delete(e))}count(){return L("SimpleDb","COUNT",this.store.name),xr(this.store.count())}U(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new C(((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}}))}{const s=this.cursor(r),o=[];return this.W(s,((a,c)=>{o.push(c)})).next((()=>o))}}G(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new C(((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}}))}j(e,t){L("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const i=this.cursor(r);return this.W(i,((s,o,a)=>a.delete()))}J(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Y(e){const t=this.cursor({});return new C(((r,i)=>{t.onerror=s=>{const o=yd(s.target.error);i(o)},t.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next((a=>{a?o.continue():r()})):r()}}))}W(e,t){const r=[];return new C(((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const c=new SE(a),u=t(a.primaryKey,a.value,c);if(u instanceof C){const p=u.catch((m=>(c.done(),C.reject(m))));r.push(p)}c.isDone?i():c.K===null?a.continue():a.continue(c.K)}})).next((()=>C.waitFor(r)))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function xr(n){return new C(((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=yd(r.target.error);t(i)}}))}let lf=!1;function yd(n){const e=Yt.S(ke());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new O("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return lf||(lf=!0,setTimeout((()=>{throw r}),0)),r}}return n}class NE{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){L("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{L("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(t){or(t)?L("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",t):await sr(t)}await this.X(6e4)}))}}class VE{constructor(e,t){this.localStore=e,this.persistence=t}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.te(t,e)))}te(e,t){const r=new Set;let i=t,s=!0;return C.doWhile((()=>s===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((o=>{if(o!==null&&!r.has(o))return L("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next((a=>{i-=a,r.add(o)}));s=!1})))).next((()=>t-i))}ne(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next((s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next((()=>this.re(i,s))).next((a=>(L("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a)))).next((()=>o.size))}))))}re(e,t){let r=e;return t.changes.forEach(((i,s)=>{const o=Yy(s);gd(o,r)>0&&(r=o)})),new kt(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}wt.oe=-1;function Uo(n){return n==null}function wo(n){return n===0&&1/n==-1/0}function ev(n){return typeof n=="number"&&Number.isInteger(n)&&!wo(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=cf(e)),e=OE(n.get(t),e);return cf(e)}function OE(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case"":t+="";break;default:t+=s}}return t}function cf(n){return n+""}function Kt(n){const e=n.length;if($(e>=2),e===2)return $(n.charAt(0)===""&&n.charAt(1)===""),se.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const o=n.indexOf("",s);switch((o<0||o>t)&&W(),n.charAt(o+1)){case"":const a=n.substring(s,o);let c;i.length===0?c=a:(i+=a,c=i,i=""),r.push(c);break;case"":i+=n.substring(s,o),i+="\0";break;case"":i+=n.substring(s,o+1);break;default:W()}s=o+2}return new se(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(n,e){return[n,mt(e)]}function tv(n,e,t){return[n,mt(e),t]}const LE={},FE=["prefixPath","collectionGroup","readTime","documentId"],ME=["prefixPath","collectionGroup","documentId"],jE=["collectionGroup","readTime","prefixPath","documentId"],UE=["canonicalId","targetId"],zE=["targetId","path"],BE=["path","targetId"],qE=["collectionId","parent"],HE=["indexId","uid"],GE=["uid","sequenceNumber"],WE=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],$E=["indexId","uid","orderedDocumentKey"],KE=["userId","collectionPath","documentId"],QE=["userId","collectionPath","largestBatchId"],YE=["userId","collectionGroup","largestBatchId"],nv=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],JE=[...nv,"documentOverlays"],rv=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],iv=rv,vd=[...iv,"indexConfiguration","indexState","indexEntries"],XE=vd,ZE=[...vd,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends Xy{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function $e(n,e){const t=B(n);return Yt.F(t._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ei(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function sv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e,t){this.comparator=e,this.root=t||Ze.EMPTY}insert(e,t){return new ye(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(e){return new ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xa(this.root,e,this.comparator,!1)}getReverseIterator(){return new xa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xa(this.root,e,this.comparator,!0)}}class xa{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ze{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Ze.RED,this.left=i??Ze.EMPTY,this.right=s??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Ze(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Ze.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw W();const e=this.left.check();if(e!==this.right.check())throw W();return e+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw W()}get value(){throw W()}get color(){throw W()}get left(){throw W()}get right(){throw W()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Ze(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.comparator=e,this.data=new ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new hf(this.data.getIterator())}getIteratorFrom(e){return new hf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof pe)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new pe(this.comparator);return t.data=e,t}}class hf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function gi(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.fields=e,e.sort(xe.comparator)}static empty(){return new bt([])}unionWith(e){let t=new pe(xe.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new bt(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ji(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ov("Invalid base64 string: "+s):s}})(e);return new Ve(t)}static fromUint8Array(e){const t=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(e);return new Ve(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ve.EMPTY_BYTE_STRING=new Ve("");const tP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wn(n){if($(!!n),typeof n=="string"){let e=0;const t=tP.exec(n);if($(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:be(n.seconds),nanos:be(n.nanos)}}function be(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Yn(n){return typeof n=="string"?Ve.fromBase64String(n):Ve.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function _d(n){const e=n.mapValue.fields.__previous_value__;return Dl(e)?_d(e):e}function bo(n){const e=wn(n.mapValue.fields.__local_write_time__.timestampValue);return new Te(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,t,r,i,s,o,a,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class Jn{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Jn("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Jn&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ja={nullValue:"NULL_VALUE"};function jr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Dl(n)?4:av(n)?9007199254740991:Nl(n)?10:11:W()}function tn(n,e){if(n===e)return!0;const t=jr(n);if(t!==jr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return bo(n).isEqual(bo(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=wn(i.timestampValue),a=wn(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,s){return Yn(i.bytesValue).isEqual(Yn(s.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,s){return be(i.geoPointValue.latitude)===be(s.geoPointValue.latitude)&&be(i.geoPointValue.longitude)===be(s.geoPointValue.longitude)})(n,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return be(i.integerValue)===be(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=be(i.doubleValue),a=be(s.doubleValue);return o===a?wo(o)===wo(a):isNaN(o)&&isNaN(a)}return!1})(n,e);case 9:return ji(n.arrayValue.values||[],e.arrayValue.values||[],tn);case 10:case 11:return(function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(df(o)!==df(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!tn(o[c],a[c])))return!1;return!0})(n,e);default:return W()}}function xo(n,e){return(n.values||[]).find((t=>tn(t,e)))!==void 0}function Xn(n,e){if(n===e)return 0;const t=jr(n),r=jr(e);if(t!==r)return te(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return te(n.booleanValue,e.booleanValue);case 2:return(function(s,o){const a=be(s.integerValue||s.doubleValue),c=be(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1})(n,e);case 3:return pf(n.timestampValue,e.timestampValue);case 4:return pf(bo(n),bo(e));case 5:return te(n.stringValue,e.stringValue);case 6:return(function(s,o){const a=Yn(s),c=Yn(o);return a.compareTo(c)})(n.bytesValue,e.bytesValue);case 7:return(function(s,o){const a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const p=te(a[u],c[u]);if(p!==0)return p}return te(a.length,c.length)})(n.referenceValue,e.referenceValue);case 8:return(function(s,o){const a=te(be(s.latitude),be(o.latitude));return a!==0?a:te(be(s.longitude),be(o.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return ff(n.arrayValue,e.arrayValue);case 10:return(function(s,o){var a,c,u,p;const m=s.fields||{},g=o.fields||{},b=(a=m.value)===null||a===void 0?void 0:a.arrayValue,A=(c=g.value)===null||c===void 0?void 0:c.arrayValue,S=te(((u=b?.values)===null||u===void 0?void 0:u.length)||0,((p=A?.values)===null||p===void 0?void 0:p.length)||0);return S!==0?S:ff(b,A)})(n.mapValue,e.mapValue);case 11:return(function(s,o){if(s===qn.mapValue&&o===qn.mapValue)return 0;if(s===qn.mapValue)return 1;if(o===qn.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),u=o.fields||{},p=Object.keys(u);c.sort(),p.sort();for(let m=0;m<c.length&&m<p.length;++m){const g=te(c[m],p[m]);if(g!==0)return g;const b=Xn(a[c[m]],u[p[m]]);if(b!==0)return b}return te(c.length,p.length)})(n.mapValue,e.mapValue);default:throw W()}}function pf(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return te(n,e);const t=wn(n),r=wn(e),i=te(t.seconds,r.seconds);return i!==0?i:te(t.nanos,r.nanos)}function ff(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=Xn(t[i],r[i]);if(s)return s}return te(t.length,r.length)}function Ui(n){return lu(n)}function lu(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=wn(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Yn(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return z.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=lu(s);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${lu(t.fields[o])}`;return i+"}"})(n.mapValue):W()}function Ur(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function cu(n){return!!n&&"integerValue"in n}function Io(n){return!!n&&"arrayValue"in n}function mf(n){return!!n&&"nullValue"in n}function gf(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ua(n){return!!n&&"mapValue"in n}function Nl(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function eo(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ei(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=eo(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=eo(n.arrayValue.values[t]);return e}return Object.assign({},n)}function av(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const lv={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function rP(n){return"nullValue"in n?ja:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ur(Jn.empty(),z.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Nl(n)?lv:{mapValue:{}}:W()}function iP(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ur(Jn.empty(),z.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?lv:"mapValue"in n?Nl(n)?{mapValue:{}}:qn:W()}function yf(n,e){const t=Xn(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function vf(n,e){const t=Xn(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.value=e}static empty(){return new et({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ua(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=eo(t)}setAll(e){let t=xe.emptyPath(),r={},i=[];e.forEach(((o,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=eo(o):i.push(a.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Ua(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return tn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Ua(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ei(t,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new et(eo(this.value))}}function cv(n){const e=[];return ei(n.fields,((t,r)=>{const i=new xe([t]);if(Ua(r)){const s=cv(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)})),new bt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new _e(e,0,Q.min(),Q.min(),Q.min(),et.empty(),0)}static newFoundDocument(e,t,r,i){return new _e(e,1,t,Q.min(),r,i,0)}static newNoDocument(e,t){return new _e(e,2,t,Q.min(),Q.min(),et.empty(),0)}static newUnknownDocument(e,t){return new _e(e,3,t,Q.min(),Q.min(),et.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Q.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=et.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=et.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _e&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,t){this.position=e,this.inclusive=t}}function _f(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(s.field.isKeyField()?r=z.comparator(z.fromName(o.referenceValue),t.key):r=Xn(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function wf(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!tn(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,t="asc"){this.field=e,this.dir=t}}function sP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{}class oe extends uv{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new oP(e,t,r):t==="array-contains"?new cP(e,r):t==="in"?new gv(e,r):t==="not-in"?new uP(e,r):t==="array-contains-any"?new dP(e,r):new oe(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new aP(e,r):new lP(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Xn(t,this.value)):t!==null&&jr(this.value)===jr(t)&&this.matchesComparison(Xn(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return W()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class he extends uv{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new he(e,t)}matches(e){return zi(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function zi(n){return n.op==="and"}function uu(n){return n.op==="or"}function wd(n){return dv(n)&&zi(n)}function dv(n){for(const e of n.filters)if(e instanceof he)return!1;return!0}function du(n){if(n instanceof oe)return n.field.canonicalString()+n.op.toString()+Ui(n.value);if(wd(n))return n.filters.map((e=>du(e))).join(",");{const e=n.filters.map((t=>du(t))).join(",");return`${n.op}(${e})`}}function hv(n,e){return n instanceof oe?(function(r,i){return i instanceof oe&&r.op===i.op&&r.field.isEqual(i.field)&&tn(r.value,i.value)})(n,e):n instanceof he?(function(r,i){return i instanceof he&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,o,a)=>s&&hv(o,i.filters[a])),!0):!1})(n,e):void W()}function pv(n,e){const t=n.filters.concat(e);return he.create(t,n.op)}function fv(n){return n instanceof oe?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ui(t.value)}`})(n):n instanceof he?(function(t){return t.op.toString()+" {"+t.getFilters().map(fv).join(" ,")+"}"})(n):"Filter"}class oP extends oe{constructor(e,t,r){super(e,t,r),this.key=z.fromName(r.referenceValue)}matches(e){const t=z.comparator(e.key,this.key);return this.matchesComparison(t)}}class aP extends oe{constructor(e,t){super(e,"in",t),this.keys=mv("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class lP extends oe{constructor(e,t){super(e,"not-in",t),this.keys=mv("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function mv(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((r=>z.fromName(r.referenceValue)))}class cP extends oe{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Io(t)&&xo(t.arrayValue,this.value)}}class gv extends oe{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&xo(this.value.arrayValue,t)}}class uP extends oe{constructor(e,t){super(e,"not-in",t)}matches(e){if(xo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!xo(this.value.arrayValue,t)}}class dP extends oe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Io(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>xo(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function hu(n,e=null,t=[],r=[],i=null,s=null,o=null){return new hP(n,e,t,r,i,s,o)}function zr(n){const e=B(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>du(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Uo(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Ui(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Ui(r))).join(",")),e.ue=t}return e.ue}function zo(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!sP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!hv(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!wf(n.startAt,e.startAt)&&wf(n.endAt,e.endAt)}function el(n){return z.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function tl(n,e){return n.filters.filter((t=>t instanceof oe&&t.field.isEqual(e)))}function bf(n,e,t){let r=ja,i=!0;for(const s of tl(n,e)){let o=ja,a=!0;switch(s.op){case"<":case"<=":o=rP(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=ja}yf({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];yf({value:r,inclusive:i},{value:o,inclusive:t.inclusive})<0&&(r=o,i=t.inclusive);break}}return{value:r,inclusive:i}}function xf(n,e,t){let r=qn,i=!0;for(const s of tl(n,e)){let o=qn,a=!0;switch(s.op){case">=":case">":o=iP(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=qn}vf({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];vf({value:r,inclusive:i},{value:o,inclusive:t.inclusive})>0&&(r=o,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function yv(n,e,t,r,i,s,o,a){return new En(n,e,t,r,i,s,o,a)}function ss(n){return new En(n)}function If(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function bd(n){return n.collectionGroup!==null}function Si(n){const e=B(n);if(e.ce===null){e.ce=[];const t=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new pe(xe.comparator);return o.filters.forEach((c=>{c.getFlattenedFilters().forEach((u=>{u.isInequality()&&(a=a.add(u.field))}))})),a})(e).forEach((s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new To(s,r))})),t.has(xe.keyField().canonicalString())||e.ce.push(new To(xe.keyField(),r))}return e.ce}function gt(n){const e=B(n);return e.le||(e.le=pP(e,Si(n))),e.le}function pP(n,e){if(n.limitType==="F")return hu(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new To(i.field,s)}));const t=n.endAt?new Zn(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Zn(n.startAt.position,n.startAt.inclusive):null;return hu(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function pu(n,e){const t=n.filters.concat([e]);return new En(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function nl(n,e,t){return new En(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Bo(n,e){return zo(gt(n),gt(e))&&n.limitType===e.limitType}function vv(n){return`${zr(gt(n))}|lt:${n.limitType}`}function xi(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((i=>fv(i))).join(", ")}]`),Uo(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((i=>Ui(i))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((i=>Ui(i))).join(",")),`Target(${r})`})(gt(n))}; limitType=${n.limitType})`}function qo(n,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):z.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(n,e)&&(function(r,i){for(const s of Si(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(o,a,c){const u=_f(o,a,c);return o.inclusive?u<=0:u<0})(r.startAt,Si(r),i)||r.endAt&&!(function(o,a,c){const u=_f(o,a,c);return o.inclusive?u>=0:u>0})(r.endAt,Si(r),i))})(n,e)}function _v(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function wv(n){return(e,t)=>{let r=!1;for(const i of Si(n)){const s=fP(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function fP(n,e,t){const r=n.field.isKeyField()?z.comparator(e.key,t.key):(function(s,o,a){const c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Xn(c,u):W()})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return W()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ei(this.inner,((t,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return sv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=new ye(z.comparator);function xt(){return mP}const bv=new ye(z.comparator);function Ws(...n){let e=bv;for(const t of n)e=e.insert(t.key,t);return e}function xv(n){let e=bv;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Qt(){return to()}function Iv(){return to()}function to(){return new ar((n=>n.toString()),((n,e)=>n.isEqual(e)))}const gP=new ye(z.comparator),yP=new pe(z.comparator);function ne(...n){let e=yP;for(const t of n)e=e.add(t);return e}const vP=new pe(te);function xd(){return vP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wo(e)?"-0":e}}function Tv(n){return{integerValue:""+n}}function Ev(n,e){return ev(e)?Tv(e):Id(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(){this._=void 0}}function _P(n,e,t){return n instanceof Bi?(function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Dl(s)&&(s=_d(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}})(t,e):n instanceof Br?Av(n,e):n instanceof qr?kv(n,e):(function(i,s){const o=Pv(i,s),a=Tf(o)+Tf(i.Pe);return cu(o)&&cu(i.Pe)?Tv(a):Id(i.serializer,a)})(n,e)}function wP(n,e,t){return n instanceof Br?Av(n,e):n instanceof qr?kv(n,e):t}function Pv(n,e){return n instanceof qi?(function(r){return cu(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class Bi extends Vl{}class Br extends Vl{constructor(e){super(),this.elements=e}}function Av(n,e){const t=Rv(e);for(const r of n.elements)t.some((i=>tn(i,r)))||t.push(r);return{arrayValue:{values:t}}}class qr extends Vl{constructor(e){super(),this.elements=e}}function kv(n,e){let t=Rv(e);for(const r of n.elements)t=t.filter((i=>!tn(i,r)));return{arrayValue:{values:t}}}class qi extends Vl{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Tf(n){return be(n.integerValue||n.doubleValue)}function Rv(n){return Io(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,t){this.field=e,this.transform=t}}function bP(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Br&&i instanceof Br||r instanceof qr&&i instanceof qr?ji(r.elements,i.elements,tn):r instanceof qi&&i instanceof qi?tn(r.Pe,i.Pe):r instanceof Bi&&i instanceof Bi})(n.transform,e.transform)}class xP{constructor(e,t){this.version=e,this.transformResults=t}}class Ie{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ie}static exists(e){return new Ie(void 0,e)}static updateTime(e){return new Ie(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function za(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Ol{}function Cv(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new as(n.key,Ie.none()):new os(n.key,n.data,Ie.none());{const t=n.data,r=et.empty();let i=new pe(xe.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Pn(n.key,r,new bt(i.toArray()),Ie.none())}}function IP(n,e,t){n instanceof os?(function(i,s,o){const a=i.value.clone(),c=Pf(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()})(n,e,t):n instanceof Pn?(function(i,s,o){if(!za(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Pf(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(Sv(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(n,e,t):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,t)}function no(n,e,t,r){return n instanceof os?(function(s,o,a,c){if(!za(s.precondition,o))return a;const u=s.value.clone(),p=Af(s.fieldTransforms,c,o);return u.setAll(p),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null})(n,e,t,r):n instanceof Pn?(function(s,o,a,c){if(!za(s.precondition,o))return a;const u=Af(s.fieldTransforms,c,o),p=o.data;return p.setAll(Sv(s)),p.setAll(u),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((m=>m.field)))})(n,e,t,r):(function(s,o,a){return za(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a})(n,e,t)}function TP(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=Pv(r.transform,i||null);s!=null&&(t===null&&(t=et.empty()),t.set(r.field,s))}return t||null}function Ef(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ji(r,i,((s,o)=>bP(s,o)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class os extends Ol{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Pn extends Ol{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Sv(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function Pf(n,e,t){const r=new Map;$(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,wP(o,a,t[i]))}return r}function Af(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,_P(s,o,e))}return r}class as extends Ol{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Td extends Ol{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&IP(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=no(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=no(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Iv();return this.mutations.forEach((i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const c=Cv(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Q.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ne())}isEqual(e){return this.batchId===e.batchId&&ji(this.mutations,e.mutations,((t,r)=>Ef(t,r)))&&ji(this.baseMutations,e.baseMutations,((t,r)=>Ef(t,r)))}}class Pd{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){$(e.mutations.length===r.length);let i=(function(){return gP})();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Pd(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe,ce;function Dv(n){switch(n){default:return W();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function Nv(n){if(n===void 0)return Me("GRPC error has no .code"),D.UNKNOWN;switch(n){case qe.OK:return D.OK;case qe.CANCELLED:return D.CANCELLED;case qe.UNKNOWN:return D.UNKNOWN;case qe.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case qe.INTERNAL:return D.INTERNAL;case qe.UNAVAILABLE:return D.UNAVAILABLE;case qe.UNAUTHENTICATED:return D.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case qe.NOT_FOUND:return D.NOT_FOUND;case qe.ALREADY_EXISTS:return D.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return D.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case qe.ABORTED:return D.ABORTED;case qe.OUT_OF_RANGE:return D.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return D.UNIMPLEMENTED;case qe.DATA_LOSS:return D.DATA_LOSS;default:return W()}}(ce=qe||(qe={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=new Vr([4294967295,4294967295],0);function kf(n){const e=Vv().encode(n),t=new Uy;return t.update(e),new Uint8Array(t.digest())}function Rf(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Vr([t,r],0),new Vr([i,s],0)]}class kd{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new $s(`Invalid padding: ${t}`);if(r<0)throw new $s(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $s(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new $s(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Vr.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Vr.fromNumber(r)));return i.compare(PP)===1&&(i=new Vr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=kf(e),[r,i]=Rf(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new kd(s,i,t);return r.forEach((a=>o.insert(a))),o}insert(e){if(this.Ie===0)return;const t=kf(e),[r,i]=Rf(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class $s extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Wo.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Go(Q.min(),i,new ye(te),xt(),ne())}}class Wo{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Wo(r,t,ne(),ne(),ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class Ov{constructor(e,t){this.targetId=e,this.me=t}}class Lv{constructor(e,t,r=Ve.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Cf{constructor(){this.fe=0,this.ge=Df(),this.pe=Ve.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ne(),t=ne(),r=ne();return this.ge.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:W()}})),new Wo(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=Df()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,$(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class AP{constructor(e){this.Le=e,this.Be=new Map,this.ke=xt(),this.qe=Sf(),this.Qe=new ye(te)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:W()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((r,i)=>{this.ze(i)&&t(i)}))}He(e){const t=e.targetId,r=e.me.count,i=this.Je(t);if(i){const s=i.target;if(el(s))if(r===0){const o=new z(s.path);this.Ue(t,o,_e.newNoDocument(o,Q.min()))}else $(r===1);else{const o=this.Ye(t);if(o!==r){const a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(t);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,u)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=Yn(r).toUint8Array()}catch(c){if(c instanceof ov)return en("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new kd(o,i,s)}catch(c){return en(c instanceof $s?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach((s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),i++)})),i}rt(e){const t=new Map;this.Be.forEach(((s,o)=>{const a=this.Je(o);if(a){if(s.current&&el(a.target)){const c=new z(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,_e.newNoDocument(c,e))}s.be&&(t.set(o,s.ve()),s.Ce())}}));let r=ne();this.qe.forEach(((s,o)=>{let a=!0;o.forEachWhile((c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)})),a&&(r=r.add(s))})),this.ke.forEach(((s,o)=>o.setReadTime(e)));const i=new Go(e,t,this.Qe,this.ke,r);return this.ke=xt(),this.qe=Sf(),this.Qe=new ye(te),i}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Cf,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new pe(te),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||L("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Cf),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Sf(){return new ye(z.comparator)}function Df(){return new ye(z.comparator)}const kP={asc:"ASCENDING",desc:"DESCENDING"},RP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CP={and:"AND",or:"OR"};class SP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function fu(n,e){return n.useProto3Json||Uo(e)?e:{value:e}}function Hi(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fv(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function DP(n,e){return Hi(n,e.toTimestamp())}function Ue(n){return $(!!n),Q.fromTimestamp((function(t){const r=wn(t);return new Te(r.seconds,r.nanos)})(n))}function Rd(n,e){return mu(n,e).canonicalString()}function mu(n,e){const t=(function(i){return new se(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Mv(n){const e=se.fromString(n);return $(Kv(e)),e}function Eo(n,e){return Rd(n.databaseId,e.path)}function Jt(n,e){const t=Mv(e);if(t.get(1)!==n.databaseId.projectId)throw new O(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new O(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new z(zv(t))}function jv(n,e){return Rd(n.databaseId,e)}function Uv(n){const e=Mv(n);return e.length===4?se.emptyPath():zv(e)}function gu(n){return new se(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function zv(n){return $(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Nf(n,e,t){return{name:Eo(n,e),fields:t.value.mapValue.fields}}function Bv(n,e,t){const r=Jt(n,e.name),i=Ue(e.updateTime),s=e.createTime?Ue(e.createTime):Q.min(),o=new et({mapValue:{fields:e.fields}}),a=_e.newFoundDocument(r,i,s,o);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function NP(n,e){return"found"in e?(function(r,i){$(!!i.found),i.found.name,i.found.updateTime;const s=Jt(r,i.found.name),o=Ue(i.found.updateTime),a=i.found.createTime?Ue(i.found.createTime):Q.min(),c=new et({mapValue:{fields:i.found.fields}});return _e.newFoundDocument(s,o,a,c)})(n,e):"missing"in e?(function(r,i){$(!!i.missing),$(!!i.readTime);const s=Jt(r,i.missing),o=Ue(i.readTime);return _e.newNoDocument(s,o)})(n,e):W()}function VP(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:W()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(u,p){return u.useProto3Json?($(p===void 0||typeof p=="string"),Ve.fromBase64String(p||"")):($(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Ve.fromUint8Array(p||new Uint8Array))})(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&(function(u){const p=u.code===void 0?D.UNKNOWN:Nv(u.code);return new O(p,u.message||"")})(o);t=new Lv(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Jt(n,r.document.name),s=Ue(r.document.updateTime),o=r.document.createTime?Ue(r.document.createTime):Q.min(),a=new et({mapValue:{fields:r.document.fields}}),c=_e.newFoundDocument(i,s,o,a),u=r.targetIds||[],p=r.removedTargetIds||[];t=new Ba(u,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Jt(n,r.document),s=r.readTime?Ue(r.readTime):Q.min(),o=_e.newNoDocument(i,s),a=r.removedTargetIds||[];t=new Ba([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Jt(n,r.document),s=r.removedTargetIds||[];t=new Ba([],s,i,null)}else{if(!("filter"in e))return W();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new EP(i,s),a=r.targetId;t=new Ov(a,o)}}return t}function Po(n,e){let t;if(e instanceof os)t={update:Nf(n,e.key,e.value)};else if(e instanceof as)t={delete:Eo(n,e.key)};else if(e instanceof Pn)t={update:Nf(n,e.key,e.data),updateMask:UP(e.fieldMask)};else{if(!(e instanceof Td))return W();t={verify:Eo(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(s,o){const a=o.transform;if(a instanceof Bi)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Br)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof qr)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof qi)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw W()})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:DP(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:W()})(n,e.precondition)),t}function yu(n,e){const t=e.currentDocument?(function(s){return s.updateTime!==void 0?Ie.updateTime(Ue(s.updateTime)):s.exists!==void 0?Ie.exists(s.exists):Ie.none()})(e.currentDocument):Ie.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(o,a){let c=null;if("setToServerValue"in a)$(a.setToServerValue==="REQUEST_TIME"),c=new Bi;else if("appendMissingElements"in a){const p=a.appendMissingElements.values||[];c=new Br(p)}else if("removeAllFromArray"in a){const p=a.removeAllFromArray.values||[];c=new qr(p)}else"increment"in a?c=new qi(o,a.increment):W();const u=xe.fromServerFormat(a.fieldPath);return new Ho(u,c)})(n,i))):[];if(e.update){e.update.name;const i=Jt(n,e.update.name),s=new et({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=(function(c){const u=c.fieldPaths||[];return new bt(u.map((p=>xe.fromServerFormat(p))))})(e.updateMask);return new Pn(i,s,o,t,r)}return new os(i,s,t,r)}if(e.delete){const i=Jt(n,e.delete);return new as(i,t)}if(e.verify){const i=Jt(n,e.verify);return new Td(i,t)}return W()}function OP(n,e){return n&&n.length>0?($(e!==void 0),n.map((t=>(function(i,s){let o=i.updateTime?Ue(i.updateTime):Ue(s);return o.isEqual(Q.min())&&(o=Ue(s)),new xP(o,i.transformResults||[])})(t,e)))):[]}function qv(n,e){return{documents:[jv(n,e.path)]}}function Hv(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=jv(n,i);const s=(function(u){if(u.length!==0)return $v(he.create(u,"and"))})(e.filters);s&&(t.structuredQuery.where=s);const o=(function(u){if(u.length!==0)return u.map((p=>(function(g){return{field:Ii(g.field),direction:FP(g.dir)}})(p)))})(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=fu(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{_t:t,parent:i}}function Gv(n){let e=Uv(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){$(r===1);const p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];t.where&&(s=(function(m){const g=Wv(m);return g instanceof he&&wd(g)?g.getFilters():[g]})(t.where));let o=[];t.orderBy&&(o=(function(m){return m.map((g=>(function(A){return new To(Ti(A.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(g)))})(t.orderBy));let a=null;t.limit&&(a=(function(m){let g;return g=typeof m=="object"?m.value:m,Uo(g)?null:g})(t.limit));let c=null;t.startAt&&(c=(function(m){const g=!!m.before,b=m.values||[];return new Zn(b,g)})(t.startAt));let u=null;return t.endAt&&(u=(function(m){const g=!m.before,b=m.values||[];return new Zn(b,g)})(t.endAt)),yv(e,i,o,s,a,"F",c,u)}function LP(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W()}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Wv(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ti(t.unaryFilter.field);return oe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ti(t.unaryFilter.field);return oe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ti(t.unaryFilter.field);return oe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ti(t.unaryFilter.field);return oe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return W()}})(n):n.fieldFilter!==void 0?(function(t){return oe.create(Ti(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return W()}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return he.create(t.compositeFilter.filters.map((r=>Wv(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return W()}})(t.compositeFilter.op))})(n):W()}function FP(n){return kP[n]}function MP(n){return RP[n]}function jP(n){return CP[n]}function Ii(n){return{fieldPath:n.canonicalString()}}function Ti(n){return xe.fromServerFormat(n.fieldPath)}function $v(n){return n instanceof oe?(function(t){if(t.op==="=="){if(gf(t.value))return{unaryFilter:{field:Ii(t.field),op:"IS_NAN"}};if(mf(t.value))return{unaryFilter:{field:Ii(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(gf(t.value))return{unaryFilter:{field:Ii(t.field),op:"IS_NOT_NAN"}};if(mf(t.value))return{unaryFilter:{field:Ii(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ii(t.field),op:MP(t.op),value:t.value}}})(n):n instanceof he?(function(t){const r=t.getFilters().map((i=>$v(i)));return r.length===1?r[0]:{compositeFilter:{op:jP(t.op),filters:r}}})(n):W()}function UP(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Kv(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,t,r,i,s=Q.min(),o=Q.min(),a=Ve.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new fn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new fn(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e){this.ct=e}}function zP(n,e){let t;if(e.document)t=Bv(n.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=z.fromSegments(e.noDocument.path),i=Gr(e.noDocument.readTime);t=_e.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return W();{const r=z.fromSegments(e.unknownDocument.path),i=Gr(e.unknownDocument.version);t=_e.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime((function(i){const s=new Te(i[0],i[1]);return Q.fromTimestamp(s)})(e.readTime)),t}function Vf(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:rl(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,o){return{name:Eo(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Hi(s,o.version.toTimestamp()),createTime:Hi(s,o.createTime.toTimestamp())}})(n.ct,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Hr(e.version)};else{if(!e.isUnknownDocument())return W();r.unknownDocument={path:t.path.toArray(),version:Hr(e.version)}}return r}function rl(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Hr(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Gr(n){const e=new Te(n.seconds,n.nanoseconds);return Q.fromTimestamp(e)}function Ir(n,e){const t=(e.baseMutations||[]).map((s=>yu(n.ct,s)));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map((s=>yu(n.ct,s))),i=Te.fromMillis(e.localWriteTimeMs);return new Ed(e.batchId,i,t,r)}function Ks(n){const e=Gr(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Gr(n.lastLimboFreeSnapshotVersion):Q.min();let r;return r=(function(s){return s.documents!==void 0})(n.query)?(function(s){return $(s.documents.length===1),gt(ss(Uv(s.documents[0])))})(n.query):(function(s){return gt(Gv(s))})(n.query),new fn(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ve.fromBase64String(n.resumeToken))}function Yv(n,e){const t=Hr(e.snapshotVersion),r=Hr(e.lastLimboFreeSnapshotVersion);let i;i=el(e.target)?qv(n.ct,e.target):Hv(n.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:zr(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Cd(n){const e=Gv({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?nl(e,e.limit,"L"):e}function Sc(n,e){return new Ad(e.largestBatchId,yu(n.ct,e.overlayMutation))}function Of(n,e){const t=e.path.lastSegment();return[n,mt(e.path.popLast()),t]}function Lf(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Hr(r.readTime),documentKey:mt(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{getBundleMetadata(e,t){return Ff(e).get(t).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:Gr(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,t){return Ff(e).put((function(i){return{bundleId:i.id,createTime:Hr(Ue(i.createTime)),version:i.version}})(t))}getNamedQuery(e,t){return Mf(e).get(t).next((r=>{if(r)return(function(s){return{name:s.name,query:Cd(s.bundledQuery),readTime:Gr(s.readTime)}})(r)}))}saveNamedQuery(e,t){return Mf(e).put((function(i){return{name:i.name,readTime:Hr(Ue(i.readTime)),bundledQuery:i.bundledQuery}})(t))}}function Ff(n){return $e(n,"bundles")}function Mf(n){return $e(n,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const r=t.uid||"";return new Ll(e,r)}getOverlay(e,t){return Ls(e).get(Of(this.userId,t)).next((r=>r?Sc(this.serializer,r):null))}getOverlays(e,t){const r=Qt();return C.forEach(t,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,t,r){const i=[];return r.forEach(((s,o)=>{const a=new Ad(t,o);i.push(this.ht(e,a))})),C.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach((o=>i.add(mt(o.getCollectionPath()))));const s=[];return i.forEach((o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Ls(e).j("collectionPathOverlayIndex",a))})),C.waitFor(s)}getOverlaysForCollection(e,t,r){const i=Qt(),s=mt(t),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Ls(e).U("collectionPathOverlayIndex",o).next((a=>{for(const c of a){const u=Sc(this.serializer,c);i.set(u.getKey(),u)}return i}))}getOverlaysForCollectionGroup(e,t,r,i){const s=Qt();let o;const a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ls(e).J({index:"collectionGroupOverlayIndex",range:a},((c,u,p)=>{const m=Sc(this.serializer,u);s.size()<i||m.largestBatchId===o?(s.set(m.getKey(),m),o=m.largestBatchId):p.done()})).next((()=>s))}ht(e,t){return Ls(e).put((function(i,s,o){const[a,c,u]=Of(s,o.mutation.key);return{userId:s,collectionPath:c,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Po(i.ct,o.mutation)}})(this.serializer,this.userId,t))}}function Ls(n){return $e(n,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{Pt(e){return $e(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next((t=>{const r=t?.value;return r?Ve.fromUint8Array(r):Ve.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.Pt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(be(e.integerValue));else if("doubleValue"in e){const r=be(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),wo(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=wn(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Yn(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?av(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Nl(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):W()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const r=e.fields||{};this.dt(t,55);for(const i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;const s=e.fields||{};this.dt(t,53);const o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(be(a)),this.Vt(o,t),this.Tt(s[o],t)}bt(e,t){const r=e.values||[];this.dt(t,50);for(const i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),z.fromName(e).path.forEach((r=>{this.dt(t,60),this.Dt(r,t)}))}dt(e,t){e.At(t)}ft(e){e.At(2)}}Tr.vt=new Tr;function HP(n){if(n===0)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function jf(n){const e=64-(function(r){let i=0;for(let s=0;s<8;++s){const o=HP(255&r[s]);if(i+=o,o!==8)break}return i})(n);return Math.ceil(e/8)}class GP{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ft(r.value),r=t.next();this.Mt()}xt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ot(r.value),r=t.next();this.Nt()}Lt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=t.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=t.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const t=this.qt(e),r=jf(t);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Kt(e){const t=this.qt(e),r=jf(t);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const t=(function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)})(e),r=(128&t[0])!=0;t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ft(e){const t=255&e;t===0?(this.Ut(0),this.Ut(255)):t===255?(this.Ut(255),this.Ut(0)):this.Ut(t)}Ot(e){const t=255&e;t===0?(this.Gt(0),this.Gt(255)):t===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class WP{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class $P{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Fs{constructor(){this.jt=new GP,this.Ht=new WP(this.jt),this.Jt=new $P(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Er(this.indexId,this.documentKey,this.arrayValue,r)}}function Ln(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=Uf(n.arrayValue,e.arrayValue),t!==0?t:(t=Uf(n.directionalValue,e.directionalValue),t!==0?t:z.comparator(n.documentKey,e.documentKey)))}function Uf(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e){this.Xt=new pe(((t,r)=>xe.comparator(t.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const t of e.filters){const r=t;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if($(e.collectionGroup===this.collectionId),this.nn)return!1;const t=ou(e);if(t!==void 0&&!this.sn(t))return!1;const r=br(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.sn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Xt.size>0){const a=this.Xt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const c=r[s];if(!this.on(a,c)||!this._n(this.en[o++],c))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.en.length||!this._n(this.en[o++],a))return!1}return!0}an(){if(this.nn)return null;let e=new pe(xe.comparator);const t=[];for(const r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new Fa(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Fa(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Fa(r.field,r.dir==="asc"?0:1)));return new Za(Za.UNKNOWN_ID,this.collectionId,t,_o.empty())}sn(e){for(const t of this.tn)if(this.on(t,e))return!0;return!1}on(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}_n(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(n){var e,t;if($(n instanceof oe||n instanceof he),n instanceof oe){if(n instanceof gv){const i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map((s=>oe.create(n.field,"==",s))))||[];return he.create(i,"or")}return n}const r=n.filters.map((i=>Jv(i)));return he.create(r,n.op)}function KP(n){if(n.getFilters().length===0)return[];const e=wu(Jv(n));return $(Xv(e)),vu(e)||_u(e)?[e]:e.getFilters()}function vu(n){return n instanceof oe}function _u(n){return n instanceof he&&wd(n)}function Xv(n){return vu(n)||_u(n)||(function(t){if(t instanceof he&&uu(t)){for(const r of t.getFilters())if(!vu(r)&&!_u(r))return!1;return!0}return!1})(n)}function wu(n){if($(n instanceof oe||n instanceof he),n instanceof oe)return n;if(n.filters.length===1)return wu(n.filters[0]);const e=n.filters.map((r=>wu(r)));let t=he.create(e,n.op);return t=il(t),Xv(t)?t:($(t instanceof he),$(zi(t)),$(t.filters.length>1),t.filters.reduce(((r,i)=>Sd(r,i))))}function Sd(n,e){let t;return $(n instanceof oe||n instanceof he),$(e instanceof oe||e instanceof he),t=n instanceof oe?e instanceof oe?(function(i,s){return he.create([i,s],"and")})(n,e):Bf(n,e):e instanceof oe?Bf(e,n):(function(i,s){if($(i.filters.length>0&&s.filters.length>0),zi(i)&&zi(s))return pv(i,s.getFilters());const o=uu(i)?i:s,a=uu(i)?s:i,c=o.filters.map((u=>Sd(u,a)));return he.create(c,"or")})(n,e),il(t)}function Bf(n,e){if(zi(e))return pv(e,n.getFilters());{const t=e.filters.map((r=>Sd(n,r)));return he.create(t,"or")}}function il(n){if($(n instanceof oe||n instanceof he),n instanceof oe)return n;const e=n.getFilters();if(e.length===1)return il(e[0]);if(dv(n))return n;const t=e.map((i=>il(i))),r=[];return t.forEach((i=>{i instanceof oe?r.push(i):i instanceof he&&(i.op===n.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:he.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(){this.un=new Dd}addToCollectionParentIndex(e,t){return this.un.add(t),C.resolve()}getCollectionParents(e,t){return C.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return C.resolve()}deleteFieldIndex(e,t){return C.resolve()}deleteAllFieldIndexes(e){return C.resolve()}createTargetIndexes(e,t){return C.resolve()}getDocumentsMatchingTarget(e,t){return C.resolve(null)}getIndexType(e,t){return C.resolve(0)}getFieldIndexes(e,t){return C.resolve([])}getNextCollectionGroupToUpdate(e){return C.resolve(null)}getMinOffset(e,t){return C.resolve(kt.min())}getMinOffsetFromCollectionGroup(e,t){return C.resolve(kt.min())}updateCollectionGroup(e,t,r){return C.resolve()}updateIndexEntries(e,t){return C.resolve()}}class Dd{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new pe(se.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new pe(se.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=new Uint8Array(0);class YP{constructor(e,t){this.databaseId=t,this.cn=new Dd,this.ln=new ar((r=>zr(r)),((r,i)=>zo(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.cn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((()=>{this.cn.add(t)}));const s={collectionId:r,parent:mt(i)};return qf(e).put(s)}return C.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Ky(t),""],!1,!0);return qf(e).U(i).next((s=>{for(const o of s){if(o.collectionId!==t)break;r.push(Kt(o.parent))}return r}))}addFieldIndex(e,t){const r=Ms(e),i=(function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map((c=>[c.fieldPath.canonicalString(),c.kind]))}})(t);delete i.indexId;const s=r.add(i);if(t.indexState){const o=vi(e);return s.next((a=>{o.put(Lf(a,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return s.next()}deleteFieldIndex(e,t){const r=Ms(e),i=vi(e),s=yi(e);return r.delete(t.indexId).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Ms(e),r=yi(e),i=vi(e);return t.j().next((()=>r.j())).next((()=>i.j()))}createTargetIndexes(e,t){return C.forEach(this.hn(t),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const s=new zf(r).an();if(s!=null)return this.addFieldIndex(e,s)}}))))}getDocumentsMatchingTarget(e,t){const r=yi(e);let i=!0;const s=new Map;return C.forEach(this.hn(t),(o=>this.Pn(e,o).next((a=>{i&&(i=!!a),s.set(o,a)})))).next((()=>{if(i){let o=ne();const a=[];return C.forEach(s,((c,u)=>{L("IndexedDbIndexManager",`Using index ${(function(V){return`id=${V.indexId}|cg=${V.collectionGroup}|f=${V.fields.map((H=>`${H.fieldPath}:${H.kind}`)).join(",")}`})(c)} to execute ${zr(t)}`);const p=(function(V,H){const J=ou(H);if(J===void 0)return null;for(const Y of tl(V,J.fieldPath))switch(Y.op){case"array-contains-any":return Y.value.arrayValue.values||[];case"array-contains":return[Y.value]}return null})(u,c),m=(function(V,H){const J=new Map;for(const Y of br(H))for(const w of tl(V,Y.fieldPath))switch(w.op){case"==":case"in":J.set(Y.fieldPath.canonicalString(),w.value);break;case"not-in":case"!=":return J.set(Y.fieldPath.canonicalString(),w.value),Array.from(J.values())}return null})(u,c),g=(function(V,H){const J=[];let Y=!0;for(const w of br(H)){const v=w.kind===0?bf(V,w.fieldPath,V.startAt):xf(V,w.fieldPath,V.startAt);J.push(v.value),Y&&(Y=v.inclusive)}return new Zn(J,Y)})(u,c),b=(function(V,H){const J=[];let Y=!0;for(const w of br(H)){const v=w.kind===0?xf(V,w.fieldPath,V.endAt):bf(V,w.fieldPath,V.endAt);J.push(v.value),Y&&(Y=v.inclusive)}return new Zn(J,Y)})(u,c),A=this.In(c,u,g),S=this.In(c,u,b),P=this.Tn(c,u,m),M=this.En(c.indexId,p,A,g.inclusive,S,b.inclusive,P);return C.forEach(M,(F=>r.G(F,t.limit).next((V=>{V.forEach((H=>{const J=z.fromSegments(H.documentKey);o.has(J)||(o=o.add(J),a.push(J))}))}))))})).next((()=>a))}return C.resolve(null)}))}hn(e){let t=this.ln.get(e);return t||(e.filters.length===0?t=[e]:t=KP(he.create(e.filters,"and")).map((r=>hu(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.ln.set(e,t),t)}En(e,t,r,i,s,o,a){const c=(t!=null?t.length:1)*Math.max(r.length,s.length),u=c/(t!=null?t.length:1),p=[];for(let m=0;m<c;++m){const g=t?this.dn(t[m/u]):Ia,b=this.An(e,g,r[m%u],i),A=this.Rn(e,g,s[m%u],o),S=a.map((P=>this.An(e,g,P,!0)));p.push(...this.createRange(b,A,S))}return p}An(e,t,r,i){const s=new Er(e,z.empty(),t,r);return i?s:s.Zt()}Rn(e,t,r,i){const s=new Er(e,z.empty(),t,r);return i?s.Zt():s}Pn(e,t){const r=new zf(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next((s=>{let o=null;for(const a of s)r.rn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o}))}getIndexType(e,t){let r=2;const i=this.hn(t);return C.forEach(i,(s=>this.Pn(e,s).next((o=>{o?r!==0&&o.fields.length<(function(c){let u=new pe(xe.comparator),p=!1;for(const m of c.filters)for(const g of m.getFlattenedFilters())g.field.isKeyField()||(g.op==="array-contains"||g.op==="array-contains-any"?p=!0:u=u.add(g.field));for(const m of c.orderBy)m.field.isKeyField()||(u=u.add(m.field));return u.size+(p?1:0)})(s)&&(r=1):r=0})))).next((()=>(function(o){return o.limit!==null})(t)&&i.length>1&&r===2?1:r))}Vn(e,t){const r=new Fs;for(const i of br(e)){const s=t.data.field(i.fieldPath);if(s==null)return null;const o=r.Yt(i.kind);Tr.vt.It(s,o)}return r.zt()}dn(e){const t=new Fs;return Tr.vt.It(e,t.Yt(0)),t.zt()}mn(e,t){const r=new Fs;return Tr.vt.It(Ur(this.databaseId,t),r.Yt((function(s){const o=br(s);return o.length===0?0:o[o.length-1].kind})(e))),r.zt()}Tn(e,t,r){if(r===null)return[];let i=[];i.push(new Fs);let s=0;for(const o of br(e)){const a=r[s++];for(const c of i)if(this.fn(t,o.fieldPath)&&Io(a))i=this.gn(i,o,a);else{const u=c.Yt(o.kind);Tr.vt.It(a,u)}}return this.pn(i)}In(e,t,r){return this.Tn(e,t,r.position)}pn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].zt();return t}gn(e,t,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const c=new Fs;c.seed(a.zt()),Tr.vt.It(o,c.Yt(t.kind)),s.push(c)}return s}fn(e,t){return!!e.filters.find((r=>r instanceof oe&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,t){const r=Ms(e),i=vi(e);return(t?r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.U()).next((s=>{const o=[];return C.forEach(s,(a=>i.get([a.indexId,this.uid]).next((c=>{o.push((function(p,m){const g=m?new _o(m.sequenceNumber,new kt(Gr(m.readTime),new z(Kt(m.documentKey)),m.largestBatchId)):_o.empty(),b=p.fields.map((([A,S])=>new Fa(xe.fromServerFormat(A),S)));return new Za(p.indexId,p.collectionGroup,b,g)})(a,c))})))).next((()=>o))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:te(r.collectionGroup,i.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,r){const i=Ms(e),s=vi(e);return this.yn(e).next((o=>i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((a=>C.forEach(a,(c=>s.put(Lf(c.indexId,this.uid,o,r))))))))}updateIndexEntries(e,t){const r=new Map;return C.forEach(t,((i,s)=>{const o=r.get(i.collectionGroup);return(o?C.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next((a=>(r.set(i.collectionGroup,a),C.forEach(a,(c=>this.wn(e,i,c).next((u=>{const p=this.Sn(s,c);return u.isEqual(p)?C.resolve():this.bn(e,s,c,u,p)})))))))}))}Dn(e,t,r,i){return yi(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,t.key),documentKey:t.key.path.toArray()})}vn(e,t,r,i){return yi(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=yi(e);let s=new pe(Ln);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,t)])},((o,a)=>{s=s.add(new Er(r.indexId,t,a.arrayValue,a.directionalValue))})).next((()=>s))}Sn(e,t){let r=new pe(Ln);const i=this.Vn(t,e);if(i==null)return r;const s=ou(t);if(s!=null){const o=e.data.field(s.fieldPath);if(Io(o))for(const a of o.arrayValue.values||[])r=r.add(new Er(t.indexId,e.key,this.dn(a),i))}else r=r.add(new Er(t.indexId,e.key,Ia,i));return r}bn(e,t,r,i,s){L("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return(function(c,u,p,m,g){const b=c.getIterator(),A=u.getIterator();let S=gi(b),P=gi(A);for(;S||P;){let M=!1,F=!1;if(S&&P){const V=p(S,P);V<0?F=!0:V>0&&(M=!0)}else S!=null?F=!0:M=!0;M?(m(P),P=gi(A)):F?(g(S),S=gi(b)):(S=gi(b),P=gi(A))}})(i,s,Ln,(a=>{o.push(this.Dn(e,t,r,a))}),(a=>{o.push(this.vn(e,t,r,a))})),C.waitFor(o)}yn(e){let t=1;return vi(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,s)=>{s.done(),t=i.sequenceNumber+1})).next((()=>t))}createRange(e,t,r){r=r.sort(((o,a)=>Ln(o,a))).filter(((o,a,c)=>!a||Ln(o,c[a-1])!==0));const i=[];i.push(e);for(const o of r){const a=Ln(o,e),c=Ln(o,t);if(a===0)i[0]=e.Zt();else if(a>0&&c<0)i.push(o),i.push(o.Zt());else if(c>0)break}i.push(t);const s=[];for(let o=0;o<i.length;o+=2){if(this.Cn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Ia,[]],c=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Ia,[]];s.push(IDBKeyRange.bound(a,c))}return s}Cn(e,t){return Ln(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Hf)}getMinOffset(e,t){return C.mapArray(this.hn(t),(r=>this.Pn(e,r).next((i=>i||W())))).next(Hf)}}function qf(n){return $e(n,"collectionParents")}function yi(n){return $e(n,"indexEntries")}function Ms(n){return $e(n,"indexConfiguration")}function vi(n){return $e(n,"indexState")}function Hf(n){$(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;gd(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new kt(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class _t{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new _t(e,_t.DEFAULT_COLLECTION_PERCENTILE,_t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],o=IDBKeyRange.only(t.batchId);let a=0;const c=r.J({range:o},((p,m,g)=>(a++,g.delete())));s.push(c.next((()=>{$(a===1)})));const u=[];for(const p of t.mutations){const m=tv(e,p.key.path,t.batchId);s.push(i.delete(m)),u.push(p.key)}return C.waitFor(s).next((()=>u))}function sl(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw W();e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_t.DEFAULT_COLLECTION_PERCENTILE=10,_t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_t.DEFAULT=new _t(41943040,_t.DEFAULT_COLLECTION_PERCENTILE,_t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_t.DISABLED=new _t(-1,0,0);class Fl{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,t,r,i){$(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Fl(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fn(e).J({index:"userMutationsIndex",range:r},((i,s,o)=>{t=!1,o.done()})).next((()=>t))}addMutationBatch(e,t,r,i){const s=Ei(e),o=Fn(e);return o.add({}).next((a=>{$(typeof a=="number");const c=new Ed(a,t,r,i),u=(function(b,A,S){const P=S.baseMutations.map((F=>Po(b.ct,F))),M=S.mutations.map((F=>Po(b.ct,F)));return{userId:A,batchId:S.batchId,localWriteTimeMs:S.localWriteTime.toMillis(),baseMutations:P,mutations:M}})(this.serializer,this.userId,c),p=[];let m=new pe(((g,b)=>te(g.canonicalString(),b.canonicalString())));for(const g of i){const b=tv(this.userId,g.key.path,a);m=m.add(g.key.path.popLast()),p.push(o.put(u)),p.push(s.put(b,LE))}return m.forEach((g=>{p.push(this.indexManager.addToCollectionParentIndex(e,g))})),e.addOnCommittedListener((()=>{this.Fn[a]=c.keys()})),C.waitFor(p).next((()=>c))}))}lookupMutationBatch(e,t){return Fn(e).get(t).next((r=>r?($(r.userId===this.userId),Ir(this.serializer,r)):null))}Mn(e,t){return this.Fn[t]?C.resolve(this.Fn[t]):this.lookupMutationBatch(e,t).next((r=>{if(r){const i=r.keys();return this.Fn[t]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Fn(e).J({index:"userMutationsIndex",range:i},((o,a,c)=>{a.userId===this.userId&&($(a.batchId>=r),s=Ir(this.serializer,a)),c.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Fn(e).J({index:"userMutationsIndex",range:t,reverse:!0},((i,s,o)=>{r=s.batchId,o.done()})).next((()=>r))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fn(e).U("userMutationsIndex",t).next((r=>r.map((i=>Ir(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Ma(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return Ei(e).J({range:i},((o,a,c)=>{const[u,p,m]=o,g=Kt(p);if(u===this.userId&&t.path.isEqual(g))return Fn(e).get(m).next((b=>{if(!b)throw W();$(b.userId===this.userId),s.push(Ir(this.serializer,b))}));c.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new pe(te);const i=[];return t.forEach((s=>{const o=Ma(this.userId,s.path),a=IDBKeyRange.lowerBound(o),c=Ei(e).J({range:a},((u,p,m)=>{const[g,b,A]=u,S=Kt(b);g===this.userId&&s.path.isEqual(S)?r=r.add(A):m.done()}));i.push(c)})),C.waitFor(i).next((()=>this.xn(e,r)))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=Ma(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new pe(te);return Ei(e).J({range:o},((c,u,p)=>{const[m,g,b]=c,A=Kt(g);m===this.userId&&r.isPrefixOf(A)?A.length===i&&(a=a.add(b)):p.done()})).next((()=>this.xn(e,a)))}xn(e,t){const r=[],i=[];return t.forEach((s=>{i.push(Fn(e).get(s).next((o=>{if(o===null)throw W();$(o.userId===this.userId),r.push(Ir(this.serializer,o))})))})),C.waitFor(i).next((()=>r))}removeMutationBatch(e,t){return Zv(e._e,this.userId,t).next((r=>(e.addOnCommittedListener((()=>{this.On(t.batchId)})),C.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return C.resolve();const r=IDBKeyRange.lowerBound((function(o){return[o]})(this.userId)),i=[];return Ei(e).J({range:r},((s,o,a)=>{if(s[0]===this.userId){const c=Kt(s[1]);i.push(c)}else a.done()})).next((()=>{$(i.length===0)}))}))}containsKey(e,t){return e_(e,this.userId,t)}Nn(e){return t_(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function e_(n,e,t){const r=Ma(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Ei(n).J({range:s,H:!0},((a,c,u)=>{const[p,m,g]=a;p===e&&m===i&&(o=!0),u.done()})).next((()=>o))}function Fn(n){return $e(n,"mutations")}function Ei(n){return $e(n,"documentMutations")}function t_(n){return $e(n,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Wr(0)}static kn(){return new Wr(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.qn(e).next((t=>{const r=new Wr(t.highestTargetId);return t.highestTargetId=r.next(),this.Qn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.qn(e).next((t=>Q.fromTimestamp(new Te(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.qn(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,r){return this.qn(e).next((i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Qn(e,i))))}addTargetData(e,t){return this.Kn(e,t).next((()=>this.qn(e).next((r=>(r.targetCount+=1,this.$n(t,r),this.Qn(e,r))))))}updateTargetData(e,t){return this.Kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>_i(e).delete(t.targetId))).next((()=>this.qn(e))).next((r=>($(r.targetCount>0),r.targetCount-=1,this.Qn(e,r))))}removeTargets(e,t,r){let i=0;const s=[];return _i(e).J(((o,a)=>{const c=Ks(a);c.sequenceNumber<=t&&r.get(c.targetId)===null&&(i++,s.push(this.removeTargetData(e,c)))})).next((()=>C.waitFor(s))).next((()=>i))}forEachTarget(e,t){return _i(e).J(((r,i)=>{const s=Ks(i);t(s)}))}qn(e){return Wf(e).get("targetGlobalKey").next((t=>($(t!==null),t)))}Qn(e,t){return Wf(e).put("targetGlobalKey",t)}Kn(e,t){return _i(e).put(Yv(this.serializer,t))}$n(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next((t=>t.targetCount))}getTargetData(e,t){const r=zr(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return _i(e).J({range:i,index:"queryTargetsIndex"},((o,a,c)=>{const u=Ks(a);zo(t,u.target)&&(s=u,c.done())})).next((()=>s))}addMatchingKeys(e,t,r){const i=[],s=jn(e);return t.forEach((o=>{const a=mt(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))})),C.waitFor(i)}removeMatchingKeys(e,t,r){const i=jn(e);return C.forEach(t,(s=>{const o=mt(s.path);return C.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])}))}removeMatchingKeysForTargetId(e,t){const r=jn(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=jn(e);let s=ne();return i.J({range:r,H:!0},((o,a,c)=>{const u=Kt(o[1]),p=new z(u);s=s.add(p)})).next((()=>s))}containsKey(e,t){const r=mt(t.path),i=IDBKeyRange.bound([r],[Ky(r)],!1,!0);let s=0;return jn(e).J({index:"documentTargetsIndex",H:!0,range:i},(([o,a],c,u)=>{o!==0&&(s++,u.done())})).next((()=>s>0))}ot(e,t){return _i(e).get(t).next((r=>r?Ks(r):null))}}function _i(n){return $e(n,"targets")}function Wf(n){return $e(n,"targetGlobal")}function jn(n){return $e(n,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f([n,e],[t,r]){const i=te(n,t);return i===0?te(e,r):i}class XP{constructor(e){this.Un=e,this.buffer=new pe($f),this.Wn=0}Gn(){return++this.Wn}zn(e){const t=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();$f(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ZP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){L("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){or(t)?L("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await sr(t)}await this.Hn(3e5)}))}}class eA{constructor(e,t){this.Jn=e,this.params=t}calculateTargetCount(e,t){return this.Jn.Yn(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return C.resolve(wt.oe);const r=new XP(t);return this.Jn.forEachTarget(e,(i=>r.zn(i.sequenceNumber))).next((()=>this.Jn.Zn(e,(i=>r.zn(i))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Jn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(L("LruGarbageCollector","Garbage collection skipped; disabled"),C.resolve(Gf)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(L("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gf):this.Xn(e,t)))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,t){let r,i,s,o,a,c,u;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(L("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,a=Date.now(),this.removeTargets(e,r,t)))).next((m=>(s=m,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(u=Date.now(),bi()<=ie.DEBUG&&L("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${m} documents in `+(u-c)+`ms
Total Duration: ${u-p}ms`),C.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m}))))}}function tA(n,e){return new eA(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,t){this.db=e,this.garbageCollector=tA(this,t)}Yn(e){const t=this.er(e);return this.db.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}er(e){let t=0;return this.Zn(e,(r=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Zn(e,t){return this.tr(e,((r,i)=>t(i)))}addReference(e,t,r){return Ta(e,r)}removeReference(e,t,r){return Ta(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Ta(e,t)}nr(e,t){return(function(i,s){let o=!1;return t_(i).Y((a=>e_(i,a,s).next((c=>(c&&(o=!0),C.resolve(!c)))))).next((()=>o))})(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.tr(e,((o,a)=>{if(a<=t){const c=this.nr(e,o).next((u=>{if(!u)return s++,r.getEntry(e,o).next((()=>(r.removeEntry(o,Q.min()),jn(e).delete((function(m){return[0,mt(m.path)]})(o)))))}));i.push(c)}})).next((()=>C.waitFor(i))).next((()=>r.apply(e))).next((()=>s))}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Ta(e,t)}tr(e,t){const r=jn(e);let i,s=wt.oe;return r.J({index:"documentTargetsIndex"},(([o,a],{path:c,sequenceNumber:u})=>{o===0?(s!==wt.oe&&t(new z(Kt(i)),s),s=u,i=c):s=wt.oe})).next((()=>{s!==wt.oe&&t(new z(Kt(i)),s)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ta(n,e){return jn(n).put((function(r,i){return{targetId:0,path:mt(r.path),sequenceNumber:i}})(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(){this.changes=new ar((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_e.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?C.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return _r(e).put(r)}removeEntry(e,t,r){return _r(e).delete((function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],rl(o),a[a.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next((r=>(r.byteSize+=t,this.rr(e,r))))}getEntry(e,t){let r=_e.newInvalidDocument(t);return _r(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(js(t))},((i,s)=>{r=this.ir(t,s)})).next((()=>r))}sr(e,t){let r={size:0,document:_e.newInvalidDocument(t)};return _r(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(js(t))},((i,s)=>{r={document:this.ir(t,s),size:sl(s)}})).next((()=>r))}getEntries(e,t){let r=xt();return this._r(e,t,((i,s)=>{const o=this.ir(i,s);r=r.insert(i,o)})).next((()=>r))}ar(e,t){let r=xt(),i=new ye(z.comparator);return this._r(e,t,((s,o)=>{const a=this.ir(s,o);r=r.insert(s,a),i=i.insert(s,sl(o))})).next((()=>({documents:r,ur:i})))}_r(e,t,r){if(t.isEmpty())return C.resolve();let i=new pe(Yf);t.forEach((c=>i=i.add(c)));const s=IDBKeyRange.bound(js(i.first()),js(i.last())),o=i.getIterator();let a=o.getNext();return _r(e).J({index:"documentKeyIndex",range:s},((c,u,p)=>{const m=z.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&Yf(a,m)<0;)r(a,null),a=o.getNext();a&&a.isEqual(m)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?p.$(js(a)):p.done()})).next((()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,r,i,s){const o=t.path,a=[o.popLast().toArray(),o.lastSegment(),rl(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return _r(e).U(IDBKeyRange.bound(a,c,!0)).next((u=>{s?.incrementDocumentReadCount(u.length);let p=xt();for(const m of u){const g=this.ir(z.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);g.isFoundDocument()&&(qo(t,g)||i.has(g.key))&&(p=p.insert(g.key,g))}return p}))}getAllFromCollectionGroup(e,t,r,i){let s=xt();const o=Qf(t,r),a=Qf(t,kt.max());return _r(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},((c,u,p)=>{const m=this.ir(z.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(m.key,m),s.size===i&&p.done()})).next((()=>s))}newChangeBuffer(e){return new iA(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return Kf(e).get("remoteDocumentGlobalKey").next((t=>($(!!t),t)))}rr(e,t){return Kf(e).put("remoteDocumentGlobalKey",t)}ir(e,t){if(t){const r=zP(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Q.min())))return r}return _e.newInvalidDocument(e)}}function r_(n){return new rA(n)}class iA extends n_{constructor(e,t){super(),this.cr=e,this.trackRemovals=t,this.lr=new ar((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const t=[];let r=0,i=new pe(((s,o)=>te(s.canonicalString(),o.canonicalString())));return this.changes.forEach(((s,o)=>{const a=this.lr.get(s);if(t.push(this.cr.removeEntry(e,s,a.readTime)),o.isValidDocument()){const c=Vf(this.cr.serializer,o);i=i.add(s.path.popLast());const u=sl(c);r+=u-a.size,t.push(this.cr.addEntry(e,s,c))}else if(r-=a.size,this.trackRemovals){const c=Vf(this.cr.serializer,o.convertToNoDocument(Q.min()));t.push(this.cr.addEntry(e,s,c))}})),i.forEach((s=>{t.push(this.cr.indexManager.addToCollectionParentIndex(e,s))})),t.push(this.cr.updateMetadata(e,r)),C.waitFor(t)}getFromCache(e,t){return this.cr.sr(e,t).next((r=>(this.lr.set(t,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,t){return this.cr.ar(e,t).next((({documents:r,ur:i})=>(i.forEach(((s,o)=>{this.lr.set(s,{size:o,readTime:r.get(s).readTime})})),r)))}}function Kf(n){return $e(n,"remoteDocumentGlobal")}function _r(n){return $e(n,"remoteDocumentsV14")}function js(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Qf(n,e){const t=e.documentKey.path.toArray();return[n,rl(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Yf(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=te(t[s],r[s]),i)return i;return i=te(t.length,r.length),i||(i=te(t[t.length-2],r[r.length-2]),i||te(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(r!==null&&no(r.mutation,i,bt.empty(),Te.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,ne()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=ne()){const i=Qt();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,r).next((s=>{let o=Ws();return s.forEach(((a,c)=>{o=o.insert(a,c.overlayedDocument)})),o}))))}getOverlayedDocuments(e,t){const r=Qt();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,ne())))}populateOverlays(e,t,r){const i=[];return r.forEach((s=>{t.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((o,a)=>{t.set(o,a)}))}))}computeViews(e,t,r,i){let s=xt();const o=to(),a=(function(){return to()})();return t.forEach(((c,u)=>{const p=r.get(u.key);i.has(u.key)&&(p===void 0||p.mutation instanceof Pn)?s=s.insert(u.key,u):p!==void 0?(o.set(u.key,p.mutation.getFieldMask()),no(p.mutation,u,p.mutation.getFieldMask(),Te.now())):o.set(u.key,bt.empty())})),this.recalculateAndSaveOverlays(e,s).next((c=>(c.forEach(((u,p)=>o.set(u,p))),t.forEach(((u,p)=>{var m;return a.set(u,new sA(p,(m=o.get(u))!==null&&m!==void 0?m:null))})),a)))}recalculateAndSaveOverlays(e,t){const r=to();let i=new ye(((o,a)=>o-a)),s=ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((o=>{for(const a of o)a.keys().forEach((c=>{const u=t.get(c);if(u===null)return;let p=r.get(c)||bt.empty();p=a.applyToLocalView(u,p),r.set(c,p);const m=(i.get(a.batchId)||ne()).add(c);i=i.insert(a.batchId,m)}))})).next((()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,p=c.value,m=Iv();p.forEach((g=>{if(!s.has(g)){const b=Cv(t.get(g),r.get(g));b!==null&&m.set(g,b),s=s.add(g)}})),o.push(this.documentOverlayCache.saveOverlays(e,u,m))}return C.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,i){return(function(o){return z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):bd(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next((s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):C.resolve(Qt());let a=-1,c=s;return o.next((u=>C.forEach(u,((p,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),s.get(p)?C.resolve():this.remoteDocumentCache.getEntry(e,p).next((g=>{c=c.insert(p,g)}))))).next((()=>this.populateOverlays(e,u,s))).next((()=>this.computeViews(e,c,u,ne()))).next((p=>({batchId:a,changes:xv(p)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new z(t)).next((r=>{let i=Ws();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=Ws();return this.indexManager.getCollectionParents(e,s).next((a=>C.forEach(a,(c=>{const u=(function(m,g){return new En(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next((p=>{p.forEach(((m,g)=>{o=o.insert(m,g)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i)))).next((o=>{s.forEach(((c,u)=>{const p=u.getKey();o.get(p)===null&&(o=o.insert(p,_e.newInvalidDocument(p)))}));let a=Ws();return o.forEach(((c,u)=>{const p=s.get(c);p!==void 0&&no(p.mutation,u,bt.empty(),Te.now()),qo(t,u)&&(a=a.insert(c,u))})),a}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return C.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Ue(i.createTime)}})(t)),C.resolve()}getNamedQuery(e,t){return C.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,(function(i){return{name:i.name,query:Cd(i.bundledQuery),readTime:Ue(i.readTime)}})(t)),C.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(){this.overlays=new ye(z.comparator),this.Ir=new Map}getOverlay(e,t){return C.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Qt();return C.forEach(t,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((i,s)=>{this.ht(e,t,s)})),C.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.Ir.delete(r)),C.resolve()}getOverlaysForCollection(e,t,r){const i=Qt(),s=t.length+1,o=new z(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return C.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new ye(((u,p)=>u-p));const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let p=s.get(u.largestBatchId);p===null&&(p=Qt(),s=s.insert(u.largestBatchId,p)),p.set(u.getKey(),u)}}const a=Qt(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((u,p)=>a.set(u,p))),!(a.size()>=i)););return C.resolve(a)}ht(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Ad(t,r));let s=this.Ir.get(t);s===void 0&&(s=ne(),this.Ir.set(t,s)),this.Ir.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(){this.sessionToken=Ve.EMPTY_BYTE_STRING}getSessionToken(e){return C.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,C.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(){this.Tr=new pe(Qe.Er),this.dr=new pe(Qe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const r=new Qe(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Vr(new Qe(e,t))}mr(e,t){e.forEach((r=>this.removeReference(r,t)))}gr(e){const t=new z(new se([])),r=new Qe(t,e),i=new Qe(t,e+1),s=[];return this.dr.forEachInRange([r,i],(o=>{this.Vr(o),s.push(o.key)})),s}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new z(new se([])),r=new Qe(t,e),i=new Qe(t,e+1);let s=ne();return this.dr.forEachInRange([r,i],(o=>{s=s.add(o.key)})),s}containsKey(e){const t=new Qe(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Qe{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return z.comparator(e.key,t.key)||te(e.wr,t.wr)}static Ar(e,t){return te(e.wr,t.wr)||z.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new pe(Qe.Er)}checkEmpty(e){return C.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Ed(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Qe(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return C.resolve(o)}lookupMutationBatch(e,t){return C.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.vr(r),s=i<0?0:i;return C.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return C.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return C.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Qe(t,0),i=new Qe(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],(o=>{const a=this.Dr(o.wr);s.push(a)})),C.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new pe(te);return t.forEach((i=>{const s=new Qe(i,0),o=new Qe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],(a=>{r=r.add(a.wr)}))})),C.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;z.isDocumentKey(s)||(s=s.child(""));const o=new Qe(new z(s),0);let a=new pe(te);return this.br.forEachWhile((c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.wr)),!0)}),o),C.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach((r=>{const i=this.Dr(r);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){$(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return C.forEach(t.mutations,(i=>{const s=new Qe(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,t){const r=new Qe(t,0),i=this.br.firstAfterOrEqual(r);return C.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,C.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e){this.Mr=e,this.docs=(function(){return new ye(z.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return C.resolve(r?r.document.mutableCopy():_e.newInvalidDocument(t))}getEntries(e,t){let r=xt();return t.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():_e.newInvalidDocument(i))})),C.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=xt();const o=t.path,a=new z(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:p}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||gd(Yy(p),r)<=0||(i.has(p.key)||qo(t,p))&&(s=s.insert(p.key,p.mutableCopy()))}return C.resolve(s)}getAllFromCollectionGroup(e,t,r,i){W()}Or(e,t){return C.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new dA(this)}getSize(e){return C.resolve(this.size)}}class dA extends n_{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)})),C.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e){this.persistence=e,this.Nr=new ar((t=>zr(t)),zo),this.lastRemoteSnapshotVersion=Q.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Nd,this.targetCount=0,this.kr=Wr.Bn()}forEachTarget(e,t){return this.Nr.forEach(((r,i)=>t(i))),C.resolve()}getLastRemoteSnapshotVersion(e){return C.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return C.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),C.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),C.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Wr(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,C.resolve()}updateTargetData(e,t){return this.Kn(t),C.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,C.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Nr.forEach(((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)})),C.waitFor(s).next((()=>i))}getTargetCount(e){return C.resolve(this.targetCount)}getTargetData(e,t){const r=this.Nr.get(t)||null;return C.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),C.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach((o=>{s.push(i.markPotentiallyOrphaned(e,o))})),C.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),C.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Br.yr(t);return C.resolve(r)}containsKey(e,t){return C.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,t){this.qr={},this.overlays={},this.Qr=new wt(0),this.Kr=!1,this.Kr=!0,this.$r=new lA,this.referenceDelegate=e(this),this.Ur=new hA(this),this.indexManager=new QP,this.remoteDocumentCache=(function(i){return new uA(i)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new Qv(t),this.Gr=new oA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new aA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new cA(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){L("MemoryPersistence","Starting transaction:",e);const i=new pA(this.Qr.next());return this.referenceDelegate.zr(),r(i).next((s=>this.referenceDelegate.jr(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Hr(e,t){return C.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,t))))}}class pA extends Xy{constructor(e){super(),this.currentSequenceNumber=e}}class Ml{constructor(e){this.persistence=e,this.Jr=new Nd,this.Yr=null}static Zr(e){return new Ml(e)}get Xr(){if(this.Yr)return this.Yr;throw W()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),C.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),C.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),C.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((i=>this.Xr.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((s=>this.Xr.add(s.toString())))})).next((()=>r.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C.forEach(this.Xr,(r=>{const i=z.fromPath(r);return this.ei(e,i).next((s=>{s||t.removeEntry(i,Q.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return C.or([()=>C.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e){this.serializer=e}O(e,t,r,i){const s=new Sl("createOrUpgrade",t);r<1&&i>=1&&((function(c){c.createObjectStore("owner")})(e),(function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",uf,{unique:!0}),c.createObjectStore("documentMutations")})(e),Jf(e),(function(c){c.createObjectStore("remoteDocuments")})(e));let o=C.resolve();return r<3&&i>=3&&(r!==0&&((function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")})(e),Jf(e)),o=o.next((()=>(function(c){const u=c.store("targetGlobal"),p={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Q.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",p)})(s)))),r<4&&i>=4&&(r!==0&&(o=o.next((()=>(function(c,u){return u.store("mutations").U().next((p=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",uf,{unique:!0});const m=u.store("mutations"),g=p.map((b=>m.put(b)));return C.waitFor(g)}))})(e,s)))),o=o.next((()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)}))),r<5&&i>=5&&(o=o.next((()=>this.ni(s)))),r<6&&i>=6&&(o=o.next((()=>((function(c){c.createObjectStore("remoteDocumentGlobal")})(e),this.ri(s))))),r<7&&i>=7&&(o=o.next((()=>this.ii(s)))),r<8&&i>=8&&(o=o.next((()=>this.si(e,s)))),r<9&&i>=9&&(o=o.next((()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(o=o.next((()=>this.oi(s)))),r<11&&i>=11&&(o=o.next((()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),(function(c){c.createObjectStore("namedQueries",{keyPath:"name"})})(e)}))),r<12&&i>=12&&(o=o.next((()=>{(function(c){const u=c.createObjectStore("documentOverlays",{keyPath:KE});u.createIndex("collectionPathOverlayIndex",QE,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",YE,{unique:!1})})(e)}))),r<13&&i>=13&&(o=o.next((()=>(function(c){const u=c.createObjectStore("remoteDocumentsV14",{keyPath:FE});u.createIndex("documentKeyIndex",ME),u.createIndex("collectionGroupIndex",jE)})(e))).next((()=>this._i(e,s))).next((()=>e.deleteObjectStore("remoteDocuments")))),r<14&&i>=14&&(o=o.next((()=>this.ai(e,s)))),r<15&&i>=15&&(o=o.next((()=>(function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:HE}).createIndex("sequenceNumberIndex",GE,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:WE}).createIndex("documentKeyIndex",$E,{unique:!1})})(e)))),r<16&&i>=16&&(o=o.next((()=>{t.objectStore("indexState").clear()})).next((()=>{t.objectStore("indexEntries").clear()}))),r<17&&i>=17&&(o=o.next((()=>{(function(c){c.createObjectStore("globals",{keyPath:"name"})})(e)}))),o}ri(e){let t=0;return e.store("remoteDocuments").J(((r,i)=>{t+=sl(i)})).next((()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)}))}ni(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.U().next((i=>C.forEach(i,(s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next((a=>C.forEach(a,(c=>{$(c.userId===s.userId);const u=Ir(this.serializer,c);return Zv(e,s.userId,u).next((()=>{}))}))))}))))}ii(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((i=>{const s=[];return r.J(((o,a)=>{const c=new se(o),u=(function(m){return[0,mt(m)]})(c);s.push(t.get(u).next((p=>p?C.resolve():(m=>t.put({targetId:0,path:mt(m),sequenceNumber:i.highestListenSequenceNumber}))(c))))})).next((()=>C.waitFor(s)))}))}si(e,t){e.createObjectStore("collectionParents",{keyPath:qE});const r=t.store("collectionParents"),i=new Dd,s=o=>{if(i.add(o)){const a=o.lastSegment(),c=o.popLast();return r.put({collectionId:a,parent:mt(c)})}};return t.store("remoteDocuments").J({H:!0},((o,a)=>{const c=new se(o);return s(c.popLast())})).next((()=>t.store("documentMutations").J({H:!0},(([o,a,c],u)=>{const p=Kt(a);return s(p.popLast())}))))}oi(e){const t=e.store("targets");return t.J(((r,i)=>{const s=Ks(i),o=Yv(this.serializer,s);return t.put(o)}))}_i(e,t){const r=t.store("remoteDocuments"),i=[];return r.J(((s,o)=>{const a=t.store("remoteDocumentsV14"),c=(function(m){return m.document?new z(se.fromString(m.document.name).popFirst(5)):m.noDocument?z.fromSegments(m.noDocument.path):m.unknownDocument?z.fromSegments(m.unknownDocument.path):W()})(o).path.toArray(),u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(u))})).next((()=>C.waitFor(i)))}ai(e,t){const r=t.store("mutations"),i=r_(this.serializer),s=new s_(Ml.Zr,this.serializer.ct);return r.U().next((o=>{const a=new Map;return o.forEach((c=>{var u;let p=(u=a.get(c.userId))!==null&&u!==void 0?u:ne();Ir(this.serializer,c).keys().forEach((m=>p=p.add(m))),a.set(c.userId,p)})),C.forEach(a,((c,u)=>{const p=new Ye(u),m=Ll.lt(this.serializer,p),g=s.getIndexManager(p),b=Fl.lt(p,this.serializer,g,s.referenceDelegate);return new i_(i,b,m,g).recalculateAndSaveOverlaysForDocumentKeys(new au(t,wt.oe),c).next()}))}))}}function Jf(n){n.createObjectStore("targetDocuments",{keyPath:zE}).createIndex("documentTargetsIndex",BE,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",UE,{unique:!0}),n.createObjectStore("targetGlobal")}const Dc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Vd{constructor(e,t,r,i,s,o,a,c,u,p,m=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ui=s,this.window=o,this.document=a,this.ci=u,this.li=p,this.hi=m,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=g=>Promise.resolve(),!Vd.D())throw new O(D.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new nA(this,i),this.Ai=t+"main",this.serializer=new Qv(c),this.Ri=new Yt(this.Ai,this.hi,new fA(this.serializer)),this.$r=new qP,this.Ur=new JP(this.referenceDelegate,this.serializer),this.remoteDocumentCache=r_(this.serializer),this.Gr=new BP,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,p===!1&&Me("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new O(D.FAILED_PRECONDITION,Dc);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Ur.getHighestSequenceNumber(e)))})).then((e=>{this.Qr=new wt(e,this.ci)})).then((()=>{this.Kr=!0})).catch((e=>(this.Ri&&this.Ri.close(),Promise.reject(e))))}yi(e){return this.di=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((async()=>{this.started&&await this.mi()})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Ea(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.wi(e).next((t=>{t||(this.isPrimary=!1,this.ui.enqueueRetryable((()=>this.di(!1))))}))})).next((()=>this.Si(e))).next((t=>this.isPrimary&&!t?this.bi(e).next((()=>!1)):!!t&&this.Di(e).next((()=>!0)))))).catch((e=>{if(or(e))return L("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return L("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.ui.enqueueRetryable((()=>this.di(e))),this.isPrimary=e}))}wi(e){return Us(e).get("owner").next((t=>C.resolve(this.vi(t))))}Ci(e){return Ea(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const r=$e(t,"clientMetadata");return r.U().next((i=>{const s=this.xi(i,18e5),o=i.filter((a=>s.indexOf(a)===-1));return C.forEach(o,(a=>r.delete(a.clientId))).next((()=>o))}))})).catch((()=>[]));if(this.Vi)for(const t of e)this.Vi.removeItem(this.Oi(t.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.mi().then((()=>this.Fi())).then((()=>this.pi()))))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?C.resolve(!0):Us(e).get("owner").next((t=>{if(t!==null&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)){if(this.vi(t)&&this.networkEnabled)return!0;if(!this.vi(t)){if(!t.allowTabSynchronization)throw new O(D.FAILED_PRECONDITION,Dc);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ea(e).U().next((r=>this.xi(r,5e3).find((i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&L("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new au(e,wt.oe);return this.bi(t).next((()=>this.Ci(t)))})),this.Ri.close(),this.qi()}xi(e,t){return e.filter((r=>this.Mi(r.updateTimeMs,t)&&!this.Ni(r.clientId)))}Qi(){return this.runTransaction("getActiveClients","readonly",(e=>Ea(e).U().next((t=>this.xi(t,18e5).map((r=>r.clientId))))))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,t){return Fl.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new YP(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Ll.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,t,r){L("IndexedDbPersistence","Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",s=(function(c){return c===17?ZE:c===16?XE:c===15?vd:c===14?iv:c===13?rv:c===12?JE:c===11?nv:void W()})(this.hi);let o;return this.Ri.runTransaction(e,i,s,(a=>(o=new au(a,this.Qr?this.Qr.next():wt.oe),t==="readwrite-primary"?this.wi(o).next((c=>!!c||this.Si(o))).next((c=>{if(!c)throw Me(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable((()=>this.di(!1))),new O(D.FAILED_PRECONDITION,Jy);return r(o)})).next((c=>this.Di(o).next((()=>c)))):this.Ki(o).next((()=>r(o)))))).then((a=>(o.raiseOnCommittedEvent(),a)))}Ki(e){return Us(e).get("owner").next((t=>{if(t!==null&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)&&!this.vi(t)&&!(this.li||this.allowTabSynchronization&&t.allowTabSynchronization))throw new O(D.FAILED_PRECONDITION,Dc)}))}Di(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Us(e).put("owner",t)}static D(){return Yt.D()}bi(e){const t=Us(e);return t.get("owner").next((r=>this.vi(r)?(L("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):C.resolve()))}Mi(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(Me(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.mi())))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const t=/(?:Version|Mobile)\/1[456]/;kg()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var t;try{const r=((t=this.Vi)===null||t===void 0?void 0:t.getItem(this.Oi(e)))!==null;return L("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Me("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Me("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Us(n){return $e(n,"owner")}function Ea(n){return $e(n,"clientMetadata")}function Od(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=ne(),i=ne();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Ld(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return kg()?8:Zy(ke())>0?6:4})()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.Yi(e,t).next((o=>{s.result=o})).next((()=>{if(!s.result)return this.Zi(e,t,i,r).next((o=>{s.result=o}))})).next((()=>{if(s.result)return;const o=new mA;return this.Xi(e,t,o).next((a=>{if(s.result=a,this.zi)return this.es(e,t,o,a.size)}))})).next((()=>s.result))}es(e,t,r,i){return r.documentReadCount<this.ji?(bi()<=ie.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",xi(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),C.resolve()):(bi()<=ie.DEBUG&&L("QueryEngine","Query:",xi(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(bi()<=ie.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",xi(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gt(t))):C.resolve())}Yi(e,t){if(If(t))return C.resolve(null);let r=gt(t);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=nl(t,null,"F"),r=gt(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const o=ne(...s);return this.Ji.getDocuments(e,o).next((a=>this.indexManager.getMinOffset(e,r).next((c=>{const u=this.ts(t,a);return this.ns(t,u,o,c.readTime)?this.Yi(e,nl(t,null,"F")):this.rs(e,u,t,c)}))))})))))}Zi(e,t,r,i){return If(t)||i.isEqual(Q.min())?C.resolve(null):this.Ji.getDocuments(e,r).next((s=>{const o=this.ts(t,s);return this.ns(t,o,r,i)?C.resolve(null):(bi()<=ie.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xi(t)),this.rs(e,o,t,Qy(i,-1)).next((a=>a)))}))}ts(e,t){let r=new pe(wv(e));return t.forEach(((i,s)=>{qo(e,s)&&(r=r.add(s))})),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,r){return bi()<=ie.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",xi(t)),this.Ji.getDocumentsMatchingQuery(e,t,kt.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next((s=>(t.forEach((o=>{s=s.insert(o.key,o)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new ye(te),this._s=new ar((s=>zr(s)),zo),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new i_(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function a_(n,e,t,r){return new gA(n,e,t,r)}async function l_(n,e){const t=B(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(r)))).next((s=>{const o=[],a=[];let c=ne();for(const u of i){o.push(u.batchId);for(const p of u.mutations)c=c.add(p.key)}for(const u of s){a.push(u.batchId);for(const p of u.mutations)c=c.add(p.key)}return t.localDocuments.getDocuments(r,c).next((u=>({hs:u,removedBatchIds:o,addedBatchIds:a})))}))}))}function yA(n,e){const t=B(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return(function(a,c,u,p){const m=u.batch,g=m.keys();let b=C.resolve();return g.forEach((A=>{b=b.next((()=>p.getEntry(c,A))).next((S=>{const P=u.docVersions.get(A);$(P!==null),S.version.compareTo(P)<0&&(m.applyToRemoteDocument(S,u),S.isValidDocument()&&(S.setReadTime(u.commitVersion),p.addEntry(S)))}))})),b.next((()=>a.mutationQueue.removeMutationBatch(c,m)))})(t,r,e,s).next((()=>s.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let c=ne();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c})(e)))).next((()=>t.localDocuments.getDocuments(r,i)))}))}function c_(n){const e=B(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Ur.getLastRemoteSnapshotVersion(t)))}function vA(n,e){const t=B(n),r=e.snapshotVersion;let i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const o=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;const a=[];e.targetChanges.forEach(((p,m)=>{const g=i.get(m);if(!g)return;a.push(t.Ur.removeMatchingKeys(s,p.removedDocuments,m).next((()=>t.Ur.addMatchingKeys(s,p.addedDocuments,m))));let b=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?b=b.withResumeToken(Ve.EMPTY_BYTE_STRING,Q.min()).withLastLimboFreeSnapshotVersion(Q.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,r)),i=i.insert(m,b),(function(S,P,M){return S.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(g,b,p)&&a.push(t.Ur.updateTargetData(s,b))}));let c=xt(),u=ne();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,p))})),a.push(u_(s,o,e.documentUpdates).next((p=>{c=p.Ps,u=p.Is}))),!r.isEqual(Q.min())){const p=t.Ur.getLastRemoteSnapshotVersion(s).next((m=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r)));a.push(p)}return C.waitFor(a).next((()=>o.apply(s))).next((()=>t.localDocuments.getLocalViewOfDocuments(s,c,u))).next((()=>c))})).then((s=>(t.os=i,s)))}function u_(n,e,t){let r=ne(),i=ne();return t.forEach((s=>r=r.add(s))),e.getEntries(n,r).next((s=>{let o=xt();return t.forEach(((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Q.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):L("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)})),{Ps:o,Is:i}}))}function _A(n,e){const t=B(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Gi(n,e){const t=B(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return t.Ur.getTargetData(r,e).next((s=>s?(i=s,C.resolve(i)):t.Ur.allocateTargetId(r).next((o=>(i=new fn(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r}))}async function Wi(n,e,t){const r=B(n),i=r.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!or(o))throw o;L("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function ol(n,e,t){const r=B(n);let i=Q.min(),s=ne();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(c,u,p){const m=B(c),g=m._s.get(p);return g!==void 0?C.resolve(m.os.get(g)):m.Ur.getTargetData(u,p)})(r,o,gt(e)).next((a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next((c=>{s=c}))})).next((()=>r.ss.getDocumentsMatchingQuery(o,e,t?i:Q.min(),t?s:ne()))).next((a=>(p_(r,_v(e),a),{documents:a,Ts:s})))))}function d_(n,e){const t=B(n),r=B(t.Ur),i=t.os.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",(s=>r.ot(s,e).next((o=>o?o.target:null))))}function h_(n,e){const t=B(n),r=t.us.get(e)||Q.min();return t.persistence.runTransaction("Get new document changes","readonly",(i=>t.cs.getAllFromCollectionGroup(i,e,Qy(r,-1),Number.MAX_SAFE_INTEGER))).then((i=>(p_(t,e,i),i)))}function p_(n,e,t){let r=n.us.get(e)||Q.min();t.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),n.us.set(e,r)}async function wA(n,e,t,r){const i=B(n);let s=ne(),o=xt();for(const u of t){const p=e.Es(u.metadata.name);u.document&&(s=s.add(p));const m=e.ds(u);m.setReadTime(e.As(u.metadata.readTime)),o=o.insert(p,m)}const a=i.cs.newChangeBuffer({trackRemovals:!0}),c=await Gi(i,(function(p){return gt(ss(se.fromString(`__bundle__/docs/${p}`)))})(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(u=>u_(u,a,o).next((p=>(a.apply(u),p))).next((p=>i.Ur.removeMatchingKeysForTargetId(u,c.targetId).next((()=>i.Ur.addMatchingKeys(u,s,c.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,p.Ps,p.Is))).next((()=>p.Ps))))))}async function bA(n,e,t=ne()){const r=await Gi(n,gt(Cd(e.bundledQuery))),i=B(n);return i.persistence.runTransaction("Save named query","readwrite",(s=>{const o=Ue(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Gr.saveNamedQuery(s,e);const a=r.withResumeToken(Ve.EMPTY_BYTE_STRING,o);return i.os=i.os.insert(a.targetId,a),i.Ur.updateTargetData(s,a).next((()=>i.Ur.removeMatchingKeysForTargetId(s,r.targetId))).next((()=>i.Ur.addMatchingKeys(s,t,r.targetId))).next((()=>i.Gr.saveNamedQuery(s,e)))}))}function Xf(n,e){return`firestore_clients_${n}_${e}`}function Zf(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Nc(n,e){return`firestore_targets_${n}_${e}`}class al{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Rs(e,t,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new O(i.error.code,i.error.message))),o?new al(e,t,i.state,s):(Me("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ro{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Rs(e,t){const r=JSON.parse(t);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new O(r.error.code,r.error.message))),s?new ro(e,r.state,i):(Me("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ll{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Rs(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=xd();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=ev(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new ll(e,s):(Me("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Fd{constructor(e,t){this.clientId=e,this.onlineState=t}static Rs(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new Fd(t.clientId,t.onlineState):(Me("SharedClientState",`Failed to parse online state: ${e}`),null)}}class bu{constructor(){this.activeTargetIds=xd()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Vc{constructor(e,t,r,i,s){this.window=e,this.ui=t,this.persistenceKey=r,this.ps=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new ye(te),this.started=!1,this.bs=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ds=Xf(this.persistenceKey,this.ps),this.vs=(function(c){return`firestore_sequence_number_${c}`})(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new bu),this.Cs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.xs=(function(c){return`firestore_online_state_${c}`})(this.persistenceKey),this.Os=(function(c){return`firestore_bundle_loaded_v2_${c}`})(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Qi();for(const r of e){if(r===this.ps)continue;const i=this.getItem(Xf(this.persistenceKey,r));if(i){const s=ll.Rs(r,i);s&&(this.Ss=this.Ss.insert(s.clientId,s))}}this.Ns();const t=this.storage.getItem(this.xs);if(t){const r=this.Ls(t);r&&this.Bs(r)}for(const r of this.bs)this.ws(r);this.bs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let t=!1;return this.Ss.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,t,r){this.qs(e,t,r),this.Qs(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Nc(this.persistenceKey,e));if(i){const s=ro.Rs(e,i);s&&(r=s.state)}}return t&&this.Ks.fs(e),this.Ns(),r}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Nc(this.persistenceKey,e))}updateQueryState(e,t,r){this.$s(e,t,r)}handleUserChange(e,t,r){t.forEach((i=>{this.Qs(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return L("SharedClientState","READ",e,t),t}setItem(e,t){L("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){L("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){const t=e;if(t.storageArea===this.storage){if(L("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Ds)return void Me("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.Cs.test(t.key)){if(t.newValue==null){const r=this.Gs(t.key);return this.zs(r,null)}{const r=this.js(t.key,t.newValue);if(r)return this.zs(r.clientId,r)}}else if(this.Fs.test(t.key)){if(t.newValue!==null){const r=this.Hs(t.key,t.newValue);if(r)return this.Js(r)}}else if(this.Ms.test(t.key)){if(t.newValue!==null){const r=this.Ys(t.key,t.newValue);if(r)return this.Zs(r)}}else if(t.key===this.xs){if(t.newValue!==null){const r=this.Ls(t.newValue);if(r)return this.Bs(r)}}else if(t.key===this.vs){const r=(function(s){let o=wt.oe;if(s!=null)try{const a=JSON.parse(s);$(typeof a=="number"),o=a}catch(a){Me("SharedClientState","Failed to read sequence number from WebStorage",a)}return o})(t.newValue);r!==wt.oe&&this.sequenceNumberHandler(r)}else if(t.key===this.Os){const r=this.Xs(t.newValue);await Promise.all(r.map((i=>this.syncEngine.eo(i))))}}}else this.bs.push(t)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,t,r){const i=new al(this.currentUser,e,t,r),s=Zf(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Vs())}Qs(e){const t=Zf(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Us(e){const t={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(t))}$s(e,t,r){const i=Nc(this.persistenceKey,e),s=new ro(e,t,r);this.setItem(i,s.Vs())}Ws(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Os,t)}Gs(e){const t=this.Cs.exec(e);return t?t[1]:null}js(e,t){const r=this.Gs(e);return ll.Rs(r,t)}Hs(e,t){const r=this.Fs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return al.Rs(new Ye(s),i,t)}Ys(e,t){const r=this.Ms.exec(e),i=Number(r[1]);return ro.Rs(i,t)}Ls(e){return Fd.Rs(e)}Xs(e){return JSON.parse(e)}async Js(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);L("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,t){const r=t?this.Ss.insert(e,t):this.Ss.remove(e),i=this.ks(this.Ss),s=this.ks(r),o=[],a=[];return s.forEach((c=>{i.has(c)||o.push(c)})),i.forEach((c=>{s.has(c)||a.push(c)})),this.syncEngine.io(o,a).then((()=>{this.Ss=r}))}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let t=xd();return e.forEach(((r,i)=>{t=t.unionWith(i.activeTargetIds)})),t}}class f_{constructor(){this.so=new bu,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new bu,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pa=null;function Oc(){return Pa===null?Pa=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pa++,"0x"+Pa.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st="WebChannelConnection";class EA extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,r,i,s,o){const a=Oc(),c=this.xo(t,r.toUriEncodedString());L("RestConnection",`Sending RPC '${t}' ${a}:`,c,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(t,c,u,i).then((p=>(L("RestConnection",`Received RPC '${t}' ${a}: `,p),p)),(p=>{throw en("RestConnection",`RPC '${t}' ${a} failed with error: `,p,"url: ",c,"request:",i),p}))}Lo(t,r,i,s,o,a){return this.Mo(t,r,i,s,o)}Oo(t,r,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+is})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((s,o)=>t[o]=s)),i&&i.headers.forEach(((s,o)=>t[o]=s))}xo(t,r){const i=IA[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){const s=Oc();return new Promise(((o,a)=>{const c=new zy;c.setWithCredentials(!0),c.listenOnce(By.COMPLETE,(()=>{try{switch(c.getLastErrorCode()){case La.NO_ERROR:const p=c.getResponseJson();L(st,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),o(p);break;case La.TIMEOUT:L(st,`RPC '${e}' ${s} timed out`),a(new O(D.DEADLINE_EXCEEDED,"Request time out"));break;case La.HTTP_ERROR:const m=c.getStatus();if(L(st,`RPC '${e}' ${s} failed with status:`,m,"response text:",c.getResponseText()),m>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const b=g?.error;if(b&&b.status&&b.message){const A=(function(P){const M=P.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(M)>=0?M:D.UNKNOWN})(b.status);a(new O(A,b.message))}else a(new O(D.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new O(D.UNAVAILABLE,"Connection failed."));break;default:W()}}finally{L(st,`RPC '${e}' ${s} completed.`)}}));const u=JSON.stringify(i);L(st,`RPC '${e}' ${s} sending request:`,i),c.send(t,"POST",u,r,15)}))}Bo(e,t,r){const i=Oc(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Gy(),a=Hy(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const p=s.join("");L(st,`Creating RPC '${e}' stream ${i}: ${p}`,c);const m=o.createWebChannel(p,c);let g=!1,b=!1;const A=new TA({Io:P=>{b?L(st,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(g||(L(st,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),L(st,`RPC '${e}' stream ${i} sending:`,P),m.send(P))},To:()=>m.close()}),S=(P,M,F)=>{P.listen(M,(V=>{try{F(V)}catch(H){setTimeout((()=>{throw H}),0)}}))};return S(m,Gs.EventType.OPEN,(()=>{b||(L(st,`RPC '${e}' stream ${i} transport opened.`),A.yo())})),S(m,Gs.EventType.CLOSE,(()=>{b||(b=!0,L(st,`RPC '${e}' stream ${i} transport closed`),A.So())})),S(m,Gs.EventType.ERROR,(P=>{b||(b=!0,en(st,`RPC '${e}' stream ${i} transport errored:`,P),A.So(new O(D.UNAVAILABLE,"The operation could not be completed")))})),S(m,Gs.EventType.MESSAGE,(P=>{var M;if(!b){const F=P.data[0];$(!!F);const V=F,H=V.error||((M=V[0])===null||M===void 0?void 0:M.error);if(H){L(st,`RPC '${e}' stream ${i} received error:`,H);const J=H.status;let Y=(function(_){const T=qe[_];if(T!==void 0)return Nv(T)})(J),w=H.message;Y===void 0&&(Y=D.INTERNAL,w="Unknown error status: "+J+" with message "+H.message),b=!0,A.So(new O(Y,w)),m.close()}else L(st,`RPC '${e}' stream ${i} received:`,F),A.bo(F)}})),S(a,qy.STAT_EVENT,(P=>{P.stat===su.PROXY?L(st,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===su.NOPROXY&&L(st,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{A.wo()}),0),A}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(){return typeof window<"u"?window:null}function qa(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(n){return new SP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,t,r,i,s,o,a,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Md(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===D.RESOURCE_EXHAUSTED?(Me(t.toString()),Me("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.Yo===t&&this.P_(r,i)}),(r=>{e((()=>{const i=new O(D.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)}))}))}P_(e,t){const r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{r((()=>this.I_(i)))})),this.stream.onMessage((i=>{r((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class PA extends g_{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=VP(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Q.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Q.min():o.readTime?Ue(o.readTime):Q.min()})(e);return this.listener.d_(t,r)}A_(e){const t={};t.database=gu(this.serializer),t.addTarget=(function(s,o){let a;const c=o.target;if(a=el(c)?{documents:qv(s,c)}:{query:Hv(s,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Fv(s,o.resumeToken);const u=fu(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Q.min())>0){a.readTime=Hi(s,o.snapshotVersion.toTimestamp());const u=fu(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a})(this.serializer,e);const r=LP(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){const t={};t.database=gu(this.serializer),t.removeTarget=e,this.a_(t)}}class AA extends g_{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return $(!!e.streamToken),this.lastStreamToken=e.streamToken,$(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){$(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=OP(e.writeResults,e.commitTime),r=Ue(e.commitTime);return this.listener.g_(r,t)}p_(){const e={};e.database=gu(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>Po(this.serializer,r)))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new O(D.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Mo(e,mu(t,r),i,s,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new O(D.UNKNOWN,s.toString())}))}Lo(e,t,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Lo(e,mu(t,r),i,o,a,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new O(D.UNKNOWN,o.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class RA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Me(t),this.D_=!1):L("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o((o=>{r.enqueueAndForget((async()=>{lr(this)&&(L("RemoteStore","Restarting streams for network reachability change."),await(async function(c){const u=B(c);u.L_.add(4),await ls(u),u.q_.set("Unknown"),u.L_.delete(4),await Ko(u)})(this))}))})),this.q_=new RA(r,i)}}async function Ko(n){if(lr(n))for(const e of n.B_)await e(!0)}async function ls(n){for(const e of n.B_)await e(!1)}function jl(n,e){const t=B(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),zd(t)?Ud(t):us(t).r_()&&jd(t,e))}function $i(n,e){const t=B(n),r=us(t);t.N_.delete(e),r.r_()&&y_(t,e),t.N_.size===0&&(r.r_()?r.o_():lr(t)&&t.q_.set("Unknown"))}function jd(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Q.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}us(n).A_(e)}function y_(n,e){n.Q_.xe(e),us(n).R_(e)}function Ud(n){n.Q_=new AP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),us(n).start(),n.q_.v_()}function zd(n){return lr(n)&&!us(n).n_()&&n.N_.size>0}function lr(n){return B(n).L_.size===0}function v_(n){n.Q_=void 0}async function SA(n){n.q_.set("Online")}async function DA(n){n.N_.forEach(((e,t)=>{jd(n,e)}))}async function NA(n,e){v_(n),zd(n)?(n.q_.M_(e),Ud(n)):n.q_.set("Unknown")}async function VA(n,e,t){if(n.q_.set("Online"),e instanceof Lv&&e.state===2&&e.cause)try{await(async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})(n,e)}catch(r){L("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await cl(n,r)}else if(e instanceof Ba?n.Q_.Ke(e):e instanceof Ov?n.Q_.He(e):n.Q_.We(e),!t.isEqual(Q.min()))try{const r=await c_(n.localStore);t.compareTo(r)>=0&&await(function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach(((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const p=s.N_.get(u);p&&s.N_.set(u,p.withResumeToken(c.resumeToken,o))}})),a.targetMismatches.forEach(((c,u)=>{const p=s.N_.get(c);if(!p)return;s.N_.set(c,p.withResumeToken(Ve.EMPTY_BYTE_STRING,p.snapshotVersion)),y_(s,c);const m=new fn(p.target,c,u,p.sequenceNumber);jd(s,m)})),s.remoteSyncer.applyRemoteEvent(a)})(n,t)}catch(r){L("RemoteStore","Failed to raise snapshot:",r),await cl(n,r)}}async function cl(n,e,t){if(!or(e))throw e;n.L_.add(1),await ls(n),n.q_.set("Offline"),t||(t=()=>c_(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{L("RemoteStore","Retrying IndexedDB access"),await t(),n.L_.delete(1),await Ko(n)}))}function __(n,e){return e().catch((t=>cl(n,t,e)))}async function cs(n){const e=B(n),t=er(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;OA(e);)try{const i=await _A(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,LA(e,i)}catch(i){await cl(e,i)}w_(e)&&b_(e)}function OA(n){return lr(n)&&n.O_.length<10}function LA(n,e){n.O_.push(e);const t=er(n);t.r_()&&t.V_&&t.m_(e.mutations)}function w_(n){return lr(n)&&!er(n).n_()&&n.O_.length>0}function b_(n){er(n).start()}async function FA(n){er(n).p_()}async function MA(n){const e=er(n);for(const t of n.O_)e.m_(t.mutations)}async function jA(n,e,t){const r=n.O_.shift(),i=Pd.from(r,e,t);await __(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await cs(n)}async function UA(n,e){e&&er(n).V_&&await(async function(r,i){if((function(o){return Dv(o)&&o!==D.ABORTED})(i.code)){const s=r.O_.shift();er(r).s_(),await __(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await cs(r)}})(n,e),w_(n)&&b_(n)}async function tm(n,e){const t=B(n);t.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");const r=lr(t);t.L_.add(3),await ls(t),r&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await Ko(t)}async function xu(n,e){const t=B(n);e?(t.L_.delete(2),await Ko(t)):e||(t.L_.add(2),await ls(t),t.q_.set("Unknown"))}function us(n){return n.K_||(n.K_=(function(t,r,i){const s=B(t);return s.w_(),new PA(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Eo:SA.bind(null,n),Ro:DA.bind(null,n),mo:NA.bind(null,n),d_:VA.bind(null,n)}),n.B_.push((async e=>{e?(n.K_.s_(),zd(n)?Ud(n):n.q_.set("Unknown")):(await n.K_.stop(),v_(n))}))),n.K_}function er(n){return n.U_||(n.U_=(function(t,r,i){const s=B(t);return s.w_(),new AA(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:FA.bind(null,n),mo:UA.bind(null,n),f_:MA.bind(null,n),g_:jA.bind(null,n)}),n.B_.push((async e=>{e?(n.U_.s_(),await cs(n)):(await n.U_.stop(),n.O_.length>0&&(L("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new tt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new Bd(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new O(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ds(n,e){if(Me("AsyncQueue",`${e}: ${n}`),or(n))return new O(D.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.comparator=e?(t,r)=>e(t,r)||z.comparator(t.key,r.key):(t,r)=>z.comparator(t.key,r.key),this.keyedMap=Ws(),this.sortedSet=new ye(this.comparator)}static emptySet(e){return new Di(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Di)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Di;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(){this.W_=new ye(z.comparator)}track(e){const t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):W():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Ki{constructor(e,t,r,i,s,o,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach((a=>{o.push({type:0,doc:a})})),new Ki(e,t,Di.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class BA{constructor(){this.queries=rm(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){const i=B(t),s=i.queries;i.queries=rm(),s.forEach(((o,a)=>{for(const c of a.j_)c.onError(r)}))})(this,new O(D.ABORTED,"Firestore shutting down"))}}function rm(){return new ar((n=>vv(n)),Bo)}async function qd(n,e){const t=B(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new zA,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await t.onListen(i,!0);break;case 1:s.z_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(o){const a=ds(o,`Initialization of query '${xi(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&Gd(t)}async function Hd(n,e){const t=B(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function qA(n,e){const t=B(n);let r=!1;for(const i of e){const s=i.query,o=t.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Gd(t)}function HA(n,e,t){const r=B(n),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(t);r.queries.delete(e)}function Gd(n){n.Y_.forEach((e=>{e.next()}))}var Iu,im;(im=Iu||(Iu={})).ea="default",im.Cache="cache";class Wd{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ki(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Ki.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Iu.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,t){this.aa=e,this.byteLength=t}ua(){return"metadata"in this.aa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e){this.serializer=e}Es(e){return Jt(this.serializer,e)}ds(e){return e.metadata.exists?Bv(this.serializer,e.document,!1):_e.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Ue(e)}}class WA{constructor(e,t,r){this.ca=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=x_(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++t;const r=se.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ha(e){const t=new Map,r=new sm(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Es(i.metadata.name);for(const o of i.metadata.queries){const a=(t.get(o)||ne()).add(s);t.set(o,a)}}return t}async complete(){const e=await wA(this.localStore,new sm(this.serializer),this.documents,this.ca.id),t=this.ha(this.documents);for(const r of this.queries)await bA(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}}}function x_(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e){this.key=e}}class T_{constructor(e){this.key=e}}class E_{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ne(),this.mutatedKeys=ne(),this.Aa=wv(e),this.Ra=new Di(this.Aa)}get Va(){return this.Ta}ma(e,t){const r=t?t.fa:new nm,i=t?t.Ra:this.Ra;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,m)=>{const g=i.get(p),b=qo(this.query,m)?m:null,A=!!g&&this.mutatedKeys.has(g.key),S=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let P=!1;g&&b?g.data.isEqual(b.data)?A!==S&&(r.track({type:3,doc:b}),P=!0):this.ga(g,b)||(r.track({type:2,doc:b}),P=!0,(c&&this.Aa(b,c)>0||u&&this.Aa(b,u)<0)&&(a=!0)):!g&&b?(r.track({type:0,doc:b}),P=!0):g&&!b&&(r.track({type:1,doc:g}),P=!0,(c||u)&&(a=!0)),P&&(b?(o=o.add(b),s=S?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort(((p,m)=>(function(b,A){const S=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W()}};return S(b)-S(A)})(p.type,m.type)||this.Aa(p.doc,m.doc))),this.pa(r),i=i!=null&&i;const a=t&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,u=c!==this.Ea;return this.Ea=c,o.length!==0||u?{snapshot:new Ki(this.query,e.Ra,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new nm,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((t=>this.Ta=this.Ta.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ta=this.Ta.delete(t))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ne(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const t=[];return e.forEach((r=>{this.da.has(r)||t.push(new T_(r))})),this.da.forEach((r=>{e.has(r)||t.push(new I_(r))})),t}ba(e){this.Ta=e.Ts,this.da=ne();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Ki.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class $A{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class KA{constructor(e){this.key=e,this.va=!1}}class QA{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ar((a=>vv(a)),Bo),this.Ma=new Map,this.xa=new Set,this.Oa=new ye(z.comparator),this.Na=new Map,this.La=new Nd,this.Ba={},this.ka=new Map,this.qa=Wr.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function YA(n,e,t=!0){const r=Ul(n);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await P_(r,e,t,!0),i}async function JA(n,e){const t=Ul(n);await P_(t,e,!0,!1)}async function P_(n,e,t,r){const i=await Gi(n.localStore,gt(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t);let a;return r&&(a=await $d(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&jl(n.remoteStore,i),a}async function $d(n,e,t,r,i){n.Ka=(m,g,b)=>(async function(S,P,M,F){let V=P.view.ma(M);V.ns&&(V=await ol(S.localStore,P.query,!1).then((({documents:w})=>P.view.ma(w,V))));const H=F&&F.targetChanges.get(P.targetId),J=F&&F.targetMismatches.get(P.targetId)!=null,Y=P.view.applyChanges(V,S.isPrimaryClient,H,J);return Tu(S,P.targetId,Y.wa),Y.snapshot})(n,m,g,b);const s=await ol(n.localStore,e,!0),o=new E_(e,s.Ts),a=o.ma(s.documents),c=Wo.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=o.applyChanges(a,n.isPrimaryClient,c);Tu(n,t,u.wa);const p=new $A(e,t,o);return n.Fa.set(e,p),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),u.snapshot}async function XA(n,e,t){const r=B(n),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter((o=>!Bo(o,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Wi(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),t&&$i(r.remoteStore,i.targetId),Qi(r,i.targetId)})).catch(sr)):(Qi(r,i.targetId),await Wi(r.localStore,i.targetId,!0))}async function ZA(n,e){const t=B(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),$i(t.remoteStore,r.targetId))}async function ek(n,e,t){const r=Jd(n);try{const i=await(function(o,a){const c=B(o),u=Te.now(),p=a.reduce(((b,A)=>b.add(A.key)),ne());let m,g;return c.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let A=xt(),S=ne();return c.cs.getEntries(b,p).next((P=>{A=P,A.forEach(((M,F)=>{F.isValidDocument()||(S=S.add(M))}))})).next((()=>c.localDocuments.getOverlayedDocuments(b,A))).next((P=>{m=P;const M=[];for(const F of a){const V=TP(F,m.get(F.key).overlayedDocument);V!=null&&M.push(new Pn(F.key,V,cv(V.value.mapValue),Ie.exists(!0)))}return c.mutationQueue.addMutationBatch(b,u,M,a)})).next((P=>{g=P;const M=P.applyToLocalDocumentSet(m,S);return c.documentOverlayCache.saveOverlays(b,P.batchId,M)}))})).then((()=>({batchId:g.batchId,changes:xv(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,a,c){let u=o.Ba[o.currentUser.toKey()];u||(u=new ye(te)),u=u.insert(a,c),o.Ba[o.currentUser.toKey()]=u})(r,i.batchId,t),await An(r,i.changes),await cs(r.remoteStore)}catch(i){const s=ds(i,"Failed to persist write");t.reject(s)}}async function A_(n,e){const t=B(n);try{const r=await vA(t.localStore,e);e.targetChanges.forEach(((i,s)=>{const o=t.Na.get(s);o&&($(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?$(o.va):i.removedDocuments.size>0&&($(o.va),o.va=!1))})),await An(t,r,e)}catch(r){await sr(r)}}function om(n,e,t){const r=B(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Fa.forEach(((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)})),(function(o,a){const c=B(o);c.onlineState=a;let u=!1;c.queries.forEach(((p,m)=>{for(const g of m.j_)g.Z_(a)&&(u=!0)})),u&&Gd(c)})(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function tk(n,e,t){const r=B(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new ye(z.comparator);o=o.insert(s,_e.newNoDocument(s,Q.min()));const a=ne().add(s),c=new Go(Q.min(),new Map,new ye(te),o,a);await A_(r,c),r.Oa=r.Oa.remove(s),r.Na.delete(e),Yd(r)}else await Wi(r.localStore,e,!1).then((()=>Qi(r,e,t))).catch(sr)}async function nk(n,e){const t=B(n),r=e.batch.batchId;try{const i=await yA(t.localStore,e);Qd(t,r,null),Kd(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await An(t,i)}catch(i){await sr(i)}}async function rk(n,e,t){const r=B(n);try{const i=await(function(o,a){const c=B(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",(u=>{let p;return c.mutationQueue.lookupMutationBatch(u,a).next((m=>($(m!==null),p=m.keys(),c.mutationQueue.removeMutationBatch(u,m)))).next((()=>c.mutationQueue.performConsistencyCheck(u))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(u,p,a))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,p))).next((()=>c.localDocuments.getDocuments(u,p)))}))})(r.localStore,e);Qd(r,e,t),Kd(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await An(r,i)}catch(i){await sr(i)}}async function ik(n,e){const t=B(n);lr(t.remoteStore)||L("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(o){const a=B(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c)))})(t.localStore);if(r===-1)return void e.resolve();const i=t.ka.get(r)||[];i.push(e),t.ka.set(r,i)}catch(r){const i=ds(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function Kd(n,e){(n.ka.get(e)||[]).forEach((t=>{t.resolve()})),n.ka.delete(e)}function Qd(n,e,t){const r=B(n);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Qi(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach((r=>{n.La.containsKey(r)||k_(n,r)}))}function k_(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);t!==null&&($i(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),Yd(n))}function Tu(n,e,t){for(const r of t)r instanceof I_?(n.La.addReference(r.key,e),sk(n,r)):r instanceof T_?(L("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||k_(n,r.key)):W()}function sk(n,e){const t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(L("SyncEngine","New document in limbo: "+t),n.xa.add(r),Yd(n))}function Yd(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new z(se.fromString(e)),r=n.qa.next();n.Na.set(r,new KA(t)),n.Oa=n.Oa.insert(t,r),jl(n.remoteStore,new fn(gt(ss(t.path)),r,"TargetPurposeLimboResolution",wt.oe))}}async function An(n,e,t){const r=B(n),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach(((a,c)=>{o.push(r.Ka(c,e,t).then((u=>{var p;if((u||t)&&r.isPrimaryClient){const m=u?!u.fromCache:(p=t?.targetChanges.get(c.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(u){i.push(u);const m=Ld.Wi(c.targetId,u);s.push(m)}})))})),await Promise.all(o),r.Ca.d_(i),await(async function(c,u){const p=B(c);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>C.forEach(u,(g=>C.forEach(g.$i,(b=>p.persistence.referenceDelegate.addReference(m,g.targetId,b))).next((()=>C.forEach(g.Ui,(b=>p.persistence.referenceDelegate.removeReference(m,g.targetId,b)))))))))}catch(m){if(!or(m))throw m;L("LocalStore","Failed to update sequence numbers: "+m)}for(const m of u){const g=m.targetId;if(!m.fromCache){const b=p.os.get(g),A=b.snapshotVersion,S=b.withLastLimboFreeSnapshotVersion(A);p.os=p.os.insert(g,S)}}})(r.localStore,s))}async function ok(n,e){const t=B(n);if(!t.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());const r=await l_(t.localStore,e);t.currentUser=e,(function(s,o){s.ka.forEach((a=>{a.forEach((c=>{c.reject(new O(D.CANCELLED,o))}))})),s.ka.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await An(t,r.hs)}}function ak(n,e){const t=B(n),r=t.Na.get(e);if(r&&r.va)return ne().add(r.key);{let i=ne();const s=t.Ma.get(e);if(!s)return i;for(const o of s){const a=t.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}async function lk(n,e){const t=B(n),r=await ol(t.localStore,e.query,!0),i=e.view.ba(r);return t.isPrimaryClient&&Tu(t,e.targetId,i.wa),i}async function ck(n,e){const t=B(n);return h_(t.localStore,e).then((r=>An(t,r)))}async function uk(n,e,t,r){const i=B(n),s=await(function(a,c){const u=B(a),p=B(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",(m=>p.Mn(m,c).next((g=>g?u.localDocuments.getDocuments(m,g):C.resolve(null)))))})(i.localStore,e);s!==null?(t==="pending"?await cs(i.remoteStore):t==="acknowledged"||t==="rejected"?(Qd(i,e,r||null),Kd(i,e),(function(a,c){B(B(a).mutationQueue).On(c)})(i.localStore,e)):W(),await An(i,s)):L("SyncEngine","Cannot apply mutation batch with id: "+e)}async function dk(n,e){const t=B(n);if(Ul(t),Jd(t),e===!0&&t.Qa!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await am(t,r.toArray());t.Qa=!0,await xu(t.remoteStore,!0);for(const s of i)jl(t.remoteStore,s)}else if(e===!1&&t.Qa!==!1){const r=[];let i=Promise.resolve();t.Ma.forEach(((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then((()=>(Qi(t,o),Wi(t.localStore,o,!0)))),$i(t.remoteStore,o)})),await i,await am(t,r),(function(o){const a=B(o);a.Na.forEach(((c,u)=>{$i(a.remoteStore,u)})),a.La.pr(),a.Na=new Map,a.Oa=new ye(z.comparator)})(t),t.Qa=!1,await xu(t.remoteStore,!1)}}async function am(n,e,t){const r=B(n),i=[],s=[];for(const o of e){let a;const c=r.Ma.get(o);if(c&&c.length!==0){a=await Gi(r.localStore,gt(c[0]));for(const u of c){const p=r.Fa.get(u),m=await lk(r,p);m.snapshot&&s.push(m.snapshot)}}else{const u=await d_(r.localStore,o);a=await Gi(r.localStore,u),await $d(r,R_(u),o,!1,a.resumeToken)}i.push(a)}return r.Ca.d_(s),i}function R_(n){return yv(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function hk(n){return(function(t){return B(B(t).persistence).Qi()})(B(n).localStore)}async function pk(n,e,t,r){const i=B(n);if(i.Qa)return void L("SyncEngine","Ignoring unexpected query state notification.");const s=i.Ma.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const o=await h_(i.localStore,_v(s[0])),a=Go.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Ve.EMPTY_BYTE_STRING);await An(i,o,a);break}case"rejected":await Wi(i.localStore,e,!0),Qi(i,e,r);break;default:W()}}async function fk(n,e,t){const r=Ul(n);if(r.Qa){for(const i of e){if(r.Ma.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){L("SyncEngine","Adding an already active target "+i);continue}const s=await d_(r.localStore,i),o=await Gi(r.localStore,s);await $d(r,R_(s),o.targetId,!1,o.resumeToken),jl(r.remoteStore,o)}for(const i of t)r.Ma.has(i)&&await Wi(r.localStore,i,!1).then((()=>{$i(r.remoteStore,i),Qi(r,i)})).catch(sr)}}function Ul(n){const e=B(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=A_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ak.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tk.bind(null,e),e.Ca.d_=qA.bind(null,e.eventManager),e.Ca.$a=HA.bind(null,e.eventManager),e}function Jd(n){const e=B(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rk.bind(null,e),e}function mk(n,e,t){const r=B(n);(async function(s,o,a){try{const c=await o.getMetadata();if(await(function(b,A){const S=B(b),P=Ue(A.createTime);return S.persistence.runTransaction("hasNewerBundle","readonly",(M=>S.Gr.getBundleMetadata(M,A.id))).then((M=>!!M&&M.createTime.compareTo(P)>=0))})(s.localStore,c))return await o.close(),a._completeWith((function(b){return{taskState:"Success",documentsLoaded:b.totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}})(c)),Promise.resolve(new Set);a._updateProgress(x_(c));const u=new WA(c,s.localStore,o.serializer);let p=await o.Ua();for(;p;){const g=await u.la(p);g&&a._updateProgress(g),p=await o.Ua()}const m=await u.complete();return await An(s,m.Ia,void 0),await(function(b,A){const S=B(b);return S.persistence.runTransaction("Save bundle","readwrite",(P=>S.Gr.saveBundleMetadata(P,A)))})(s.localStore,c),a._completeWith(m.progress),Promise.resolve(m.Pa)}catch(c){return en("SyncEngine",`Loading bundle failed with ${c}`),a._failWith(c),Promise.resolve(new Set)}})(r,e,t).then((i=>{r.sharedClientState.notifyBundleLoaded(i)}))}class Ao{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$o(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return a_(this.persistence,new o_,e.initialUser,this.serializer)}Ga(e){return new s_(Ml.Zr,this.serializer)}Wa(e){return new f_}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ao.provider={build:()=>new Ao};class C_ extends Ao{constructor(e,t,r){super(),this.Ja=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await Jd(this.Ja.syncEngine),await cs(this.Ja.remoteStore),await this.persistence.yi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}za(e){return a_(this.persistence,new o_,e.initialUser,this.serializer)}ja(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new ZP(r,e.asyncQueue,t)}Ha(e,t){const r=new VE(t,this.persistence);return new NE(e.asyncQueue,r)}Ga(e){const t=Od(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?_t.withCacheSize(this.cacheSizeBytes):_t.DEFAULT;return new Vd(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,m_(),qa(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new f_}}class gk extends C_{constructor(e,t){super(e,t,!1),this.Ja=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Ja.syncEngine;this.sharedClientState instanceof Vc&&(this.sharedClientState.syncEngine={no:uk.bind(null,t),ro:pk.bind(null,t),io:fk.bind(null,t),Qi:hk.bind(null,t),eo:ck.bind(null,t)},await this.sharedClientState.start()),await this.persistence.yi((async r=>{await dk(this.Ja.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Wa(e){const t=m_();if(!Vc.D(t))throw new O(D.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Od(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Vc(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class ko{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>om(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ok.bind(null,this.syncEngine),await xu(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new BA})()}createDatastore(e){const t=$o(e.databaseInfo.databaseId),r=(function(s){return new EA(s)})(e.databaseInfo);return(function(s,o,a,c){return new kA(s,o,a,c)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,i,s,o,a){return new CA(r,i,s,o,a)})(this.localStore,this.datastore,e.asyncQueue,(t=>om(this.syncEngine,t,0)),(function(){return em.D()?new em:new xA})())}createSyncEngine(e,t){return(function(i,s,o,a,c,u,p){const m=new QA(i,s,o,a,c,u);return p&&(m.Qa=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(i){const s=B(i);L("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await ls(s),s.k_.shutdown(),s.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ko.provider={build:()=>new ko};function lm(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Me("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,t){this.Xa=e,this.serializer=t,this.metadata=new tt,this.buffer=new Uint8Array,this.eu=(function(){return new TextDecoder("utf-8")})(),this.tu().then((r=>{r&&r.ua()?this.metadata.resolve(r.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.aa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Xa.cancel()}async getMetadata(){return this.metadata.promise}async Ua(){return await this.getMetadata(),this.tu()}async tu(){const e=await this.nu();if(e===null)return null;const t=this.eu.decode(e),r=Number(t);isNaN(r)&&this.ru(`length string (${t}) is not valid number`);const i=await this.iu(r);return new GA(JSON.parse(i),e.length+r)}su(){return this.buffer.findIndex((e=>e===123))}async nu(){for(;this.su()<0&&!await this.ou(););if(this.buffer.length===0)return null;const e=this.su();e<0&&this.ru("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async iu(e){for(;this.buffer.length<e;)await this.ou()&&this.ru("Reached the end of bundle when more is expected.");const t=this.eu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}async ou(){const e=await this.Xa.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new O(D.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(i,s){const o=B(i),a={documents:s.map((m=>Eo(o.serializer,m)))},c=await o.Lo("BatchGetDocuments",o.serializer.databaseId,se.emptyPath(),a,s.length),u=new Map;c.forEach((m=>{const g=NP(o.serializer,m);u.set(g.key.toString(),g)}));const p=[];return s.forEach((m=>{const g=u.get(m.toString());$(!!g),p.push(g)})),p})(this.datastore,e);return t.forEach((r=>this.recordVersion(r))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new as(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,r)=>{const i=z.fromPath(r);this.mutations.push(new Td(i,this.precondition(i)))})),await(async function(r,i){const s=B(r),o={writes:i.map((a=>Po(s.serializer,a)))};await s.Mo("Commit",s.serializer.databaseId,se.emptyPath(),o)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw W();t=Q.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new O(D.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Q.min())?Ie.exists(!1):Ie.updateTime(t):Ie.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Q.min()))throw new O(D.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ie.updateTime(t)}return Ie.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this._u=r.maxAttempts,this.t_=new Md(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go((async()=>{const e=new vk(this.datastore),t=this.cu(e);t&&t.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.lu(i)}))))})).catch((r=>{this.lu(r)}))}))}cu(e){try{const t=this.updateFunction(e);return!Uo(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget((()=>(this.uu(),Promise.resolve())))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!Dv(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ye.UNAUTHENTICATED,this.clientId=$y.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async o=>{L("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(L("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new tt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=ds(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Lc(n,e){n.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await l_(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function cm(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Xd(n);L("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>tm(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>tm(e.remoteStore,i))),n._onlineComponents=e}async function Xd(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{await Lc(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===D.FAILED_PRECONDITION||i.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;en("Error using user provided cache. Falling back to memory cache: "+t),await Lc(n,new Ao)}}else L("FirestoreClient","Using default OfflineComponentProvider"),await Lc(n,new Ao);return n._offlineComponents}async function Bl(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),await cm(n,n._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),await cm(n,new ko))),n._onlineComponents}function S_(n){return Xd(n).then((e=>e.persistence))}function Zd(n){return Xd(n).then((e=>e.localStore))}function D_(n){return Bl(n).then((e=>e.remoteStore))}function eh(n){return Bl(n).then((e=>e.syncEngine))}function bk(n){return Bl(n).then((e=>e.datastore))}async function Yi(n){const e=await Bl(n),t=e.eventManager;return t.onListen=YA.bind(null,e.syncEngine),t.onUnlisten=XA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=JA.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=ZA.bind(null,e.syncEngine),t}function xk(n){return n.asyncQueue.enqueue((async()=>{const e=await S_(n),t=await D_(n);return e.setNetworkEnabled(!0),(function(i){const s=B(i);return s.L_.delete(0),Ko(s)})(t)}))}function Ik(n){return n.asyncQueue.enqueue((async()=>{const e=await S_(n),t=await D_(n);return e.setNetworkEnabled(!1),(async function(i){const s=B(i);s.L_.add(0),await ls(s),s.q_.set("Offline")})(t)}))}function Tk(n,e){const t=new tt;return n.asyncQueue.enqueueAndForget((async()=>(async function(i,s,o){try{const a=await(function(u,p){const m=B(u);return m.persistence.runTransaction("read document","readonly",(g=>m.localDocuments.getDocument(g,p)))})(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new O(D.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const c=ds(a,`Failed to get document '${s} from cache`);o.reject(c)}})(await Zd(n),e,t))),t.promise}function N_(n,e,t={}){const r=new tt;return n.asyncQueue.enqueueAndForget((async()=>(function(s,o,a,c,u){const p=new zl({next:g=>{p.Za(),o.enqueueAndForget((()=>Hd(s,m)));const b=g.docs.has(a);!b&&g.fromCache?u.reject(new O(D.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&g.fromCache&&c&&c.source==="server"?u.reject(new O(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),m=new Wd(ss(a.path),p,{includeMetadataChanges:!0,_a:!0});return qd(s,m)})(await Yi(n),n.asyncQueue,e,t,r))),r.promise}function Ek(n,e){const t=new tt;return n.asyncQueue.enqueueAndForget((async()=>(async function(i,s,o){try{const a=await ol(i,s,!0),c=new E_(s,a.Ts),u=c.ma(a.documents),p=c.applyChanges(u,!1);o.resolve(p.snapshot)}catch(a){const c=ds(a,`Failed to execute query '${s} against cache`);o.reject(c)}})(await Zd(n),e,t))),t.promise}function V_(n,e,t={}){const r=new tt;return n.asyncQueue.enqueueAndForget((async()=>(function(s,o,a,c,u){const p=new zl({next:g=>{p.Za(),o.enqueueAndForget((()=>Hd(s,m))),g.fromCache&&c.source==="server"?u.reject(new O(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),m=new Wd(a,p,{includeMetadataChanges:!0,_a:!0});return qd(s,m)})(await Yi(n),n.asyncQueue,e,t,r))),r.promise}function Pk(n,e){const t=new zl(e);return n.asyncQueue.enqueueAndForget((async()=>(function(i,s){B(i).Y_.add(s),s.next()})(await Yi(n),t))),()=>{t.Za(),n.asyncQueue.enqueueAndForget((async()=>(function(i,s){B(i).Y_.delete(s)})(await Yi(n),t)))}}function Ak(n,e,t,r){const i=(function(o,a){let c;return c=typeof o=="string"?Vv().encode(o):o,(function(p,m){return new yk(p,m)})((function(p,m){if(p instanceof Uint8Array)return lm(p,m);if(p instanceof ArrayBuffer)return lm(new Uint8Array(p),m);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(c),a)})(t,$o(e));n.asyncQueue.enqueueAndForget((async()=>{mk(await eh(n),i,r)}))}function kk(n,e){return n.asyncQueue.enqueue((async()=>(function(r,i){const s=B(r);return s.persistence.runTransaction("Get named query","readonly",(o=>s.Gr.getNamedQuery(o,i)))})(await Zd(n),e)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(n,e,t){if(!t)throw new O(D.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function L_(n,e,t,r){if(e===!0&&r===!0)throw new O(D.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function dm(n){if(!z.isDocumentKey(n))throw new O(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function hm(n){if(z.isDocumentKey(n))throw new O(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ql(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":W()}function de(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new O(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ql(n);throw new O(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function F_(n,e){if(e<=0)throw new O(D.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new O(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new O(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}L_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=O_((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new O(D.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new O(D.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new O(D.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qo{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new O(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new O(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pm(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new xE;switch(r.type){case"firstParty":return new PE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new O(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=um.get(t);r&&(L("ComponentProvider","Removing Datastore"),um.delete(t),r.terminate())})(this),Promise.resolve()}}function Rk(n,e,t,r={}){var i;const s=(n=de(n,Qo))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&en("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Ye.MOCK_USER;else{a=Tg(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new O(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ye(u)}n._authCredentials=new IE(new Wy(a,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yt=class M_{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new M_(this.firestore,e,this._query)}},Ae=class j_{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new j_(this.firestore,e,this._key)}},Wn=class U_ extends yt{constructor(e,t,r){super(e,t,ss(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ae(this.firestore,null,new z(e))}withConverter(e){return new U_(this.firestore,e,this._path)}};function z_(n,e,...t){if(n=K(n),th("collection","path",e),n instanceof Qo){const r=se.fromString(e,...t);return hm(r),new Wn(n,null,r)}{if(!(n instanceof Ae||n instanceof Wn))throw new O(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(se.fromString(e,...t));return hm(r),new Wn(n.firestore,null,r)}}function Ck(n,e){if(n=de(n,Qo),th("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new O(D.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new yt(n,null,(function(r){return new En(se.emptyPath(),r)})(e))}function ul(n,e,...t){if(n=K(n),arguments.length===1&&(e=$y.newId()),th("doc","path",e),n instanceof Qo){const r=se.fromString(e,...t);return dm(r),new Ae(n,null,new z(r))}{if(!(n instanceof Ae||n instanceof Wn))throw new O(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(se.fromString(e,...t));return dm(r),new Ae(n.firestore,n instanceof Wn?n.converter:null,new z(r))}}function B_(n,e){return n=K(n),e=K(e),(n instanceof Ae||n instanceof Wn)&&(e instanceof Ae||e instanceof Wn)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function q_(n,e){return n=K(n),e=K(e),n instanceof yt&&e instanceof yt&&n.firestore===e.firestore&&Bo(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Md(this,"async_queue_retry"),this.Vu=()=>{const r=qa();r&&L("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const t=qa();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=qa();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new tt;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!or(e))throw e;L("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const i=(function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a})(r);throw Me("INTERNAL UNHANDLED ERROR: ",i),r})).then((r=>(this.du=!1,r))))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const i=Bd.createAndSchedule(this,e,t,r,(s=>this.yu(s)));return this.Tu.push(i),i}fu(){this.Eu&&W()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function Eu(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(n,["next","error","complete"])}class Sk{constructor(){this._progressObserver={},this._taskCompletionResolver=new tt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk=-1;let ze=class extends Qo{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new fm,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fm(e),this._firestoreClient=void 0,await e}}};function lt(n){if(n._terminated)throw new O(D.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||H_(n),n._firestoreClient}function H_(n){var e,t,r;const i=n._freezeSettings(),s=(function(a,c,u,p){return new nP(a,c,u,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,O_(p.experimentalLongPollingOptions),p.useFetchStreams)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new wk(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&(function(a){const c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}})(n._componentsProvider))}function Nk(n,e){en("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return G_(n,ko.provider,{build:r=>new C_(r,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}async function Vk(n){en("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();G_(n,ko.provider,{build:t=>new gk(t,e.cacheSizeBytes)})}function G_(n,e,t){if((n=de(n,ze))._firestoreClient||n._terminated)throw new O(D.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new O(D.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},H_(n)}function Ok(n){if(n._initialized&&!n._terminated)throw new O(D.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new tt;return n._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!Yt.D())return Promise.resolve();const i=r+"main";await Yt.delete(i)})(Od(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function Lk(n){return(function(t){const r=new tt;return t.asyncQueue.enqueueAndForget((async()=>ik(await eh(t),r))),r.promise})(lt(n=de(n,ze)))}function Fk(n){return xk(lt(n=de(n,ze)))}function Mk(n){return Ik(lt(n=de(n,ze)))}function jk(n,e){const t=lt(n=de(n,ze)),r=new Sk;return Ak(t,n._databaseId,e,r),r}function Uk(n,e){return kk(lt(n=de(n,ze)),e).then((t=>t?new yt(n,null,t.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nn(Ve.fromBase64String(e))}catch(t){throw new O(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new nn(Ve.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tr=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new O(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ti=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new O(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new O(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return te(this._lat,e._lat)||te(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk=/^__.*__$/;class Bk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Pn(e,this.data,this.fieldMask,t,this.fieldTransforms):new os(e,this.data,t,this.fieldTransforms)}}class W_{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Pn(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function $_(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W()}}class Gl{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Gl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return dl(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if($_(this.Cu)&&zk.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class qk{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||$o(e)}Qu(e,t,r,i=!1){return new Gl({Cu:e,methodName:t,qu:r,path:xe.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ni(n){const e=n._freezeSettings(),t=$o(n._databaseId);return new qk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Wl(n,e,t,r,i,s={}){const o=n.Qu(s.merge||s.mergeFields?2:0,e,t,i);ch("Data must be an object, but it was:",o,r);const a=Y_(r,o);let c,u;if(s.merge)c=new bt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const p=[];for(const m of s.mergeFields){const g=Pu(e,m,t);if(!o.contains(g))throw new O(D.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);X_(p,g)||p.push(g)}c=new bt(p),u=o.fieldTransforms.filter((m=>c.covers(m.field)))}else c=null,u=o.fieldTransforms;return new Bk(new et(a),c,u)}class Yo extends ti{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yo}}function K_(n,e,t){return new Gl({Cu:3,qu:e.settings.qu,methodName:n._methodName,xu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class rh extends ti{_toFieldTransform(e){return new Ho(e.path,new Bi)}isEqual(e){return e instanceof rh}}class ih extends ti{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){const t=K_(this,e,!0),r=this.Ku.map((s=>ri(s,t))),i=new Br(r);return new Ho(e.path,i)}isEqual(e){return e instanceof ih&&co(this.Ku,e.Ku)}}class sh extends ti{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){const t=K_(this,e,!0),r=this.Ku.map((s=>ri(s,t))),i=new qr(r);return new Ho(e.path,i)}isEqual(e){return e instanceof sh&&co(this.Ku,e.Ku)}}class oh extends ti{constructor(e,t){super(e),this.$u=t}_toFieldTransform(e){const t=new qi(e.serializer,Ev(e.serializer,this.$u));return new Ho(e.path,t)}isEqual(e){return e instanceof oh&&this.$u===e.$u}}function ah(n,e,t,r){const i=n.Qu(1,e,t);ch("Data must be an object, but it was:",i,r);const s=[],o=et.empty();ei(r,((c,u)=>{const p=uh(e,c,t);u=K(u);const m=i.Nu(p);if(u instanceof Yo)s.push(p);else{const g=ri(u,m);g!=null&&(s.push(p),o.set(p,g))}}));const a=new bt(s);return new W_(o,a,i.fieldTransforms)}function lh(n,e,t,r,i,s){const o=n.Qu(1,e,t),a=[Pu(e,r,t)],c=[i];if(s.length%2!=0)throw new O(D.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)a.push(Pu(e,s[g])),c.push(s[g+1]);const u=[],p=et.empty();for(let g=a.length-1;g>=0;--g)if(!X_(u,a[g])){const b=a[g];let A=c[g];A=K(A);const S=o.Nu(b);if(A instanceof Yo)u.push(b);else{const P=ri(A,S);P!=null&&(u.push(b),p.set(b,P))}}const m=new bt(u);return new W_(p,m,o.fieldTransforms)}function Q_(n,e,t,r=!1){return ri(t,n.Qu(r?4:3,e))}function ri(n,e){if(J_(n=K(n)))return ch("Unsupported field value:",e,n),Y_(n,e);if(n instanceof ti)return(function(r,i){if(!$_(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,i){const s=[];let o=0;for(const a of r){let c=ri(a,i.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}})(n,e)}return(function(r,i){if((r=K(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Ev(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Te.fromDate(r);return{timestampValue:Hi(i.serializer,s)}}if(r instanceof Te){const s=new Te(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hi(i.serializer,s)}}if(r instanceof Hl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof nn)return{bytesValue:Fv(i.serializer,r._byteString)};if(r instanceof Ae){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Rd(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof nh)return(function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map((c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return Id(a.serializer,c)}))}}}}}})(r,i);throw i.Bu(`Unsupported field value: ${ql(r)}`)})(n,e)}function Y_(n,e){const t={};return sv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ei(n,((r,i)=>{const s=ri(i,e.Mu(r));s!=null&&(t[r]=s)})),{mapValue:{fields:t}}}function J_(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Te||n instanceof Hl||n instanceof nn||n instanceof Ae||n instanceof ti||n instanceof nh)}function ch(n,e,t){if(!J_(t)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(t)){const r=ql(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function Pu(n,e,t){if((e=K(e))instanceof tr)return e._internalPath;if(typeof e=="string")return uh(n,e);throw dl("Field path arguments must be of type string or ",n,!1,void 0,t)}const Hk=new RegExp("[~\\*/\\[\\]]");function uh(n,e,t){if(e.search(Hk)>=0)throw dl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new tr(...e.split("."))._internalPath}catch{throw dl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function dl(n,e,t,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new O(D.INVALID_ARGUMENT,a+n+c)}function X_(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ae(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Gk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($l("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Gk extends Ro{data(){return super.data()}}function $l(n,e){return typeof e=="string"?uh(n,e):e instanceof tr?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new O(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dh{}class Jo extends dh{}function Mn(n,e,...t){let r=[];e instanceof dh&&r.push(e),r=r.concat(t),(function(s){const o=s.filter((c=>c instanceof hh)).length,a=s.filter((c=>c instanceof Kl)).length;if(o>1||o>0&&a>0)throw new O(D.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)n=i._apply(n);return n}class Kl extends Jo{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Kl(e,t,r)}_apply(e){const t=this._parse(e);return tw(e._query,t),new yt(e.firestore,e.converter,pu(e._query,t))}_parse(e){const t=ni(e.firestore);return(function(s,o,a,c,u,p,m){let g;if(u.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new O(D.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){gm(m,p);const b=[];for(const A of m)b.push(mm(c,s,A));g={arrayValue:{values:b}}}else g=mm(c,s,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||gm(m,p),g=Q_(a,o,m,p==="in"||p==="not-in");return oe.create(u,p,g)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Wk(n,e,t){const r=e,i=$l("where",n);return Kl._create(i,r,t)}class hh extends dh{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new hh(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:he.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,s){let o=i;const a=s.getFlattenedFilters();for(const c of a)tw(o,c),o=pu(o,c)})(e._query,t),new yt(e.firestore,e.converter,pu(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ph extends Jo{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ph(e,t)}_apply(e){const t=(function(i,s,o){if(i.startAt!==null)throw new O(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new O(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new To(s,o)})(e._query,this._field,this._direction);return new yt(e.firestore,e.converter,(function(i,s){const o=i.explicitOrderBy.concat([s]);return new En(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}}function $k(n,e="asc"){const t=e,r=$l("orderBy",n);return ph._create(r,t)}class Ql extends Jo{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Ql(e,t,r)}_apply(e){return new yt(e.firestore,e.converter,nl(e._query,this._limit,this._limitType))}}function Kk(n){return F_("limit",n),Ql._create("limit",n,"F")}function Qk(n){return F_("limitToLast",n),Ql._create("limitToLast",n,"L")}class Yl extends Jo{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Yl(e,t,r)}_apply(e){const t=ew(e,this.type,this._docOrFields,this._inclusive);return new yt(e.firestore,e.converter,(function(i,s){return new En(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)})(e._query,t))}}function Yk(...n){return Yl._create("startAt",n,!0)}function Jk(...n){return Yl._create("startAfter",n,!1)}class Jl extends Jo{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Jl(e,t,r)}_apply(e){const t=ew(e,this.type,this._docOrFields,this._inclusive);return new yt(e.firestore,e.converter,(function(i,s){return new En(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)})(e._query,t))}}function Xk(...n){return Jl._create("endBefore",n,!1)}function Zk(...n){return Jl._create("endAt",n,!0)}function ew(n,e,t,r){if(t[0]=K(t[0]),t[0]instanceof Ro)return(function(s,o,a,c,u){if(!c)throw new O(D.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const p=[];for(const m of Si(s))if(m.field.isKeyField())p.push(Ur(o,c.key));else{const g=c.data.field(m.field);if(Dl(g))throw new O(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(g===null){const b=m.field.canonicalString();throw new O(D.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`)}p.push(g)}return new Zn(p,u)})(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=ni(n.firestore);return(function(o,a,c,u,p,m){const g=o.explicitOrderBy;if(p.length>g.length)throw new O(D.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const b=[];for(let A=0;A<p.length;A++){const S=p[A];if(g[A].field.isKeyField()){if(typeof S!="string")throw new O(D.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof S}`);if(!bd(o)&&S.indexOf("/")!==-1)throw new O(D.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${S}' contains a slash.`);const P=o.path.child(se.fromString(S));if(!z.isDocumentKey(P))throw new O(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${P}' is not because it contains an odd number of segments.`);const M=new z(P);b.push(Ur(a,M))}else{const P=Q_(c,u,S);b.push(P)}}return new Zn(b,m)})(n._query,n.firestore._databaseId,i,e,t,r)}}function mm(n,e,t){if(typeof(t=K(t))=="string"){if(t==="")throw new O(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bd(e)&&t.indexOf("/")!==-1)throw new O(D.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(se.fromString(t));if(!z.isDocumentKey(r))throw new O(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ur(n,new z(r))}if(t instanceof Ae)return Ur(n,t._key);throw new O(D.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ql(t)}.`)}function gm(n,e){if(!Array.isArray(n)||n.length===0)throw new O(D.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tw(n,e){const t=(function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new O(D.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new O(D.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class fh{convertValue(e,t="none"){switch(jr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Yn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw W()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ei(e,((i,s)=>{r[i]=this.convertValue(s,t)})),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map((o=>be(o.doubleValue)));return new nh(s)}convertGeoPoint(e){return new Hl(be(e.latitude),be(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=_d(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(bo(e));default:return null}}convertTimestamp(e){const t=wn(e);return new Te(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=se.fromString(e);$(Kv(r));const i=new Jn(r.get(1),r.get(3)),s=new z(r.popFirst(5));return i.isEqual(t)||Me(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class eR extends fh{constructor(e){super(),this.firestore=e}convertBytes(e){return new nn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ae(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let bn=class extends Ro{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new io(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field($l("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},io=class extends bn{data(e={}){return super.data(e)}},nr=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Cr(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new io(this._firestore,this._userDataWriter,r.key,r,new Cr(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new O(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((a=>{const c=new io(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Cr(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((a=>s||a.type!==3)).map((a=>{const c=new io(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Cr(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,p=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),p=o.indexOf(a.doc.key)),{type:tR(a.type),doc:c,oldIndex:u,newIndex:p}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function tR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W()}}function nw(n,e){return n instanceof bn&&e instanceof bn?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof nr&&e instanceof nr&&n._firestore===e._firestore&&q_(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(n){n=de(n,Ae);const e=de(n.firestore,ze);return N_(lt(e),n._key).then((t=>mh(e,n,t)))}class ii extends fh{constructor(e){super(),this.firestore=e}convertBytes(e){return new nn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ae(this.firestore,null,t)}}function rR(n){n=de(n,Ae);const e=de(n.firestore,ze),t=lt(e),r=new ii(e);return Tk(t,n._key).then((i=>new bn(e,r,n._key,i,new Cr(i!==null&&i.hasLocalMutations,!0),n.converter)))}function iR(n){n=de(n,Ae);const e=de(n.firestore,ze);return N_(lt(e),n._key,{source:"server"}).then((t=>mh(e,n,t)))}function sR(n){n=de(n,yt);const e=de(n.firestore,ze),t=lt(e),r=new ii(e);return Z_(n._query),V_(t,n._query).then((i=>new nr(e,r,n,i)))}function oR(n){n=de(n,yt);const e=de(n.firestore,ze),t=lt(e),r=new ii(e);return Ek(t,n._query).then((i=>new nr(e,r,n,i)))}function aR(n){n=de(n,yt);const e=de(n.firestore,ze),t=lt(e),r=new ii(e);return V_(t,n._query,{source:"server"}).then((i=>new nr(e,r,n,i)))}function ym(n,e,t){n=de(n,Ae);const r=de(n.firestore,ze),i=Xl(n.converter,e,t);return Xo(r,[Wl(ni(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Ie.none())])}function vm(n,e,t,...r){n=de(n,Ae);const i=de(n.firestore,ze),s=ni(i);let o;return o=typeof(e=K(e))=="string"||e instanceof tr?lh(s,"updateDoc",n._key,e,t,r):ah(s,"updateDoc",n._key,e),Xo(i,[o.toMutation(n._key,Ie.exists(!0))])}function lR(n){return Xo(de(n.firestore,ze),[new as(n._key,Ie.none())])}function cR(n,e){const t=de(n.firestore,ze),r=ul(n),i=Xl(n.converter,e);return Xo(t,[Wl(ni(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Ie.exists(!1))]).then((()=>r))}function rw(n,...e){var t,r,i;n=K(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Eu(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Eu(e[o])){const m=e[o];e[o]=(t=m.next)===null||t===void 0?void 0:t.bind(m),e[o+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[o+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let c,u,p;if(n instanceof Ae)u=de(n.firestore,ze),p=ss(n._key.path),c={next:m=>{e[o]&&e[o](mh(u,n,m))},error:e[o+1],complete:e[o+2]};else{const m=de(n,yt);u=de(m.firestore,ze),p=m._query;const g=new ii(u);c={next:b=>{e[o]&&e[o](new nr(u,g,m,b))},error:e[o+1],complete:e[o+2]},Z_(n._query)}return(function(g,b,A,S){const P=new zl(S),M=new Wd(b,P,A);return g.asyncQueue.enqueueAndForget((async()=>qd(await Yi(g),M))),()=>{P.Za(),g.asyncQueue.enqueueAndForget((async()=>Hd(await Yi(g),M)))}})(lt(u),p,a,c)}function uR(n,e){return Pk(lt(n=de(n,ze)),Eu(e)?e:{next:e})}function Xo(n,e){return(function(r,i){const s=new tt;return r.asyncQueue.enqueueAndForget((async()=>ek(await eh(r),i,s))),s.promise})(lt(n),e)}function mh(n,e,t){const r=t.docs.get(e._key),i=new ii(n);return new bn(n,i,e._key,r,new Cr(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hR=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ni(e)}set(e,t,r){this._verifyNotCommitted();const i=Un(e,this._firestore),s=Xl(i.converter,t,r),o=Wl(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Ie.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=Un(e,this._firestore);let o;return o=typeof(t=K(t))=="string"||t instanceof tr?lh(this._dataReader,"WriteBatch.update",s._key,t,r,i):ah(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,Ie.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Un(e,this._firestore);return this._mutations=this._mutations.concat(new as(t._key,Ie.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new O(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Un(n,e){if((n=K(n)).firestore!==e)throw new O(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pR=class extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=ni(t)}get(t){const r=Un(t,this._firestore),i=new eR(this._firestore);return this._transaction.lookup([r._key]).then((s=>{if(!s||s.length!==1)return W();const o=s[0];if(o.isFoundDocument())return new Ro(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Ro(this._firestore,i,r._key,null,r.converter);throw W()}))}set(t,r,i){const s=Un(t,this._firestore),o=Xl(s.converter,r,i),a=Wl(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(t,r,i,...s){const o=Un(t,this._firestore);let a;return a=typeof(r=K(r))=="string"||r instanceof tr?lh(this._dataReader,"Transaction.update",o._key,r,i,s):ah(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(t){const r=Un(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Un(e,this._firestore),r=new ii(this._firestore);return super.get(e).then((i=>new bn(this._firestore,r,t._key,i._document,new Cr(!1,!1),t.converter)))}};function fR(n,e,t){n=de(n,ze);const r=Object.assign(Object.assign({},dR),t);return(function(s){if(s.maxAttempts<1)throw new O(D.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(s,o,a){const c=new tt;return s.asyncQueue.enqueueAndForget((async()=>{const u=await bk(s);new _k(s.asyncQueue,u,a,o,c).au()})),c.promise})(lt(n),(i=>e(new pR(n,i))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(){return new Yo("deleteField")}function gR(){return new rh("serverTimestamp")}function yR(...n){return new ih("arrayUnion",n)}function vR(...n){return new sh("arrayRemove",n)}function _R(n){return new oh("increment",n)}(function(e,t=!0){(function(i){is=i})(xn),vn(new Dt("firestore",((r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ze(new TE(r.getProvider("auth-internal")),new kE(r.getProvider("app-check-internal")),(function(u,p){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new O(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jn(u.options.projectId,p)})(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a}),"PUBLIC").setMultipleInstances(!0)),Pt(af,"4.7.3",e),Pt(af,"4.7.3","esm2017")})();const wR="@firebase/firestore-compat",bR="0.3.38";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new O("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(){if(typeof Uint8Array>"u")throw new O("unimplemented","Uint8Arrays are not available in this environment.")}function wm(){if(!eP())throw new O("unimplemented","Blobs are unavailable in Firestore in this environment.")}let iw=class Au{constructor(e){this._delegate=e}static fromBase64String(e){return wm(),new Au(nn.fromBase64String(e))}static fromUint8Array(e){return _m(),new Au(nn.fromUint8Array(e))}toBase64(){return wm(),this._delegate.toBase64()}toUint8Array(){return _m(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(n){return xR(n,["next","error","complete"])}function xR(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{enableIndexedDbPersistence(e,t){return Nk(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return Vk(e._delegate)}clearIndexedDbPersistence(e){return Ok(e._delegate)}}class sw{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Jn||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&en("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){Rk(this._delegate,e,t,r)}enableNetwork(){return Fk(this._delegate)}disableNetwork(){return Mk(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,L_("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Lk(this._delegate)}onSnapshotsInSync(e){return uR(this._delegate,e)}get app(){if(!this._appCompat)throw new O("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ji(this,z_(this._delegate,e))}catch(t){throw pt(t,"collection()","Firestore.collection()")}}doc(e){try{return new Rt(this,ul(this._delegate,e))}catch(t){throw pt(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ht(this,Ck(this._delegate,e))}catch(t){throw pt(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return fR(this._delegate,t=>e(new ow(this,t)))}batch(){return lt(this._delegate),new aw(new hR(this._delegate,e=>Xo(this._delegate,e)))}loadBundle(e){return jk(this._delegate,e)}namedQuery(e){return Uk(this._delegate,e).then(t=>t?new ht(this,t):null)}}class Zl extends fh{constructor(e){super(),this.firestore=e}convertBytes(e){return new iw(new nn(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Rt.forKey(t,this.firestore,null)}}function TR(n){wE(n)}class ow{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Zl(e)}get(e){const t=Sr(e);return this._delegate.get(t).then(r=>new Co(this._firestore,new bn(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Sr(e);return r?(gh("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Sr(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Sr(e);return this._delegate.delete(t),this}}class aw{constructor(e){this._delegate=e}set(e,t,r){const i=Sr(e);return r?(gh("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Sr(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Sr(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class $r{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new io(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new So(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=$r.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new $r(e,new Zl(e),t),i.set(t,s)),s}}$r.INSTANCES=new WeakMap;class Rt{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Zl(e)}static forPath(e,t,r){if(e.length%2!==0)throw new O("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Rt(t,new Ae(t._delegate,r,new z(e)))}static forKey(e,t,r){return new Rt(t,new Ae(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ji(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ji(this.firestore,z_(this._delegate,e))}catch(t){throw pt(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=K(e),e instanceof Ae?B_(this._delegate,e):!1}set(e,t){t=gh("DocumentReference.set",t);try{return t?ym(this._delegate,e,t):ym(this._delegate,e)}catch(r){throw pt(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?vm(this._delegate,e):vm(this._delegate,e,t,...r)}catch(i){throw pt(i,"updateDoc()","DocumentReference.update()")}}delete(){return lR(this._delegate)}onSnapshot(...e){const t=lw(e),r=cw(e,i=>new Co(this.firestore,new bn(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return rw(this._delegate,t,r)}get(e){let t;return e?.source==="cache"?t=rR(this._delegate):e?.source==="server"?t=iR(this._delegate):t=nR(this._delegate),t.then(r=>new Co(this.firestore,new bn(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Rt(this.firestore,e?this._delegate.withConverter($r.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function pt(n,e,t){return n.message=n.message.replace(e,t),n}function lw(n){for(const e of n)if(typeof e=="object"&&!ku(e))return e;return{}}function cw(n,e){var t,r;let i;return ku(n[0])?i=n[0]:ku(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class Co{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Rt(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return nw(this._delegate,e._delegate)}}class So extends Co{data(e){const t=this._delegate.data(e);return this._delegate._converter||bE(t!==void 0),t}}class ht{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Zl(e)}where(e,t,r){try{return new ht(this.firestore,Mn(this._delegate,Wk(e,t,r)))}catch(i){throw pt(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ht(this.firestore,Mn(this._delegate,$k(e,t)))}catch(r){throw pt(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ht(this.firestore,Mn(this._delegate,Kk(e)))}catch(t){throw pt(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ht(this.firestore,Mn(this._delegate,Qk(e)))}catch(t){throw pt(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ht(this.firestore,Mn(this._delegate,Yk(...e)))}catch(t){throw pt(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ht(this.firestore,Mn(this._delegate,Jk(...e)))}catch(t){throw pt(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ht(this.firestore,Mn(this._delegate,Xk(...e)))}catch(t){throw pt(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ht(this.firestore,Mn(this._delegate,Zk(...e)))}catch(t){throw pt(t,"endAt()","Query.endAt()")}}isEqual(e){return q_(this._delegate,e._delegate)}get(e){let t;return e?.source==="cache"?t=oR(this._delegate):e?.source==="server"?t=aR(this._delegate):t=sR(this._delegate),t.then(r=>new Ru(this.firestore,new nr(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=lw(e),r=cw(e,i=>new Ru(this.firestore,new nr(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return rw(this._delegate,t,r)}withConverter(e){return new ht(this.firestore,e?this._delegate.withConverter($r.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class ER{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new So(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Ru{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ht(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new So(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new ER(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new So(this._firestore,r))})}isEqual(e){return nw(this._delegate,e._delegate)}}class Ji extends ht{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Rt(this.firestore,e):null}doc(e){try{return e===void 0?new Rt(this.firestore,ul(this._delegate)):new Rt(this.firestore,ul(this._delegate,e))}catch(t){throw pt(t,"doc()","CollectionReference.doc()")}}add(e){return cR(this._delegate,e).then(t=>new Rt(this.firestore,t))}isEqual(e){return B_(this._delegate,e._delegate)}withConverter(e){return new Ji(this.firestore,e?this._delegate.withConverter($r.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Sr(n){return de(n,Ae)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(...e){this._delegate=new tr(...e)}static documentId(){return new yh(xe.keyField().canonicalString())}isEqual(e){return e=K(e),e instanceof tr?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this._delegate=e}static serverTimestamp(){const e=gR();return e._methodName="FieldValue.serverTimestamp",new Pr(e)}static delete(){const e=mR();return e._methodName="FieldValue.delete",new Pr(e)}static arrayUnion(...e){const t=yR(...e);return t._methodName="FieldValue.arrayUnion",new Pr(t)}static arrayRemove(...e){const t=vR(...e);return t._methodName="FieldValue.arrayRemove",new Pr(t)}static increment(e){const t=_R(e);return t._methodName="FieldValue.increment",new Pr(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR={Firestore:sw,GeoPoint:Hl,Timestamp:Te,Blob:iw,Transaction:ow,WriteBatch:aw,DocumentReference:Rt,DocumentSnapshot:Co,Query:ht,QueryDocumentSnapshot:So,QuerySnapshot:Ru,CollectionReference:Ji,FieldPath:yh,FieldValue:Pr,setLogLevel:TR,CACHE_SIZE_UNLIMITED:Dk};function AR(n,e){n.INTERNAL.registerComponent(new Dt("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},PR)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(n){AR(n,(e,t)=>new sw(e,t,new IR)),n.registerVersion(wR,bR)}kR(At);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="firebasestorage.googleapis.com",dw="storageBucket",RR=120*1e3,CR=600*1e3,SR=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re extends at{constructor(e,t,r=0){super(Fc(e),`Firebase Storage: ${t} (${Fc(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Re.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Fc(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var we;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(we||(we={}));function Fc(n){return"storage/"+n}function vh(){const n="An unknown error occurred, please check the error payload for server response.";return new Re(we.UNKNOWN,n)}function DR(n){return new Re(we.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function NR(n){return new Re(we.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function VR(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Re(we.UNAUTHENTICATED,n)}function OR(){return new Re(we.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function LR(n){return new Re(we.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function hw(){return new Re(we.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function pw(){return new Re(we.CANCELED,"User canceled the upload/download.")}function FR(n){return new Re(we.INVALID_URL,"Invalid URL '"+n+"'.")}function MR(n){return new Re(we.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function jR(){return new Re(we.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+dw+"' property when initializing the app?")}function fw(){return new Re(we.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function UR(){return new Re(we.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function zR(){return new Re(we.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function BR(n){return new Re(we.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ni(n){return new Re(we.INVALID_ARGUMENT,n)}function mw(){return new Re(we.APP_DELETED,"The Firebase app was deleted.")}function gw(n){return new Re(we.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function so(n,e){return new Re(we.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function zs(n){throw new Re(we.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=ot.makeFromUrl(e,t)}catch{return new ot(e,"")}if(r.path==="")return r;throw MR(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function u(H){H.path_=decodeURIComponent(H.path)}const p="v[A-Za-z0-9_]+",m=t.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",b=new RegExp(`^https?://${m}/${p}/b/${i}/o${g}`,"i"),A={bucket:1,path:3},S=t===uw?"(?:storage.googleapis.com|storage.cloud.google.com)":t,P="([^?#]*)",M=new RegExp(`^https?://${S}/${i}/${P}`,"i"),V=[{regex:a,indices:c,postModify:s},{regex:b,indices:A,postModify:u},{regex:M,indices:{bucket:1,path:2},postModify:u}];for(let H=0;H<V.length;H++){const J=V[H],Y=J.regex.exec(e);if(Y){const w=Y[J.indices.bucket];let v=Y[J.indices.path];v||(v=""),r=new ot(w,v),J.postModify(r);break}}if(r==null)throw FR(e);return r}}class qR{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(n,e,t){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let u=!1;function p(...P){u||(u=!0,e.apply(null,P))}function m(P){i=setTimeout(()=>{i=null,n(b,c())},P)}function g(){s&&clearTimeout(s)}function b(P,...M){if(u){g();return}if(P){g(),p.call(null,P,...M);return}if(c()||o){g(),p.call(null,P,...M);return}r<64&&(r*=2);let V;a===1?(a=2,V=0):V=(r+Math.random())*1e3,m(V)}let A=!1;function S(P){A||(A=!0,g(),!u&&(i!==null?(P||(a=2),clearTimeout(i),m(0)):P||(a=1)))}return m(0),s=setTimeout(()=>{o=!0,S(!0)},t),S}function GR(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(n){return n!==void 0}function $R(n){return typeof n=="function"}function KR(n){return typeof n=="object"&&!Array.isArray(n)}function ec(n){return typeof n=="string"||n instanceof String}function bm(n){return _h()&&n instanceof Blob}function _h(){return typeof Blob<"u"}function Cu(n,e,t,r){if(r<e)throw Ni(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Ni(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function yw(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var Or;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Or||(Or={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,t,r,i,s,o,a,c,u,p,m,g=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=p,this.connectionFactory_=m,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,A)=>{this.resolve_=b,this.reject_=A,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Aa(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Or.NO_ERROR,c=s.getStatus();if(!a||vw(c,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===Or.ABORT;r(!1,new Aa(!1,null,p));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new Aa(u,s))})},t=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());WR(c)?s(c):s()}catch(c){o(c)}else if(a!==null){const c=vh();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){const c=this.appDelete_?mw():pw();o(c)}else{const c=hw();o(c)}};this.canceled_?t(!1,new Aa(!1,null,!0)):this.backoffId_=HR(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&GR(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Aa{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function YR(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function JR(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function XR(n,e){e&&(n["X-Firebase-GMPID"]=e)}function ZR(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function eC(n,e,t,r,i,s,o=!0){const a=yw(n.urlParams),c=n.url+a,u=Object.assign({},n.headers);return XR(u,e),YR(u,t),JR(u,s),ZR(u,r),new QR(c,n.method,u,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function nC(...n){const e=tC();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(_h())return new Blob(n);throw new Re(we.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function rC(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(n){if(typeof atob>"u")throw BR("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ct={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Mc{constructor(e,t){this.data=e,this.contentType=t||null}}function _w(n,e){switch(n){case Ct.RAW:return new Mc(ww(e));case Ct.BASE64:case Ct.BASE64URL:return new Mc(bw(n,e));case Ct.DATA_URL:return new Mc(oC(e),aC(e))}throw vh()}function ww(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=n.charCodeAt(++t);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function sC(n){let e;try{e=decodeURIComponent(n)}catch{throw so(Ct.DATA_URL,"Malformed data URL.")}return ww(e)}function bw(n,e){switch(n){case Ct.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw so(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ct.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw so(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=iC(e)}catch(i){throw i.message.includes("polyfill")?i:so(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class xw{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw so(Ct.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=lC(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function oC(n){const e=new xw(n);return e.base64?bw(Ct.BASE64,e.rest):sC(e.rest)}function aC(n){return new xw(n).contentType}function lC(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,t){let r=0,i="";bm(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(bm(this.data_)){const r=this.data_,i=rC(r,e,t);return i===null?null:new dn(i)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new dn(r,!0)}}static getBlob(...e){if(_h()){const t=e.map(r=>r instanceof dn?r.data_:r);return new dn(nC.apply(null,t))}else{const t=e.map(o=>ec(o)?_w(Ct.RAW,o).data:o.data_);let r=0;t.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new dn(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(n){let e;try{e=JSON.parse(n)}catch{return null}return KR(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function uC(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function Iw(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(n,e){return e}class dt{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||dC}}let ka=null;function hC(n){return!ec(n)||n.length<2?n:Iw(n)}function tc(){if(ka)return ka;const n=[];n.push(new dt("bucket")),n.push(new dt("generation")),n.push(new dt("metageneration")),n.push(new dt("name","fullPath",!0));function e(s,o){return hC(o)}const t=new dt("name");t.xform=e,n.push(t);function r(s,o){return o!==void 0?Number(o):o}const i=new dt("size");return i.xform=r,n.push(i),n.push(new dt("timeCreated")),n.push(new dt("updated")),n.push(new dt("md5Hash",null,!0)),n.push(new dt("cacheControl",null,!0)),n.push(new dt("contentDisposition",null,!0)),n.push(new dt("contentEncoding",null,!0)),n.push(new dt("contentLanguage",null,!0)),n.push(new dt("contentType",null,!0)),n.push(new dt("metadata","customMetadata",!0)),ka=n,ka}function pC(n,e){function t(){const r=n.bucket,i=n.fullPath,s=new ot(r,i);return e._makeStorageReference(s)}Object.defineProperty(n,"ref",{get:t})}function fC(n,e,t){const r={};r.type="file";const i=t.length;for(let s=0;s<i;s++){const o=t[s];r[o.local]=o.xform(r,e[o.server])}return pC(r,n),r}function Tw(n,e,t){const r=wh(e);return r===null?null:fC(n,r,t)}function mC(n,e,t,r){const i=wh(e);if(i===null||!ec(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const p=n.bucket,m=n.fullPath,g="/b/"+o(p)+"/o/"+o(m),b=cr(g,t,r),A=yw({alt:"media",token:u});return b+A})[0]}function bh(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="prefixes",Im="items";function gC(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[xm])for(const i of t[xm]){const s=i.replace(/\/$/,""),o=n._makeStorageReference(new ot(e,s));r.prefixes.push(o)}if(t[Im])for(const i of t[Im]){const s=n._makeStorageReference(new ot(e,i.name));r.items.push(s)}return r}function yC(n,e,t){const r=wh(t);return r===null?null:gC(n,e,r)}class kn{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(n){if(!n)throw vh()}function nc(n,e){function t(r,i){const s=Tw(n,i,e);return Xt(s!==null),s}return t}function vC(n,e){function t(r,i){const s=yC(n,e,i);return Xt(s!==null),s}return t}function _C(n,e){function t(r,i){const s=Tw(n,i,e);return Xt(s!==null),mC(s,i,n.host,n._protocol)}return t}function hs(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=OR():i=VR():t.getStatus()===402?i=NR(n.bucket):t.getStatus()===403?i=LR(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function rc(n){const e=hs(n);function t(r,i){let s=e(r,i);return r.getStatus()===404&&(s=DR(n.path)),s.serverResponse=i.serverResponse,s}return t}function Ew(n,e,t){const r=e.fullServerUrl(),i=cr(r,n.host,n._protocol),s="GET",o=n.maxOperationRetryTime,a=new kn(i,s,nc(n,t),o);return a.errorHandler=rc(e),a}function wC(n,e,t,r,i){const s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",t.length>0&&(s.delimiter=t),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=e.bucketOnlyServerUrl(),a=cr(o,n.host,n._protocol),c="GET",u=n.maxOperationRetryTime,p=new kn(a,c,vC(n,e.bucket),u);return p.urlParams=s,p.errorHandler=hs(e),p}function bC(n,e,t){const r=e.fullServerUrl(),i=cr(r,n.host,n._protocol),s="GET",o=n.maxOperationRetryTime,a=new kn(i,s,_C(n,t),o);return a.errorHandler=rc(e),a}function xC(n,e,t,r){const i=e.fullServerUrl(),s=cr(i,n.host,n._protocol),o="PATCH",a=bh(t,r),c={"Content-Type":"application/json; charset=utf-8"},u=n.maxOperationRetryTime,p=new kn(s,o,nc(n,r),u);return p.headers=c,p.body=a,p.errorHandler=rc(e),p}function IC(n,e){const t=e.fullServerUrl(),r=cr(t,n.host,n._protocol),i="DELETE",s=n.maxOperationRetryTime;function o(c,u){}const a=new kn(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=rc(e),a}function TC(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function Pw(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=TC(null,e)),r}function EC(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let V="";for(let H=0;H<2;H++)V=V+Math.random().toString().slice(2);return V}const c=a();o["Content-Type"]="multipart/related; boundary="+c;const u=Pw(e,r,i),p=bh(u,t),m="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,g=`\r
--`+c+"--",b=dn.getBlob(m,r,g);if(b===null)throw fw();const A={name:u.fullPath},S=cr(s,n.host,n._protocol),P="POST",M=n.maxUploadRetryTime,F=new kn(S,P,nc(n,t),M);return F.urlParams=A,F.headers=o,F.body=b.uploadData(),F.errorHandler=hs(e),F}class hl{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function xh(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Xt(!1)}return Xt(!!t&&(e||["active"]).indexOf(t)!==-1),t}function PC(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),o=Pw(e,r,i),a={name:o.fullPath},c=cr(s,n.host,n._protocol),u="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},m=bh(o,t),g=n.maxUploadRetryTime;function b(S){xh(S);let P;try{P=S.getResponseHeader("X-Goog-Upload-URL")}catch{Xt(!1)}return Xt(ec(P)),P}const A=new kn(c,u,b,g);return A.urlParams=a,A.headers=p,A.body=m,A.errorHandler=hs(e),A}function AC(n,e,t,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const p=xh(u,["active","final"]);let m=null;try{m=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Xt(!1)}m||Xt(!1);const g=Number(m);return Xt(!isNaN(g)),new hl(g,r.size(),p==="final")}const o="POST",a=n.maxUploadRetryTime,c=new kn(t,o,s,a);return c.headers=i,c.errorHandler=hs(e),c}const Tm=256*1024;function kC(n,e,t,r,i,s,o,a){const c=new hl(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw UR();const u=c.total-c.current;let p=u;i>0&&(p=Math.min(p,i));const m=c.current,g=m+p;let b="";p===0?b="finalize":u===p?b="upload, finalize":b="upload";const A={"X-Goog-Upload-Command":b,"X-Goog-Upload-Offset":`${c.current}`},S=r.slice(m,g);if(S===null)throw fw();function P(H,J){const Y=xh(H,["active","final"]),w=c.current+p,v=r.size();let _;return Y==="final"?_=nc(e,s)(H,J):_=null,new hl(w,v,Y==="final",_)}const M="POST",F=e.maxUploadRetryTime,V=new kn(t,M,P,F);return V.headers=A,V.body=S.uploadData(),V.progressCallback=a||null,V.errorHandler=hs(n),V}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC={STATE_CHANGED:"state_changed"},ft={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function jc(n){switch(n){case"running":case"pausing":case"canceling":return ft.RUNNING;case"paused":return ft.PAUSED;case"success":return ft.SUCCESS;case"canceled":return ft.CANCELED;case"error":return ft.ERROR;default:return ft.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,t,r){if($R(e)||t!=null||r!=null)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class SC{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Or.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Or.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Or.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw zs("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw zs("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw zs("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw zs("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw zs("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class DC extends SC{initXhr(){this.xhr_.responseType="text"}}function Wt(){return new DC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=tc(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(we.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(vw(i.status,[]))if(s)i=hw();else{this.sleepTime=Math.max(this.sleepTime*2,SR),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(we.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const r=PC(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Wt,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=AC(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Wt,t,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=Tm*this._chunkMultiplier,t=new hl(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=kC(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Wt,i,s,!1);this._request=a,a.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Tm*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=Ew(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Wt,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=EC(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Wt,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=pw(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=jc(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const s=new CC(t||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(jc(this._state)){case ft.SUCCESS:wi(this._resolve.bind(null,this.snapshot))();break;case ft.CANCELED:case ft.ERROR:const t=this._reject;wi(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(jc(this._state)){case ft.RUNNING:case ft.PAUSED:e.next&&wi(e.next.bind(e,this.snapshot))();break;case ft.SUCCESS:e.complete&&wi(e.complete.bind(e))();break;case ft.CANCELED:case ft.ERROR:e.error&&wi(e.error.bind(e,this._error))();break;default:e.error&&wi(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,t){this._service=e,t instanceof ot?this._location=t:this._location=ot.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Kr(e,t)}get root(){const e=new ot(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Iw(this._location.path)}get storage(){return this._service}get parent(){const e=cC(this._location.path);if(e===null)return null;const t=new ot(this._location.bucket,e);return new Kr(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw gw(e)}}function NC(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new Aw(n,new dn(e),t)}function VC(n){const e={prefixes:[],items:[]};return kw(n,e).then(()=>e)}async function kw(n,e,t){const i=await Rw(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await kw(n,e,i.nextPageToken)}function Rw(n,e){e!=null&&typeof e.maxResults=="number"&&Cu("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=wC(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Wt)}function OC(n){n._throwIfRoot("getMetadata");const e=Ew(n.storage,n._location,tc());return n.storage.makeRequestWithTokens(e,Wt)}function LC(n,e){n._throwIfRoot("updateMetadata");const t=xC(n.storage,n._location,e,tc());return n.storage.makeRequestWithTokens(t,Wt)}function FC(n){n._throwIfRoot("getDownloadURL");const e=bC(n.storage,n._location,tc());return n.storage.makeRequestWithTokens(e,Wt).then(t=>{if(t===null)throw zR();return t})}function MC(n){n._throwIfRoot("deleteObject");const e=IC(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Wt)}function Cw(n,e){const t=uC(n._location.path,e),r=new ot(n._location.bucket,t);return new Kr(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(n){return/^[A-Za-z]+:\/\//.test(n)}function UC(n,e){return new Kr(n,e)}function Sw(n,e){if(n instanceof Ih){const t=n;if(t._bucket==null)throw jR();const r=new Kr(t,t._bucket);return e!=null?Sw(r,e):r}else return e!==void 0?Cw(n,e):n}function zC(n,e){if(e&&jC(e)){if(n instanceof Ih)return UC(n,e);throw Ni("To use ref(service, url), the first argument must be a Storage instance.")}else return Sw(n,e)}function Em(n,e){const t=e?.[dw];return t==null?null:ot.makeFromBucketSpec(t,n)}function BC(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:Tg(i,n.app.options.projectId))}class Ih{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=uw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=RR,this._maxUploadRetryTime=CR,this._requests=new Set,i!=null?this._bucket=ot.makeFromBucketSpec(i,this._host):this._bucket=Em(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ot.makeFromBucketSpec(this._url,e):this._bucket=Em(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Cu("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Cu("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Kr(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new qR(mw());{const o=eC(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const Pm="@firebase/storage",Am="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="storage";function HC(n,e,t){return n=K(n),NC(n,e,t)}function GC(n){return n=K(n),OC(n)}function WC(n,e){return n=K(n),LC(n,e)}function $C(n,e){return n=K(n),Rw(n,e)}function KC(n){return n=K(n),VC(n)}function QC(n){return n=K(n),FC(n)}function YC(n){return n=K(n),MC(n)}function km(n,e){return n=K(n),zC(n,e)}function JC(n,e){return Cw(n,e)}function XC(n,e,t,r={}){BC(n,e,t,r)}function ZC(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new Ih(t,r,i,e,xn)}function e4(){vn(new Dt(qC,ZC,"PUBLIC").setMultipleInstances(!0)),Pt(Pm,Am,""),Pt(Pm,Am,"esm2017")}e4();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ra(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new Ra(r,this,this._ref))},t)}on(e,t,r,i){let s;return t&&(typeof t=="function"?s=o=>t(new Ra(o,this,this._ref)):s={next:t.next?o=>t.next(new Ra(o,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}}class Cm{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new gn(e,this._service))}get items(){return this._delegate.items.map(e=>new gn(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=JC(this._delegate,e);return new gn(t,this.storage)}get root(){return new gn(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return e==null?null:new gn(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new Rm(HC(this._delegate,e,t),this)}putString(e,t=Ct.RAW,r){this._throwIfRoot("putString");const i=_w(t,e),s=Object.assign({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new Rm(new Aw(this._delegate,new dn(i.data,!0),s),this)}listAll(){return KC(this._delegate).then(e=>new Cm(e,this.storage))}list(e){return $C(this._delegate,e||void 0).then(t=>new Cm(t,this.storage))}getMetadata(){return GC(this._delegate)}updateMetadata(e){return WC(this._delegate,e)}getDownloadURL(){return QC(this._delegate)}delete(){return this._throwIfRoot("delete"),YC(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw gw(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(Sm(e))throw Ni("ref() expected a child path but got a URL, use refFromURL instead.");return new gn(km(this._delegate,e),this)}refFromURL(e){if(!Sm(e))throw Ni("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ot.makeFromUrl(e,this._delegate.host)}catch{throw Ni("refFromUrl() expected a valid full URL but got an invalid one.")}return new gn(km(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){XC(this._delegate,e,t,r)}}function Sm(n){return/^[A-Za-z]+:\/\//.test(n)}const t4="@firebase/storage-compat",n4="0.3.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4="storage-compat";function i4(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new Dw(t,r)}function s4(n){const e={TaskState:ft,TaskEvent:RC,StringFormat:Ct,Storage:Dw,Reference:gn};n.INTERNAL.registerComponent(new Dt(r4,i4,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion(t4,n4)}s4(At);const o4={apiKey:"AIzaSyB7SH4xr3K0zDAeNL5Ri5KX2KHsag7aKkI",authDomain:"i-lovepdfly.firebaseapp.com",projectId:"i-lovepdfly",storageBucket:"i-lovepdfly.appspot.com",messagingSenderId:"415789226795",appId:"1:415789226795:web:778d189b2aafed0b7b436e",measurementId:"G-D5553YDTM8"};At.initializeApp(o4);const Ut=At.auth(),Lt=At.firestore(),a4=At.storage(),Nw=I.createContext(void 0),l4=({children:n})=>{const[e,t]=I.useState(null),[r,i]=I.useState(!0);I.useEffect(()=>{const w=Ut.onAuthStateChanged(async v=>{try{if(v){const _=Lt.collection("users").doc(v.uid),T=await _.get();if(T.exists){const E=T.data();t({...E,twoFactorEnabled:E.twoFactorEnabled||!1})}else{const E={uid:v.uid,username:v.displayName||v.email?.split("@")[0]||"Anonymous",profileImage:v.photoURL||void 0,isPremium:!1,creationDate:v.metadata.creationTime||new Date().toISOString(),apiPlan:"free",firstName:"",lastName:"",country:"",twoFactorEnabled:!1};await _.set(E),t(E)}}else t(null)}catch(_){console.error("Auth state change error:",_),t(null)}finally{i(!1)}});return()=>w()},[]);const Y={user:e,loading:r,logout:async()=>{sessionStorage.removeItem("isAdminAuthenticated"),await Ut.signOut()},updateProfileImage:async w=>{if(!e)throw new Error("No user is signed in.");const T=await(await a4.ref(`profile_images/${e.uid}/${w.name}`).put(w)).ref.getDownloadURL(),E=Ut.currentUser;E&&await E.updateProfile({photoURL:T}),await Lt.collection("users").doc(e.uid).update({profileImage:T}),t(x=>x?{...x,profileImage:T}:null)},updateUserProfile:async w=>{if(!e)throw new Error("No user is signed in.");await Lt.collection("users").doc(e.uid).update(w),t(_=>_?{..._,...w}:null)},getAllUsers:async()=>(await Lt.collection("users").get()).docs.map(_=>_.data()),updateUserPremiumStatus:async(w,v)=>{await Lt.collection("users").doc(w).update({isPremium:v})},updateUserApiPlan:async(w,v)=>{await Lt.collection("users").doc(w).update({apiPlan:v})},deleteUser:async w=>{await Lt.collection("users").doc(w).delete()},deleteCurrentUser:async()=>{const w=Ut.currentUser;if(!w)throw new Error("No user is currently signed in to delete.");await Lt.collection("users").doc(w.uid).delete(),await w.delete()},loginOrSignupWithGoogle:async()=>{const w=new At.auth.GoogleAuthProvider;await Ut.signInWithPopup(w)},loginOrSignupWithFacebook:async()=>{const w=new At.auth.FacebookAuthProvider;w.addScope("email"),w.addScope("public_profile"),await Ut.signInWithPopup(w)},signInWithEmail:async(w,v)=>{await Ut.signInWithEmailAndPassword(w,v)},signUpWithEmail:async(w,v)=>{await Ut.createUserWithEmailAndPassword(w,v)},generateApiKey:async()=>{if(!e)throw new Error("You must be logged in.");const w=crypto.getRandomValues(new Uint8Array(32)),v="sk_live_"+btoa(String.fromCharCode(...w)).replace(/[^A-Za-z0-9]/g,"").substring(0,40);return await Lt.collection("users").doc(e.uid).update({apiKey:v}),t(T=>T?{...T,apiKey:v}:null),v},getApiUsage:async()=>{if(!e)throw new Error("You must be logged in.");const w=e.apiPlan||"free",v={free:100,developer:1e3,business:1e4};return{count:Math.floor(Math.random()*v[w]),limit:v[w],resetsIn:"23h 59m"}},changePassword:async(w,v)=>{const _=Ut.currentUser;if(!_||!_.email)throw new Error("No user is signed in or user does not have an email address.");const T=At.auth.EmailAuthProvider.credential(_.email,w);await _.reauthenticateWithCredential(T),await _.updatePassword(v)},updateTwoFactorStatus:async w=>{if(!e)throw new Error("No user is signed in.");await Lt.collection("users").doc(e.uid).update({twoFactorEnabled:w}),t(_=>_?{..._,twoFactorEnabled:w}:null)},updateBusinessDetails:async w=>{if(!e)throw new Error("No user is signed in.");await Lt.collection("users").doc(e.uid).update({businessDetails:w}),t(_=>_?{..._,businessDetails:w}:null)},auth:Ut};return d.jsx(Nw.Provider,{value:Y,children:!r&&n})},Zo=()=>{const n=I.useContext(Nw);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n},c4=({className:n})=>d.jsxs("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",children:[d.jsxs("g",{fill:"#EE6C4D",fillRule:"evenodd",children:[d.jsx("path",{d:"M5.488.363h21.75c1.78 0 2.43.184 3.082.535a3.66 3.66 0 0 1 1.512 1.512c.348.652.535 1.297.535 3.082v21.746c0 1.78-.187 2.43-.535 3.082a3.66 3.66 0 0 1-1.512 1.512c-.652.348-1.3.535-3.082.535H5.488c-1.78 0-2.43-.187-3.082-.535A3.66 3.66 0 0 1 .895 30.32c-.348-.652-.535-1.3-.535-3.082V5.488c0-1.78.188-2.43.535-3.082A3.7 3.7 0 0 1 2.406.895c.652-.348 1.3-.53 3.082-.53z"}),d.jsx("path",{d:"M44.563 49.69H22.816c-1.78 0-2.43-.184-3.082-.535a3.6 3.6 0 0 1-1.512-1.512c-.348-.652-.535-1.297-.535-3.082V22.816c0-1.78.184-2.43.535-3.082a3.6 3.6 0 0 1 1.512-1.512c.652-.348 1.3-.535 3.082-.535h21.746c1.785 0 2.43.188 3.082.535.645.34 1.172.867 1.512 1.512.352.652.535 1.3.535 3.082v21.746c0 1.785-.184 2.43-.535 3.082a3.6 3.6 0 0 1-1.512 1.512c-.652.352-1.297.535-3.082.535z"})]}),d.jsx("path",{fill:"#FFF",d:"M17.906 10.965a.87.87 0 0 0-.875.86v3.8L9.84 8.523a.886.886 0 0 0-1.238 0 .85.85 0 0 0-.254.605.86.86 0 0 0 .254.6l7.195 7.098h-3.875c-.484 0-.875.387-.875.86s.4.86.875.86h5.984a.9.9 0 0 0 .332-.066.86.86 0 0 0 .473-.465.8.8 0 0 0 .066-.328v-5.87a.86.86 0 0 0-.87-.86zm14.418 28.008c.48 0 .87-.383.87-.86v-3.797l7.195 7.098a.88.88 0 0 0 1.234 0 .85.85 0 0 0 .258-.605c0-.23-.094-.45-.258-.605l-7.2-7.102h3.875c.484 0 .875-.383.875-.86s-.4-.855-.875-.855h-5.984a.9.9 0 0 0-.336.066.9.9 0 0 0-.473.46.9.9 0 0 0-.066.328v5.87c0 .477.4.86.875.86zm-10.1-10.1c-.355.352-.93.352-1.285 0s-.355-.934 0-1.3a.91.91 0 0 1 1.285 0 .927.927 0 0 1 0 1.3m3.374-3.357a.91.91 0 0 1-1.285 0 .91.91 0 0 1 0-1.285.914.914 0 0 1 1.285 0 .91.91 0 0 1 0 1.285m3.36-3.364a.91.91 0 0 1-1.285 0 .91.91 0 0 1 0-1.285.91.91 0 0 1 1.285 0 .91.91 0 0 1 0 1.285"})]}),u4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 2C10.89 2 10 2.9 10 4v16c0 1.1.89 2 2 2s2-.9 2-2V4c0-1.1-.9-2-2-2zm-5 9H3v2h4v3l4-4-4-4v3zm10 0v-3l-4 4 4 4v-3h4v-2h-4z"})}),Dm=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M4 14h4v-4H4v4zm10 0h4v-4h-4v4zM4 21h4v-4H4v4zm10 0h4v-4h-4v4zM14 4V1h-4v3H4l8 8 8-8h-6z"})}),Nm=({className:n})=>d.jsxs("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",children:[d.jsx("path",{fill:"#5F83C6",fillRule:"evenodd",d:"M17.676 34.344h9.55c2.477 0 3.375-.258 4.28-.742a5.04 5.04 0 0 0 2.098-2.102c.484-.902.742-1.8.742-4.277v-9.547H44.82c1.8 0 2.453.188 3.113.54s1.176.87 1.527 1.527.54 1.31.54 3.113V44.82c0 1.8-.187 2.453-.54 3.113a3.7 3.7 0 0 1-1.527 1.527c-.66.352-1.312.54-3.113.54H22.855c-1.8 0-2.453-.187-3.113-.54s-1.172-.87-1.527-1.527-.54-1.312-.54-3.113zm0 0"}),d.jsx("path",{fill:"#FFF",d:"M43.94 37.137c0-.477-.395-.863-.883-.863s-.883.387-.883.863v3.844l-5.145-5.047a.893.893 0 0 0-1.25 0 .85.85 0 0 0-.258.609.86.86 0 0 0 .258.613l5.145 5.05H37.01c-.488 0-.883.387-.883.867s.395.867.883.867h6.05a.9.9 0 0 0 .336-.07.87.87 0 0 0 .477-.465.8.8 0 0 0 .066-.332l.004-5.934zm0 0"}),d.jsx("path",{fill:"#DCE5FA",fillRule:"evenodd",d:"M27.145 32.324H5.18c-1.8 0-2.453-.187-3.113-.543S.89 30.914.54 30.254 0 28.95 0 27.145V5.18c0-1.8.188-2.453.54-3.113A3.7 3.7 0 0 1 2.066.539C2.727.188 3.38 0 5.18 0h21.965c1.8 0 2.453.188 3.113.54s1.172.87 1.527 1.527.54 1.313.54 3.113v21.965c0 1.8-.187 2.453-.54 3.113s-.87 1.176-1.527 1.527-1.312.54-3.113.54zm0 0"}),d.jsx("path",{fill:"#295795",d:"M20.844 8.61h2.96l-2.94 14.64H17.77l-1.777-9.035-1.824 9.035h-3.203L8.04 8.61h3.164l1.508 9.363L14.65 8.61h3.004l.04.203 1.688 9.1zm0 0"})]}),Vm=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm-2 14h-2v-2h2v2zm0-4h-2V9h2v3z"})}),Om=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm-2 14h-4v-2h4v2zm0-4h-4v-2h4v2zm0-4h-4V6h4v2z"})}),d4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})}),Lm=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm-1.25 10.5H11v1h1.75c.41 0 .75-.34.75-.75s-.34-.75-.75-.75zm-1-2.25H11v1h1.75c.41 0 .75-.34.75-.75s-.34-.75-.75-.75zm-2 4.5h-.75v1.5h-1.5v-1.5H8v-4.5h3v4.5z"})}),Fm=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM9.5 14.5v-1.25H8v-1.5h1.5V10.5h1.25v1.25h1.5v1.5h-1.5v1.25H9.5zm6.5 0h-3v-6h3v6zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6z"})}),Mm=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})}),h4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"})}),p4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0l-3.75 3.75M12 9.75l3.75 3.75M17.25 21H6.75c-1.035 0-1.875-.84-1.875-1.875V15.75c0-1.035.84-1.875 1.875-1.875h10.5c1.035 0 1.875.84 1.875 1.875v3.375c0 1.035-.84 1.875-1.875-1.875z"})}),LD=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),f4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"})}),jm=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-3 14h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V7h2v2z"})}),m4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12,6V4.41A2,2,0,0,0,10.59,3L5,8.59V10H6.41L12,4.41V6A8,8,0,1,1,4,12H2A10,10,0,1,0,12,2Z"})}),g4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M8 10h1.5v1.5H8V10zm5.5 5H15v-1.5h-1.5V15zM20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM9.5 15H8v-1.5h1.5V15zm0-3H8V9h1.5v3zm3.5 3H12V9h1.5v6zm3.5-3h-1.5v-1.5H18V9h-3v6h1.5v-1.5H18v-3z"})}),y4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6z"})}),v4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"})}),_4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M3 15h18v-2H3v2zm0 4h18v-2H3v2zm0-8h18V9H3v2zm0-6v2h18V5H3z"})}),w4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM9.5 15.5H8.75l-1.3-4H6.2l-1.3 4H4.15l2.2-6h1.25l2.2 6h-.3zm-2.5-5.2l-.55 2.1h1.1l-.55-2.1zm8 5.2h-.75l-1.3-4H11.7l-1.3 4h-.75l2.2-6h1.25l2.2 6zM4 22h14v-2H4V6H2v14c0 1.1.9 2 2 2z"})}),b4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M14.2,19.8l-2.8,2.8C11,22.9,10.5,23,10,23s-1-0.1-1.4-0.4l-5.6-5.6c-0.8-0.8-0.8-2,0-2.8l2.8-2.8L14.2,19.8z M21.4,12.6 l-5.6-5.6c-0.8-0.8-2-0.8-2.8,0l-2.8,2.8l8.4,8.4l2.8-2.8C22.2,14.6,22.2,13.4,21.4,12.6z M21.4,4.4C19.3,2.3,16.4,1.7,13.8,2.5 L15,3.7l-2.6,2.6l-1.4-1.4l-1.4,1.4l1.4,1.4L8.4,10.3l-1.2,1.2l-2.6-2.6L3.4,10C2.7,7.4,3.2,4.5,5.4,2.4s5.1-1.5,7.7-0.7 l1.2-1.2C15.6,0.2,17.1,0,18.5,0C20.6,0,22,1.4,22,3.5C22,4.9,21.8,6.4,21.4,7.6L22.6,8.8C23.5,6.2,23.1,3.4,21.4,4.4z"})}),x4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM9 11.5c0-.83.67-1.5 1.5-1.5H12V9h-2c-1.66 0-3 1.34-3 3s1.34 3 3 3h2v-1.5h-1.5c-.83 0-1.5-.67-1.5-1.5zm6.5 2.5h-3V9h3v5zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6z"})}),I4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M4 6h16v2H4zm0 3h16v2H4zm0 3h16v2H4zm17 5H3c-.55 0-1 .45-1 1s.45 1 1 1h18c.55 0 1-.45 1-1s-.45-1-1-1z"})}),Um=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8.5 14H10v-3.5h1.5v3.5zm3.5 0h-1.5v-3.5H15v3.5zm3.5 0h-1.5V9H17v7zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6z"})}),T4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M10 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h5v2h2V1h-2v2zm0 15H5l5-4v4zm0-5.5L5 9h5v3.5zM19 3h-5v2h5v14h-5v2h5c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})}),E4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM4 12h16V6H4v6zm0 6h16v-4H4v4z"})}),zm=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M17 15h2V7c0-1.1-.9-2-2-2H9v2h8v8zM7 17V1H5v4H1v2h4v10c0 1.1.9 2 2 2h10v4h2v-4h4v-2H7z"})}),P4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-6.364-.386l1.591-1.591M3 12h2.25m.386-6.364l1.591 1.591M12 12a4.5 4.5 0 000 9 4.5 4.5 0 000-9z"})}),A4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"})}),k4=({className:n})=>d.jsxs("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{d:"M16.75,13.96C17,14.23 17,14.89 16.74,15.82C16.45,16.82 15.3,17.5 15.06,17.56C14.82,17.62 12.06,18.5 9.38,15.89C6.7,13.28 5.8,10.5 5.86,10.26C5.92,10.02 6.53,8.73 7.3,7.96C7.58,7.68 7.82,7.67 8,7.67C8.18,7.67 8.35,7.67 8.5,7.67C8.65,7.67 8.79,7.72 8.95,8.03C9.11,8.34 9.53,9.45 9.59,9.58C9.65,9.71 9.7,9.81 9.62,9.97C9.54,10.13 9.42,10.23 9.27,10.39C9.12,10.54 9,10.68 8.86,10.82C8.72,10.96 8.59,11.11 8.75,11.39C8.91,11.67 9.43,12.24 10.15,13.12C11.11,14.03 11.9,14.34 12.2,14.45C12.5,14.56 12.68,14.53 12.85,14.35C13.02,14.17 13.33,13.78 13.53,13.51C13.73,13.24 13.95,13.2 14.15,13.26C14.35,13.32 15.45,13.85 15.7,13.96C15.95,14.07 16.11,14.11 16.19,14.2C16.27,14.29 16.5,14.53 16.75,13.96Z",fillRule:"evenodd",clipRule:"evenodd"}),d.jsx("path",{d:"M12,2C6.48,2 2,6.48 2,12C2,14.08 2.59,16.03 3.61,17.69L2,22L6.45,20.44C7.99,21.41 9.8,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2ZM12,20C10.04,20 8.18,19.43 6.64,18.4L6.28,18.18L4.07,18.84L4.75,16.68L4.5,16.32C3.58,14.83 3,13.04 3,12C3,7.03 7.03,3 12,3C16.97,3 21,7.03 21,12C21,16.97 16.97,20 12,20Z",fillRule:"evenodd",clipRule:"evenodd"})]}),R4=({className:n})=>d.jsx("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.879V14.89h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.989C18.343 21.128 22 16.991 22 12z"})}),C4=({className:n})=>d.jsx("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M21.582,6.186c-0.23-0.86-0.908-1.538-1.768-1.768C18.267,4,12,4,12,4S5.733,4,4.186,4.418 c-0.86,0.23-1.538,0.908-1.768,1.768C2,7.733,2,12,2,12s0,4.267,0.418,5.814c0.23,0.86,0.908,1.538,1.768,1.768 C5.733,20,12,20,12,20s6.267,0,7.814-0.418c0.861-0.23,1.538-0.908,1.768-1.768C22,16.267,22,12,22,12S22,7.733,21.582,6.186z M10,15.464V8.536L16,12L10,15.464z"})}),FD=({className:n})=>d.jsx("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M19 3a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h14zm-11 6H5v10h3V9zM6.5 6.732a1.732 1.732 0 100-3.464 1.732 1.732 0 000 3.464zM18 19h-3v-4.74c0-1.42-.6-1.927-1.421-1.927-.927 0-1.25.734-1.455 1.313-.075.207-.095.49-.095.772V19h-3V9h3v1.322c.49-.781 1.2-1.322 2.754-1.322C17.388 9 18 10.59 18 13.236V19z"})}),MD=({className:n})=>d.jsx("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),Ar=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})}),jD=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2 .01 7z"})}),UD=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"})}),zD=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})}),S4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 13c-2.67 0-8 1.34-8 4v1h16v-1c0-2.66-5.33-4-8-4z"})}),D4=({className:n})=>d.jsxs("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:[d.jsx("circle",{cx:"12",cy:"12",r:"3.2"}),d.jsx("path",{d:"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"})]}),N4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12.65 10C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H17v4h4v-4h2v-4H12.65zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"})}),V4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"})}),O4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})}),Vw=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})}),BD=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L8 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1h-2v-2h2c.55 0 1-.45 1-1V8h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"})}),L4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})}),qD=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.539 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.196-1.539-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),HD=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M18 6h-2c0-2.21-1.79-4-4-4S8 3.79 8 6H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-6-2c1.1 0 2 .9 2 2h-4c0-1.1.9-2 2-2zm6 16H6V8h2v2c0 .55.45 1 1 1s1-.45 1-1V8h4v2c0 .55.45 1 1 1s1-.45 1-1V8h2v12z"})}),F4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"})}),M4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9.21 15.5l1.41-1.41L12 15.5l1.38-1.38L14.79 15.5H19v-5l-3.5-4.5-2.5 3.01L9.17 6H5v9.5h4.21z"})}),j4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 14h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V7h2v2zm-4 8H7v-2h2v2zm0-4H7v-2h2v2zm0-4H7V7h2v2z"})}),U4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM9.5 11.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5zm3.5 0c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5zm3.5 0c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6z"})}),z4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM9.5 15.5v-1.5H8v-1.5h1.5V11h1.5v1.5h1.5v1.5h-1.5v1.5H9.5zm6.5-1.5h-3v-4.5h3v4.5zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6z"})}),B4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"})}),Th=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5-1.17 0-2.39.15-3.5.5v14c1.11.35 2.33.5 3.5.5 1.95 0 4.05-.4 5.5-1.5 1.45 1.1 3.55 1.5 5.5 1.5 1.17 0 2.39-.15 3.5-.5V5zm-5.5 8.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"})}),q4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M19 20H5V6h14v14zM5 4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2H5zm2 4h10v2H7V8zm0 4h10v2H7v-2zm0 4h5v2H7v-2z"})}),H4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-9 4c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H6v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1z"})}),G4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M20 6h-8l-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-2 6h-2v2h2v2h-2v2h-2v-2h2v-2h-2v-2h2v-2h-2V8h2v2h2v2z"})}),Bm=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M15 3h6v6h-2V5h-4V3zM9 21H3v-6h2v4h4v2zM21 15v6h-6v-2h4v-4h2zM3 9V3h6v2H5v4H3z"})}),W4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zM10 4h4v2h-4V4zm10 15H4V8h16v11z"})}),GD=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M20.5 11H19V7c0-1.1-.9-2-2-2h-4V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V5H6c-1.1 0-2 .9-2 2v4H2.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5H4v4c0 1.1.9 2 2 2h4v1.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V19h4c1.1 0 2-.9 2-2v-4h1.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5z"})}),$4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M1 21h12v2H1zM5.24 8.07l2.83-2.83 14.14 14.14-2.83 2.83zM12.32 1l5.66 5.66-2.83 2.83-5.66-5.66z"})}),K4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})}),Q4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3L1 9l11 6 9-4.91V17h2V9L12 3z"})}),Y4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),WD=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),J4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-.96.73-1.66 2.2-1.66 1.51 0 2.15.68 2.22 1.55H15c-.07-1.44-1.12-2.43-3-2.43-1.96 0-3.43 1.1-3.43 2.73 0 1.45 1.1 2.38 3.19 2.88 2.1.51 2.83 1.25 2.83 2.31 0 1.05-.8 1.8-2.34 1.8-1.74 0-2.52-.84-2.6-1.8H9.3c.1 1.76 1.52 2.8 3.7 2.8 2.1 0 3.62-1.03 3.62-2.73 0-1.52-1.1-2.42-3.82-3.04z"})}),X4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M7.41 1.41L6 0 0 6l6 6 1.41-1.41L2.83 6zM16.59 1.41L18 0l6 6-6 6-1.41-1.41L21.17 6z"})}),Ow=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"})}),Z4=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.08-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49.42l.38-2.65c.61-.25 1.17-.59 1.69.98l2.49 1c.23.08.49 0 .61.22l2-3.46c.12-.22-.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"})}),$D=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"})}),KD=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M5 9.2h3V19H5zM10.6 5h2.8v14h-2.8zm5.6 8H19v6h-2.8z"})}),QD=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"})}),YD=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})}),JD=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"})}),eS=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})}),XD=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"})}),ZD=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 2C9.25 2 7 4.25 7 7c0 1.1.9 2 2 2 .53 0 1.02-.21 1.38-.57.63-.63.63-1.65 0-2.28C9.75 5.52 9 4.41 9 3.5 9 3.22 9.22 3 9.5 3s.5.22.5.5c0 .64.57 1.48 1.43 2.34.86.86 2.07.86 2.93 0 .86-.86 1.43-1.7 1.43-2.34 0-.28.22-.5.5-.5s.5.22.5.5c0 .91-.75 2.02-1.38 2.65-.63.63-.63 1.65 0 2.28.36.36.85.57 1.38.57 1.1 0 2-.9 2-2 0-2.75-2.25-5-5-5zM12 11c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4z"})}),e3=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"})}),t3=({className:n})=>d.jsxs("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"24px",height:"24px",children:[d.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),d.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),d.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.222,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),d.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.089,5.574l6.19,5.238C39.99,36.506,44,30.825,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),n3=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})}),r3=({className:n})=>d.jsxs("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:[d.jsx("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6z"}),d.jsx("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM12 14l-4-4h8l-4 4z"})]}),i3=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M19 19V5c0-1.1-.9-2-2-2H7c-1.1 0-2 .9-2 2v14H3v2h18v-2h-2zm-4-8h-2v2h2v-2zm-4 0H9v2h2v-2zm-4 0H5v2h2v-2zm-2 4h2v2H5v-2zm2 0h2v2H7v-2zm4 0h2v2h-2v-2z"})}),s3=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5zm-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24 5 5s2.24 5 5 5h4v-2zM8 11h8v2H8z"})}),o3=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"})}),a3=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6h-6z"})}),l3=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})}),c3=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6zm-2 0l-8 5-8-5h16zm0 12H4V8l8 5 8-5v10z"})}),u3=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z"})}),d3=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zM16 19H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zM18 3H6v4h12V3z"})}),h3=({className:n})=>d.jsxs("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:[d.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),d.jsx("path",{d:"M7.71 3.5 1 12l6.71 8.5h15.58L16.58 12 23.29 3.5H7.71zM12 17.5 8.25 12l3.75-5.5 3.75 5.5-3.75 5.5z"})]}),p3=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M3.4 7.4l4.9-3.2 4.9 3.2-4.9 3.2L3.4 7.4zm12.3-3.2l4.9 3.2-4.9 3.2-4.9-3.2 4.9-3.2zM8.3 11.8l4.9 3.2 4.9-3.2-4.9-3.2-4.9 3.2zm0 6.4l4.9-3.2-4.9-3.2L3.4 15l4.9 3.2z"})}),f3=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",children:d.jsxs("g",{children:[d.jsx("path",{fill:"#e53935",d:"M66.3,28.8H33.7a4.9,4.9,0,0,0-4.9,4.9V85.1a4.9,4.9,0,0,0,4.9,4.9H66.3a4.9,4.9,0,0,0,4.9-4.9V33.7A4.9,4.9,0,0,0,66.3,28.8Z"}),d.jsx("path",{fill:"#2e2e38",d:"M61.4,10H38.6A11.4,11.4,0,0,0,27.2,21.4V78.6A11.4,11.4,0,0,0,38.6,90H61.4A11.4,11.4,0,0,0,72.8,78.6V21.4A11.4,11.4,0,0,0,61.4,10Z"})]})}),m3=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",children:d.jsxs("g",{children:[d.jsx("path",{fill:"#e53935",d:"M78.6,71.1H21.4a5,5,0,0,1-5-5V23.9a5,5,0,0,1,5-5H78.6a5,5,0,0,1,5,5V66.1A5,5,0,0,1,78.6,71.1Z"}),d.jsx("path",{fill:"#2e2e38",d:"M88.6,81.1H11.4a5,5,0,0,1,0-10H88.6a5,5,0,0,1,0,10Z"}),d.jsx("path",{fill:"#e53935",d:"M50,71.1h0a5,5,0,0,1-5-5V23.9a5,5,0,0,1,5-5h0a5,5,0,0,1,5,5V66.1A5,5,0,0,1,50,71.1Z"}),d.jsx("path",{fill:"#e53935",d:"M57.1,38.9H42.9a5,5,0,0,1,0-10H57.1a5,5,0,0,1,0,10Z"})]})}),g3=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",children:d.jsxs("g",{children:[d.jsx("path",{fill:"#5f7d8c",d:"M50,90A40,40,0,1,1,90,50,40,40,0,0,1,50,90Z"}),d.jsx("path",{fill:"#748c99",d:"M50,80A30,30,0,1,1,80,50,30,30,0,0,1,50,80Z"}),d.jsx("path",{fill:"#e53935",d:"M50,10a40,40,0,0,1,40,40,5,5,0,0,1-10,0,30,30,0,0,0-30-30,5,5,0,0,1,0-10Z"}),d.jsx("path",{fill:"#5f7d8c",d:"M50,70A20,20,0,1,1,70,50,20,20,0,0,1,50,70Z"}),d.jsx("path",{fill:"#748c99",d:"M50,60A10,10,0,1,1,60,50,10,10,0,0,1,50,60Z"})]})}),y3=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8-8-8z"})}),v3=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})}),_3=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2h-4zM4 6h16v10H4V6z"})}),w3=({className:n})=>d.jsxs("svg",{className:n,viewBox:"0 0 64 64",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("rect",{width:"64",height:"64",rx:"14",fill:"#8E8E93"}),d.jsx("text",{x:"32",y:"42",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif",fontSize:"28",fill:"white",textAnchor:"middle",fontWeight:"600",children:"iOS"})]}),b3=({className:n})=>d.jsx("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{fill:"#a4c639",d:"M15.4,5.43c0.91-0.91,1.4-2.14,1.4-3.43H7.2c0,1.29,0.49,2.52,1.4,3.43L12,8.83L15.4,5.43z M5.1,17.4A3.4,3.4,0,0,0,8.5,20.8h7a3.4,3.4,0,0,0,3.4-3.4V10.5h-14V17.4z M16.9,8.45a0.8,0.8,0,1,0,0,1.6,0.8,0.8,0,0,0,0-1.6z M7.1,8.45a0.8,0.8,0,1,0,0,1.6,0.8,0.8,0,0,0,0-1.6z"})}),x3=({className:n})=>d.jsx("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{fill:"#8E8E93",d:"M19.34,14.28A4.24,4.24,0,0,0,15.1,15.5a4.32,4.32,0,0,0-2.43-3.85,4.1,4.1,0,0,0-3-1.42,4.41,4.41,0,0,0-4.32,4.88,7.21,7.21,0,0,0,6,6.33,7.07,7.07,0,0,0,8-6.19A4.3,4.3,0,0,0,19.34,14.28Zm-7.46-9.3a4.2,4.2,0,0,0,2.91,1.3,4.13,4.13,0,0,0,3.19-1.57,4.06,4.06,0,0,0-3.08-1.54A4.18,4.18,0,0,0,11.88,4.98Z"})}),I3=({className:n})=>d.jsxs("svg",{className:n,viewBox:"0 0 21 21",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{fill:"#f25022",d:"M1 1h9v9H1z"}),d.jsx("path",{fill:"#7fba00",d:"M11 1h9v9h-9z"}),d.jsx("path",{fill:"#00a4ef",d:"M1 11h9v9H1z"}),d.jsx("path",{fill:"#ffb900",d:"M11 11h9v9h-9z"})]}),T3=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M3 11h8V3H3v8zm2-6h4v4H5V5zM3 21h8v-8H3v8zm2-6h4v4H5v-4zM13 3v8h8V3h-8zm6 6h-4V5h4v4zM13 13h2v2h-2zM15 15h2v2h-2zM13 17h2v2h-2zM17 17h2v2h-2zM19 19h2v2h-2zM15 19h2v2h-2zM17 13h2v2h-2zM19 13h2v2h-2z"})}),E3=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41s-.22-1.05-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z"})}),P3=({className:n})=>d.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"})}),A3=({className:n})=>d.jsxs("svg",{className:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{d:"M6 18C12 18 12 6 18 6",stroke:"#34D399",strokeWidth:"2",strokeLinecap:"round"}),d.jsx("path",{d:"M18 6L16 4M18 6L16 8",stroke:"#F97316",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("circle",{cx:"6",cy:"18",r:"2",fill:"#34D399"})]}),Lw=({className:n,variant:e})=>{const{theme:t}=vg(),i=(e||t)==="dark"?"#FFFFFF":"#000000";return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 300 74.999997",preserveAspectRatio:"xMidYMid meet",className:n,"aria-label":"I Love PDFLY Logo",children:d.jsxs("g",{children:[d.jsx("path",{style:{fill:"#A91212"},d:"M 75.253906 5.78125 C 71.476562 8.320312 66.628906 12.535156 64.957031 14.765625 C 64.480469 15.40625 63.945312 15.921875 63.757812 15.921875 C 63.574219 15.921875 62.828125 15.175781 62.128906 14.269531 C 59.363281 10.777344 55.792969 7.804688 52.882812 6.625 C 49.164062 5.117188 44.234375 5.140625 40.621094 6.710938 C 35.832031 8.753906 31.890625 13.546875 30.382812 19.101562 C 29.90625 20.898438 29.847656 21.457031 29.847656 24.90625 C 29.847656 28.394531 29.886719 28.890625 30.402344 30.710938 C 32.035156 36.65625 34.46875 39.816406 43.140625 47.234375 C 48.9375 52.210938 52.839844 55.886719 56.183594 59.523438 C 59.484375 63.136719 62.683594 66.855469 63.964844 68.589844 C 65.472656 70.613281 66.277344 71.378906 66.894531 71.378906 C 67.617188 71.378906 67.988281 71.027344 69.558594 68.917969 C 73.769531 63.300781 81.363281 55.183594 88.136719 49.070312 C 90.117188 47.292969 94.492188 43.433594 97.835938 40.519531 C 104.171875 35.003906 104.628906 34.488281 104.648438 32.960938 C 104.648438 31.640625 103.964844 30.667969 101.222656 28.003906 C 99.757812 26.578125 93.976562 20.917969 88.382812 15.40625 C 82.789062 9.890625 78 5.285156 77.753906 5.140625 C 77.03125 4.726562 76.679688 4.808594 75.253906 5.78125 Z M 89.394531 21.207031 C 98.621094 30.316406 100.890625 32.652344 100.707031 32.878906 C 100.355469 33.3125 77.917969 33.3125 77.484375 32.878906 C 77.238281 32.628906 77.195312 30.8125 77.195312 21.332031 C 77.195312 15.15625 77.257812 10.035156 77.339844 9.972656 C 77.402344 9.890625 77.546875 9.828125 77.648438 9.828125 C 77.753906 9.828125 83.035156 14.949219 89.394531 21.207031 Z M 89.394531 21.207031 "}),d.jsx("path",{style:{fill:i},d:"M 12.960938 9.558594 L 7.222656 9.621094 L 7.222656 58.59375 L 13.003906 58.550781 L 18.78125 58.53125 L 18.78125 33.972656 C 18.78125 20.464844 18.761719 9.433594 18.742188 9.457031 C 18.699219 9.496094 16.101562 9.539062 12.960938 9.558594 Z M 12.960938 9.558594 "}),d.jsx("path",{style:{fill:i},d:"M 114.347656 34.695312 L 114.347656 58.367188 L 125.496094 58.367188 L 125.496094 43.144531 L 128.757812 43.019531 C 134.121094 42.792969 137.15625 42.132812 140.253906 40.539062 C 144.875 38.144531 147.582031 33.0625 147.582031 26.785156 C 147.582031 19.554688 144.402344 14.886719 137.921875 12.511719 C 134.722656 11.355469 133.667969 11.253906 123.597656 11.128906 L 114.347656 11.027344 Z M 131.644531 21.289062 C 133.359375 21.703125 134.347656 22.21875 135.257812 23.234375 C 136.25 24.328125 136.578125 25.03125 136.828125 26.496094 C 137.28125 29.304688 135.960938 31.496094 133.195312 32.546875 C 132.203125 32.941406 131.417969 33.042969 128.632812 33.148438 L 125.269531 33.269531 L 125.328125 28.828125 C 125.351562 26.394531 125.414062 23.625 125.453125 22.675781 L 125.535156 20.980469 L 127.929688 20.980469 C 129.332031 20.980469 130.882812 21.125 131.644531 21.289062 Z M 131.644531 21.289062 "}),d.jsx("path",{style:{fill:i},d:"M 151.480469 27.117188 C 151.460938 35.957031 151.417969 46.59375 151.398438 50.765625 L 151.335938 58.367188 L 159.859375 58.367188 C 168.882812 58.367188 171.480469 58.179688 174.867188 57.332031 C 182.566406 55.351562 188.054688 49.648438 190.015625 41.53125 C 190.925781 37.710938 191.007812 32.402344 190.203125 28.539062 C 188.613281 20.898438 184.03125 15.382812 177.117188 12.800781 C 173.277344 11.355469 170.324219 11.066406 159.40625 11.066406 L 151.5 11.066406 Z M 170.59375 21.785156 C 173.09375 22.449219 174.332031 23.148438 175.980469 24.78125 C 178.726562 27.527344 179.945312 31 179.71875 35.542969 C 179.46875 40.828125 177.15625 44.796875 173.175781 46.757812 C 170.902344 47.894531 169.230469 48.222656 165.496094 48.367188 L 162.441406 48.472656 L 162.441406 34.945312 C 162.441406 22.242188 162.460938 21.414062 162.8125 21.3125 C 163 21.25 164.464844 21.25 166.054688 21.269531 C 168.179688 21.332031 169.375 21.457031 170.59375 21.785156 Z M 170.59375 21.785156 "}),d.jsx("path",{style:{fill:i},d:"M 195.878906 21.972656 C 195.878906 27.984375 195.816406 38.621094 195.734375 45.621094 L 195.609375 58.367188 L 206.964844 58.367188 L 206.859375 49.320312 L 206.757812 40.292969 L 214.230469 40.355469 L 221.679688 40.394531 L 221.679688 30.070312 L 206.796875 30.070312 L 206.820312 25.628906 L 206.839844 21.167969 L 214.992188 21.3125 L 223.125 21.457031 L 223.125 11.066406 L 195.878906 11.066406 Z M 195.878906 21.972656 "}),d.jsx("path",{style:{fill:i},d:"M 251.277344 11.933594 C 251.546875 12.429688 253.527344 15.984375 255.695312 19.84375 C 261.125 29.59375 265.789062 37.835938 266.492188 38.972656 L 267.089844 39.921875 L 267.089844 58.367188 L 277.820312 58.367188 L 277.820312 39.941406 L 282.136719 32.074219 C 289.875 17.882812 292.207031 13.667969 292.953125 12.410156 L 293.675781 11.171875 L 287.667969 11.109375 C 284.363281 11.085938 281.597656 11.128906 281.515625 11.210938 C 281.433594 11.316406 280.15625 13.875 278.6875 16.953125 C 277.222656 20.011719 275.242188 24.101562 274.3125 26.042969 L 272.621094 29.550781 L 272.167969 28.972656 C 271.941406 28.683594 269.835938 24.511719 267.5 19.742188 L 263.292969 11.066406 L 250.761719 11.066406 Z M 251.277344 11.933594 "}),d.jsx("path",{style:{fill:i},d:"M 228.285156 34.820312 L 228.285156 58.367188 L 256.253906 58.367188 L 256.273438 53.410156 L 256.273438 48.453125 L 239.429688 48.453125 L 239.429688 11.273438 L 228.285156 11.273438 Z M 228.285156 34.820312 "})]})})},Qs=[{id:"merge-pdf",title:"Merge PDF",description:"Combine PDFs in the order you want with the easiest PDF merger available.",Icon:c4,color:"bg-orange-500",hoverColor:"hover:bg-orange-600",textColor:"text-orange-600",category:"organize",api:{category:"pdf"},fileTypeDisplayName:"PDF",fileTypeNounPlural:"files"},{id:"split-pdf",title:"Split PDF",description:"Separate one page or a whole set for easy conversion into independent PDF files.",Icon:u4,color:"bg-orange-500",hoverColor:"hover:bg-orange-600",textColor:"text-orange-600",category:"organize",api:{category:"pdf"},fileTypeDisplayName:"PDF",fileTypeNounPlural:"files"},{id:"organize-pdf",title:"Organize PDF",description:"Sort, add, and remove PDF pages. Arrange your document pages as you wish.",Icon:_4,color:"bg-orange-500",hoverColor:"hover:bg-orange-600",textColor:"text-orange-600",category:"organize",api:{category:"pdf"},fileTypeDisplayName:"PDF",fileTypeNounPlural:"files"},{id:"rotate-pdf",title:"Rotate PDF",description:"Rotate your PDFs the way you need them. You can even rotate multiple PDFs at once!",Icon:m4,color:"bg-indigo-500",hoverColor:"hover:bg-indigo-600",textColor:"text-indigo-600",category:"organize",api:{category:"pdf"},fileTypeDisplayName:"PDF",fileTypeNounPlural:"files"},{id:"zip-maker",title:"Create ZIP file",description:"Easily create a ZIP archive from multiple files or an entire folder.",Icon:G4,color:"bg-amber-500",hoverColor:"hover:bg-amber-600",textColor:"text-amber-600",category:"organize",isNew:!0,accept:{},api:{category:"utility"},fileTypeDisplayName:"files",fileTypeNounPlural:"files here"},{id:"compress-pdf",title:"Compress PDF",description:"Reduce file size while optimizing for maximal PDF quality.",Icon:Dm,color:"bg-green-500",hoverColor:"hover:bg-green-600",textColor:"text-green-600",category:"optimize",api:{category:"pdf"},fileTypeDisplayName:"PDF",fileTypeNounPlural:"files"},{id:"repair-pdf",title:"Repair PDF",description:"Repair a damaged PDF and recover data from corrupt PDF. Fix PDF files with our Repair tool.",Icon:b4,color:"bg-lime-500",hoverColor:"hover:bg-lime-600",textColor:"text-lime-600",isPremium:!0,category:"optimize",api:{category:"pdf"},fileTypeDisplayName:"PDF",fileTypeNounPlural:"files"},{id:"resize-file",title:"Resize File",description:"Change the file size of images or PDFs by adjusting quality and compression.",Icon:Bm,color:"bg-cyan-500",hoverColor:"hover:bg-cyan-600",textColor:"text-cyan-600",category:"optimize",isNew:!0,accept:{"image/*":[".png",".jpg",".jpeg"],"application/pdf":[".pdf"]},api:{category:"utility"},fileTypeDisplayName:"files",fileTypeNounPlural:"files"},{id:"jpg-to-pdf",title:"JPG to PDF",description:"Convert JPG images to PDF in seconds. Easily adjust orientation and margins.",Icon:Fm,color:"bg-yellow-400",hoverColor:"hover:bg-yellow-500",textColor:"text-yellow-600",isNew:!0,category:"convert-to",accept:{"image/jpeg":[".jpeg",".jpg"],"image/png":[".png"]},api:{category:"pdf"},fileTypeDisplayName:"JPG",fileTypeNounPlural:"images"},{id:"psd-to-pdf",title:"PSD to PDF",description:"Convert Adobe Photoshop files (PSD) to PDF documents easily.",Icon:U4,color:"bg-sky-500",hoverColor:"hover:bg-sky-600",textColor:"text-sky-600",isNew:!0,category:"convert-to",accept:{"image/vnd.adobe.photoshop":[".psd"],"application/octet-stream":[".psd"]},api:{category:"pdf"},fileTypeDisplayName:"PSD",fileTypeNounPlural:"files"},{id:"word-to-pdf",title:"Word to PDF",description:"Convert your WORD documents to PDF with the best quality and conversion.",Icon:Nm,color:"bg-blue-500",hoverColor:"hover:bg-blue-600",textColor:"text-blue-600",category:"convert-to",accept:{"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"]},api:{category:"pdf"},fileTypeDisplayName:"WORD",fileTypeNounPlural:"files"},{id:"powerpoint-to-pdf",title:"Convert POWERPOINT to PDF",description:"Make PPT and PPTX slideshows easy to view by converting them to PDF.",Icon:Vm,color:"bg-red-500",hoverColor:"hover:bg-red-600",textColor:"text-red-600",category:"convert-to",accept:{"application/vnd.openxmlformats-officedocument.presentationml.presentation":[".pptx"]},api:{category:"pdf"},fileTypeDisplayName:"POWERPOINT",fileTypeNounPlural:"slideshows"},{id:"excel-to-pdf",title:"Excel to PDF",description:"Convert your EXCEL spreadsheets to PDF. XLS and XLSX to PDF converter.",Icon:Om,color:"bg-green-500",hoverColor:"hover:bg-green-600",textColor:"text-green-600",category:"convert-to",accept:{"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"]},api:{category:"pdf"},fileTypeDisplayName:"EXCEL",fileTypeNounPlural:"files"},{id:"html-to-pdf",title:"HTML to PDF",description:"Convert webpages in HTML to PDF. Copy and paste the URL of the page you want and convert it to PDF with a click.",Icon:g4,color:"bg-yellow-400",hoverColor:"hover:bg-yellow-500",textColor:"text-yellow-600",category:"convert-to",api:{category:"pdf"}},{id:"scan-to-pdf",title:"Scan to PDF",description:"Turn your phone into a document scanner. Capture, edit, and correct the perspective of your documents to create high-quality scans.",Icon:I4,color:"bg-amber-500",hoverColor:"hover:bg-amber-600",textColor:"text-amber-600",isNew:!0,category:"convert-to"},{id:"pdf-to-jpg",title:"PDF to JPG",description:"Extract images from your PDF or convert each page into a JPG.",Icon:Lm,color:"bg-yellow-400",hoverColor:"hover:bg-yellow-500",textColor:"text-yellow-600",category:"convert-from",api:{category:"pdf"},fileTypeDisplayName:"PDF",fileTypeNounPlural:"files"},{id:"pdf-to-png",title:"PDF to PNG",description:"Convert each PDF page into a high-quality PNG image.",Icon:z4,color:"bg-lime-500",hoverColor:"hover:bg-lime-600",textColor:"text-lime-600",isNew:!0,category:"convert-from",api:{category:"pdf"},fileTypeDisplayName:"PDF",fileTypeNounPlural:"files"},{id:"pdf-to-word",title:"PDF to Word",description:"Easily convert your PDF files into easy to edit DOC and DOCX documents.",Icon:Nm,color:"bg-blue-500",hoverColor:"hover:bg-blue-600",textColor:"text-blue-600",category:"convert-from",api:{category:"pdf"},fileTypeDisplayName:"PDF",fileTypeNounPlural:"files"},{id:"pdf-to-powerpoint",title:"PDF to PowerPoint",description:"Turn your PDF files into easy to edit PPT and PPTX slideshows.",Icon:Vm,color:"bg-red-500",hoverColor:"hover:bg-red-600",textColor:"text-red-600",isPremium:!0,category:"convert-from",api:{category:"pdf"},fileTypeDisplayName:"PDF",fileTypeNounPlural:"files"},{id:"pdf-to-excel",title:"PDF to Excel",description:"Pull data straight from PDFs into Excel spreadsheets in a few clicks.",Icon:Om,color:"bg-green-500",hoverColor:"hover:bg-green-600",textColor:"text-green-600",category:"convert-from",api:{category:"pdf"},fileTypeDisplayName:"PDF",fileTypeNounPlural:"files"},{id:"pdf-to-pdfa",title:"PDF to PDF/A",description:"Transform your PDF to PDF/A, the ISO-standardized version for long-term archiving.",Icon:w4,color:"bg-slate-500",hoverColor:"hover:bg-slate-600",textColor:"text-slate-600",category:"convert-from",api:{category:"pdf"},fileTypeDisplayName:"PDF",fileTypeNounPlural:"files"},{id:"extract-text",title:"Extract text",description:"Extract all text from a PDF file to a TXT file.",Icon:Um,color:"bg-red-500",hoverColor:"hover:bg-red-600",textColor:"text-red-600",category:"convert-from",api:{category:"pdf"},fileTypeDisplayName:"PDF",fileTypeNounPlural:"files"},{id:"edit-pdf",title:"Edit PDF",description:"Add text, images, shapes or freehand annotations to a PDF document.",Icon:d4,color:"bg-purple-500",hoverColor:"hover:bg-purple-600",textColor:"text-purple-600",isPremium:!0,isNew:!0,category:"edit",api:{category:"pdf"},fileTypeDisplayName:"PDF",fileTypeNounPlural:"files"},{id:"page-numbers",title:"Page numbers",description:"Add page numbers into PDFs with ease. Choose your positions, dimensions, typography.",Icon:x4,color:"bg-fuchsia-500",hoverColor:"hover:bg-fuchsia-600",textColor:"text-fuchsia-600",isPremium:!0,category:"edit",api:{category:"pdf"},fileTypeDisplayName:"PDF",fileTypeNounPlural:"files"},{id:"crop-pdf",title:"Crop PDF",description:"Crop margins of PDF files to change the page size or remove unwanted areas.",Icon:zm,color:"bg-rose-500",hoverColor:"hover:bg-rose-600",textColor:"text-rose-600",isPremium:!0,category:"edit",api:{category:"pdf"},fileTypeDisplayName:"PDF",fileTypeNounPlural:"files"},{id:"ocr-pdf",title:"OCR PDF",description:"Easily convert scanned PDF into searchable and selectable documents.",Icon:Um,color:"bg-teal-500",hoverColor:"hover:bg-teal-600",textColor:"text-teal-600",isPremium:!0,category:"edit",api:{category:"pdf"},fileTypeDisplayName:"PDF",fileTypeNounPlural:"files"},{id:"compare-pdf",title:"Compare PDF",description:"Show a side-by-side comparison of two PDF files to spot the differences.",Icon:T4,color:"bg-sky-500",hoverColor:"hover:bg-sky-600",textColor:"text-sky-600",isPremium:!0,category:"edit",api:{category:"pdf"},fileTypeDisplayName:"PDF",fileTypeNounPlural:"files"},{id:"redact-pdf",title:"Redact PDF",description:"Redact text and graphics from your PDF to permanently remove sensitive information.",Icon:E4,color:"bg-slate-500",hoverColor:"hover:bg-slate-600",textColor:"text-slate-600",isPremium:!0,category:"edit",api:{category:"pdf"},fileTypeDisplayName:"PDF",fileTypeNounPlural:"files"},{id:"ai-question-generator",title:"AI Question Generator",description:"Automatically create questions from any text using AI. Perfect for study guides and quizzes.",Icon:B4,color:"bg-purple-500",hoverColor:"hover:bg-purple-600",textColor:"text-purple-600",isNew:!0,category:"edit"},{id:"invoice-generator",title:"Invoice Generator",description:"Create professional invoices for free. Customize with your logo, add items, and download as PDF.",Icon:j4,color:"bg-teal-500",hoverColor:"hover:bg-teal-600",textColor:"text-teal-600",isNew:!0,category:"business"},{id:"cv-generator",title:"CV Generator",description:"Create a professional CV by providing your details. Choose from multiple templates and download as a PDF.",Icon:H4,color:"bg-cyan-500",hoverColor:"hover:bg-cyan-600",textColor:"text-cyan-600",isNew:!0,category:"business"},{id:"lesson-plan-creator",title:"Lesson Plan Creator",description:"Create detailed, engaging lesson plans for any subject in seconds. Let AI build a plan with activities, assessments, and homework.",Icon:Th,color:"bg-indigo-500",hoverColor:"hover:bg-indigo-600",textColor:"text-indigo-600",isNew:!0,category:"business"},{id:"unlock-pdf",title:"Unlock PDF",description:"Remove PDF password security, giving you the freedom to use your PDFs as you want.",Icon:y4,color:"bg-cyan-500",hoverColor:"hover:bg-cyan-600",textColor:"text-cyan-600",category:"security",api:{category:"pdf"},fileTypeDisplayName:"PDF",fileTypeNounPlural:"files"},{id:"protect-pdf",title:"Protect PDF",description:"Protect PDF files with a password. Encrypt PDF documents to prevent unauthorized access.",Icon:v4,color:"bg-blue-500",hoverColor:"hover:bg-blue-600",textColor:"text-blue-600",category:"security",api:{category:"pdf"},fileTypeDisplayName:"PDF",fileTypeNounPlural:"files"},{id:"sign-pdf",title:"Sign PDF",description:"Sign yourself or request electronic signatures from others.",Icon:f4,color:"bg-blue-500",hoverColor:"hover:bg-blue-600",textColor:"text-blue-600",isPremium:!0,category:"security",api:{category:"signature"},fileTypeDisplayName:"PDF",fileTypeNounPlural:"files"},{id:"watermark-pdf",title:"Watermark",description:"Stamp an image or text over your PDF in seconds. Choose the typography, transparency and position.",Icon:jm,color:"bg-purple-500",hoverColor:"hover:bg-purple-600",textColor:"text-purple-600",category:"security",api:{category:"pdf"},fileTypeDisplayName:"PDF",fileTypeNounPlural:"files"},{id:"resize-image",title:"Resize image",description:"Define your dimensions, by percentage or pixel, and resize your JPG, PNG, and GIF images.",Icon:Bm,color:"bg-blue-500",hoverColor:"hover:bg-blue-600",textColor:"text-blue-600",category:"edit",accept:{"image/*":[".png",".jpg",".jpeg",".gif"]},api:{category:"image"},fileTypeDisplayName:"image",fileTypeNounPlural:"files"},{id:"remove-background",title:"Remove Background",description:"Automatically remove the background from any image with a single click.",Icon:M4,color:"bg-green-500",hoverColor:"hover:bg-green-600",textColor:"text-green-600",category:"edit",accept:{"image/*":[".png",".jpg",".jpeg",".webp"]},api:{category:"image"},fileTypeDisplayName:"image",fileTypeNounPlural:"files"},{id:"crop-image",title:"Crop image",description:"Crop JPG, PNG, or GIFs with ease.",Icon:zm,color:"bg-red-500",hoverColor:"hover:bg-red-600",textColor:"text-red-600",category:"edit",accept:{"image/*":[".png",".jpg",".jpeg",".gif"]},api:{category:"image"},fileTypeDisplayName:"image",fileTypeNounPlural:"files"},{id:"convert-to-jpg",title:"Convert to JPG",description:"Convert PNG, GIF, TIF, PSD, SVG, WEBP or RAW to JPG.",Icon:Fm,color:"bg-yellow-400",hoverColor:"hover:bg-yellow-500",textColor:"text-yellow-600",category:"convert-to",accept:{"image/*":[".png",".gif",".tif",".tiff",".psd",".svg",".webp"]},api:{category:"image"},fileTypeDisplayName:"image",fileTypeNounPlural:"files"},{id:"convert-from-jpg",title:"Convert from JPG",description:"Convert from JPG to PNG or GIF.",Icon:Lm,color:"bg-yellow-400",hoverColor:"hover:bg-yellow-500",textColor:"text-yellow-600",category:"convert-from",accept:{"image/jpeg":[".jpg",".jpeg"]},api:{category:"image"},fileTypeDisplayName:"JPG",fileTypeNounPlural:"images"},{id:"compress-image",title:"Compress Image",description:"Reduce file size while optimizing for maximal image quality.",Icon:Dm,color:"bg-green-500",hoverColor:"hover:bg-green-600",textColor:"text-green-600",category:"optimize",accept:{"image/*":[".png",".jpg",".jpeg"]},api:{category:"image"},fileTypeDisplayName:"image",fileTypeNounPlural:"files"},{id:"watermark-image",title:"Watermark Image",description:"Stamp an image or text over your images in seconds.",Icon:jm,color:"bg-purple-500",hoverColor:"hover:bg-purple-600",textColor:"text-purple-600",category:"edit",accept:{"image/*":[".png",".jpg",".jpeg"]},api:{category:"image"},fileTypeDisplayName:"image",fileTypeNounPlural:"files"}],tS=[{slug:"neb-class-12-result-2081-2082",title:"NEB Class 12 Result 2082/2081 (2025): The Ultimate Guide to Check Your Marksheet Online",date:"July 15, 2025",excerpt:"The complete guide to checking your NEB Class 12 Result for 2081/2082. Find official websites like neb.gov.np and ntc.net.np, SMS methods, IVR, and step-by-step instructions to view your results with marksheet. Understand the new grading system and get answers to all your FAQs. Your one-stop resource for the 2025 NEB results is here.",content:`The long wait is almost over for the hundreds of thousands of students who appeared for the National Examinations Board (NEB) Class 12 examinations in 2081/2082. This result is a pivotal moment, serving as the gateway to higher education and future career paths. The anticipation can be overwhelming, with students and parents eagerly searching for the fastest and most reliable ways to check the results. To ease this process, we have created the ultimate, comprehensive guide with all the verified information you need to check your NEB Class 12 Result 2081/2082 the moment it is published.

This guide provides direct links to official websites, step-by-step instructions for checking results via SMS, IVR, and USSD, and detailed information on the latest grading system. We understand that on result day, official websites can be slow or unresponsive due to high traffic. That's why we've compiled a list of alternative methods and multiple web portals to ensure you get your result without delay.

<a href="https://neb.ntc.net.np/" target="_blank" rel="noopener noreferrer" class="inline-block bg-brand-red hover:bg-brand-red-dark text-white font-bold py-3 px-8 rounded-lg my-6 no-underline text-lg">Check NEB Class 12 Result Now</a>

<h2>When Will the NEB Class 12 Result 2081/2082 Be Published?</h2>
<p>While the National Examinations Board (NEB) has not announced an exact date, based on previous years' trends, the results for the Class 12 examinations are typically published by the end of Shrawan or the first week of Bhadra. The board is currently in the final stages of checking and tabulating the results. We recommend students to stay updated through the official NEB website (neb.gov.np) and reliable news portals. You can also bookmark this page, as we will update it with the latest information as soon as it becomes available.</p>

<h2>5 Easy Methods to Check Your NEB Class 12 Result</h2>
<p>Here are the most reliable and fastest methods to check your result with your marksheet. Make sure you have your Symbol Number and Date of Birth (in BS format: YYYY-MM-DD) ready.</p>

<h3>1. Official Websites</h3>
<p>The most reliable way to check your NEB result is by visiting the official websites. This method provides a complete marksheet which you can download and print.</p>
<ol class="list-decimal list-inside space-y-2 my-4">
    <li>Go to one of the official websites listed in the table below.</li>
    <li>Look for the link that says "NEB Class 12 Result 2081" or something similar.</li>
    <li>Enter your Symbol Number and Date of Birth (in BS format).</li>
    <li>Click the "Submit" or "View Result" button.</li>
    <li>Your result, along with a detailed marksheet, will appear on the screen. It is highly recommended to download or print it for future reference.</li>
</ol>
<div class="overflow-x-auto my-4 rounded-lg border border-gray-200 dark:border-gray-700">
  <table class="min-w-full bg-white dark:bg-black">
    <thead class="bg-gray-100 dark:bg-gray-800">
      <tr>
        <th class="px-4 py-3 text-left font-semibold text-gray-700 dark:text-gray-200">Website Name</th>
        <th class="px-4 py-3 text-left font-semibold text-gray-700 dark:text-gray-200">URL</th>
      </tr>
    </thead>
    <tbody class="divide-y divide-gray-200 dark:divide-gray-700">
      <tr><td class="px-4 py-2">NEB Official Website</td><td class="px-4 py-2"><a href="http://www.neb.gov.np" target="_blank" rel="noopener noreferrer" class="text-brand-red hover:underline">www.neb.gov.np</a></td></tr>
      <tr><td class="px-4 py-2">Nepal Telecom Portal</td><td class="px-4 py-2"><a href="http://neb.ntc.net.np" target="_blank" rel="noopener noreferrer" class="text-brand-red hover:underline">neb.ntc.net.np</a></td></tr>
      <tr><td class="px-4 py-2">I Love PDFLY Result Hub</td><td class="px-4 py-2"><a href="https://ilovepdfly.com/blog/neb-class-12-result-2081-2082" class="text-brand-red hover:underline">ilovepdfly.com (You are here!)</a></td></tr>
      <tr><td class="px-4 py-2">Edusanjal</td><td class="px-4 py-2"><a href="http://see.edusanjal.com" target="_blank" rel="noopener noreferrer" class="text-brand-red hover:underline">see.edusanjal.com</a></td></tr>
      <tr><td class="px-4 py-2">Kantipur Publications</td><td class="px-4 py-2"><a href="http://results.ekantipur.com/" target="_blank" rel="noopener noreferrer" class="text-brand-red hover:underline">results.ekantipur.com</a></td></tr>
    </tbody>
  </table>
</div>

<h3>2. SMS Method (Nepal Telecom)</h3>
<p>If you dont have internet access or if the websites are down, you can easily check your result by sending an SMS from your NTC SIM card.</p>
<ol class="list-decimal list-inside space-y-2 my-4">
    <li>Open your phones messaging app.</li>
    <li>Compose a new message and type: <strong>NEB &lt;space&gt; Your_Symbol_Number</strong></li>
    <li>Send the message to <strong>1600</strong>.</li>
    <li>For example: If your symbol number is 12345678, you would type <strong>NEB 12345678</strong>.</li>
    <li>Shortly after, you will receive an SMS with your GPA and overall result.</li>
</ol>
<div class="my-4 p-4 bg-yellow-100 dark:bg-yellow-900/50 border-l-4 border-yellow-400 text-yellow-800 dark:text-yellow-300">
    <strong>Did You Know?</strong> Over 400,000 students appear for the NEB Class 12 exam every year in Nepal. Thats why websites often slow down or crash on result day. Using SMS, USSD, or apps like Khalti and eSewa can help you get results faster without delay!
</div>


<h3>3. IVR Method (Interactive Voice Response)</h3>
<p>Another offline option is to call the IVR system from any NTC mobile or landline to listen to your result.</p>
<ol class="list-decimal list-inside space-y-2 my-4">
    <li>Dial <strong>1601</strong> from your NTC phone.</li>
    <li>Follow the voice instructions provided by the operator.</li>
    <li>Enter your symbol number when prompted.</li>
    <li>Wait for a few moments as the system announces your result.</li>
</ol>

<h3>4. USSD Code Service</h3>
<p>You can also use the USSD service to check your grade 12 result. This method is fast and does not require an internet connection or balance (it's free on the NTC network).</p>
<ol class="list-decimal list-inside space-y-2 my-4">
    <li>Open your phone's dialer.</li>
    <li>Dial <strong>*1601#</strong> and press the call button.</li>
    <li>Follow the on-screen instructions that appear.</li>
    <li>Enter your symbol number.</li>
    <li>Your result will be instantly displayed on your phone screen.</li>
</ol>

<h3>5. Mobile Apps: Khalti and eSewa</h3>
<p>Popular digital wallets like Khalti and eSewa offer easy result-checking features directly within their apps. This method is user-friendly and convenient if you already use these apps for payments.</p>
<ol class="list-decimal list-inside space-y-2 my-4">
    <li>Open the Khalti or eSewa app on your smartphone.</li>
    <li>Navigate to the 'Education' or 'NEB Result' section (it's usually on the homepage during result season).</li>
    <li>Enter your symbol number and date of birth.</li>
    <li>Tap the 'View Result' button to see your marksheet.</li>
</ol>

<h2>Understanding the NEB Class 12 Grading System</h2>
<p>The NEB uses a letter grading system with a corresponding Grade Point Average (GPA). It's crucial to understand this system to interpret your marksheet correctly. Here is the detailed breakdown:</p>
<div class="overflow-x-auto my-4 rounded-lg border border-gray-200 dark:border-gray-700">
  <table class="min-w-full bg-white dark:bg-black">
    <thead class="bg-gray-100 dark:bg-gray-800">
      <tr>
        <th class="px-4 py-3 text-left font-semibold text-gray-700 dark:text-gray-200">Percentage (%)</th>
        <th class="px-4 py-3 text-left font-semibold text-gray-700 dark:text-gray-200">Grade</th>
        <th class="px-4 py-3 text-left font-semibold text-gray-700 dark:text-gray-200">Description</th>
        <th class="px-4 py-3 text-left font-semibold text-gray-700 dark:text-gray-200">Grade Point</th>
      </tr>
    </thead>
    <tbody class="divide-y divide-gray-200 dark:divide-gray-700">
      <tr><td class="px-4 py-2">90 to 100</td><td class="px-4 py-2 font-bold">A+</td><td class="px-4 py-2">Outstanding</td><td class="px-4 py-2">4.0</td></tr>
      <tr><td class="px-4 py-2">80 to below 90</td><td class="px-4 py-2 font-bold">A</td><td class="px-4 py-2">Excellent</td><td class="px-4 py-2">3.6</td></tr>
      <tr><td class="px-4 py-2">70 to below 80</td><td class="px-4 py-2 font-bold">B+</td><td class="px-4 py-2">Very Good</td><td class="px-4 py-2">3.2</td></tr>
      <tr><td class="px-4 py-2">60 to below 70</td><td class="px-4 py-2 font-bold">B</td><td class="px-4 py-2">Good</td><td class="px-4 py-2">2.8</td></tr>
      <tr><td class="px-4 py-2">50 to below 60</td><td class="px-4 py-2 font-bold">C+</td><td class="px-4 py-2">Satisfactory</td><td class="px-4 py-2">2.4</td></tr>
      <tr><td class="px-4 py-2">40 to below 50</td><td class="px-4 py-2 font-bold">C</td><td class="px-4 py-2">Acceptable</td><td class="px-4 py-2">2.0</td></tr>
      <tr><td class="px-4 py-2">35 to below 40</td><td class="px-4 py-2 font-bold">D</td><td class="px-4 py-2">Basic</td><td class="px-4 py-2">1.6</td></tr>
      <tr><td class="px-4 py-2" colspan="4">Below 35% in theory subjects is considered 'Non-Graded (NG)' and the final GPA will not be calculated.</td></tr>
    </tbody>
  </table>
</div>

<h2>Frequently Asked Questions (FAQs)</h2>
<div class="space-y-4 mt-6">
  <div class="border-t border-gray-200 dark:border-gray-700 pt-4">
    <h4 class="font-semibold text-lg">What is the minimum GPA required to pass Class 12?</h4>
    <p>To be eligible for higher studies, a student must obtain a minimum of a 'D' grade (1.6 GPA) in all theory subjects and a 'C' grade in practical subjects. Additionally, students must not have an 'NG' (Non-Graded) result in any subject.</p>
  </div>
  <div class="border-t border-gray-200 dark:border-gray-700 pt-4">
    <h4 class="font-semibold text-lg">What does 'NG' (Non-Graded) mean?</h4>
    <p>'NG' means that a student has scored below the minimum required marks (35%) in a theory subject. If you have an 'NG' in any subject, your final GPA will not be awarded, and you will need to appear for a supplementary (grade improvement) exam for that subject.</p>
  </div>
  <div class="border-t border-gray-200 dark:border-gray-700 pt-4">
    <h4 class="font-semibold text-lg">How can I apply for a re-totaling or re-checking?</h4>
    <p>If you are not satisfied with your result, the NEB provides an opportunity to apply for re-totaling. The notice for this is usually published along with the results on the official NEB website. You will have to fill out a form and pay a nominal fee per subject within a specified timeframe.</p>
  </div>
   <div class="border-t border-gray-200 dark:border-gray-700 pt-4">
    <h4 class="font-semibold text-lg">When will I get my official transcript and certificate?</h4>
    <p>The original academic transcript and migration certificate are usually distributed to schools/colleges a few weeks after the results are published. You should contact your college administration for information on when you can collect them.</p>
  </div>
</div>`,image:"https://ik.imagekit.io/fonepay/class%2012%20result.png?updatedAt=1753244853921",author:"The I Love PDFLY Team",authorImage:"/logo.svg",tags:["NEB Result","Class 12","Education","Nepal","Result 2082"]},{slug:"build-a-professional-cv-in-minutes-with-ai",title:"Build a Professional CV in Minutes with Our New AI-Powered Generator",date:"August 10, 2025",excerpt:"Landing your dream job starts with a perfect CV. Our new free CV Generator helps you create a polished, professional resume in minutes. Choose from modern templates, fill in your details, and download a job-ready PDF.",content:`<h2>The First Impression Matters Most</h2>
<p>In today's competitive job market, your Curriculum Vitae (CV) is often the very first impression you make on a potential employer. A well-structured, professional, and error-free CV can be the difference between landing an interview and being overlooked. However, creating one from scratch can be a daunting task. Which template should you use? What information is most important? How do you format it correctly?</p>

<h2>Introducing the I Love PDFLY CV Generator</h2>
<p>We're excited to introduce a powerful new tool to our suite: the free <a href="/#/cv-generator" class="text-brand-red hover:underline">CV Generator</a>. We've taken the stress and guesswork out of resume building by creating an intuitive, step-by-step process that guides you toward a perfect, job-winning CV.</p>

<h2>Key Features of the CV Generator</h2>
<ul class="list-disc list-inside space-y-2 my-4">
    <li><strong>Professionally Designed Templates:</strong> Choose from a selection of clean, modern templates that are proven to be effective and easy for recruiters to read. No more struggling with Word formatting!</li>
    <li><strong>Guided Sections:</strong> Our tool walks you through every essential section: personal details, professional summary, work experience, education, skills, and projects. Just fill in the blanks.</li>
    <li><strong>Easy Editing:</strong> Add, remove, and reorder sections with ease. Our live preview shows you exactly what your final CV will look like as you type.</li>
    <li><strong>Instant PDF Download:</strong> Once you're finished, download your CV as a high-quality, universally compatible PDF file, ready to be sent to employers.</li>
</ul>

<h2>How to Create Your CV in 5 Simple Steps</h2>
<p>Ready to build your new CV? It's incredibly simple:</p>
<ol class="list-decimal list-inside space-y-2 my-4">
    <li><strong>Navigate to the Tool:</strong> Go to the <a href="/#/cv-generator" class="text-brand-red hover:underline">CV Generator</a> page.</li>
    <li><strong>Fill in Your Details:</strong> Enter your information into the guided form on the left panel, covering everything from your contact info to your work history.</li>
    <li><strong>Upload a Professional Photo (Optional):</strong> Add a professional headshot to give your CV a personal touch.</li>
    <li><strong>Choose Your Design:</strong> Select a template and an accent color that best represents your professional brand.</li>
    <li><strong>Download Your PDF:</strong> Click the "Download PDF" button to instantly save your polished, professional CV.</li>
</ol>
<p>Stop letting CV formatting stand in the way of your career goals. Create a document that makes you stand out and land the interview you deserve. Try our free CV Generator today!</p>`,image:"https://ik.imagekit.io/fonepay/ilovepdfly%20blog.png?updatedAt=1753465347545",author:"The I Love PDFLY Team",authorImage:"/logo.svg",tags:["CV Generator","Resume Builder","Job Search","Career","Free CV Maker","How To"]},{slug:"ai-lesson-plan-creator-for-teachers",title:"Your New Teaching Assistant: The AI Lesson Plan Creator",date:"August 9, 2025",excerpt:"Teachers, reclaim your time! Our new AI Lesson Plan Creator generates detailed, engaging, and curriculum-aligned lesson plans for any subject in seconds. Spend less time on paperwork and more time inspiring your students.",content:`<h2>The Challenge of Modern Teaching</h2>
<p>Educators are the backbone of our society, but the demands on their time are immense. Lesson planning, in particular, is a critical but incredibly time-consuming task. Crafting engaging, effective, and curriculum-aligned plans for every class can take hours each weekhours that could be spent interacting with students or focusing on professional development.</p>

<h2>Save Time with the AI Lesson Plan Creator</h2>
<p>We believe technology should empower teachers, not add to their workload. Thats why were thrilled to launch the <a href="/#/lesson-plan-creator" class="text-brand-red hover:underline">AI Lesson Plan Creator</a>, a revolutionary tool designed to be every teacher's new favorite assistant.</p>
<p>Simply provide a few key detailsgrade level, subject, topic, and class durationand our AI will generate a comprehensive and structured lesson plan in seconds. It's designed to give you a high-quality, editable foundation that you can adapt to your unique classroom needs.</p>

<h2>What Does a Generated Lesson Plan Include?</h2>
<p>Our AI doesn't just give you a vague outline. It creates a complete, actionable plan with all the essential components:</p>
<ul class="list-disc list-inside space-y-2 my-4">
    <li><strong>Clear Objectives:</strong> Concrete learning goals for students to achieve.</li>
    <li><strong>Engaging Introduction:</strong> A creative "hook" to capture your students' attention from the start.</li>
    <li><strong>Step-by-Step Activities:</strong> Detailed main teaching activities, including suggestions for group work and interaction.</li>
    <li><strong>Assessment Ideas:</strong> Practical ways to check for understanding, from quick quizzes to group discussions.</li>
    <li><strong>Homework Assignments:</strong> Relevant and meaningful practice for students to complete after class.</li>
    <li><strong>Materials List:</strong> A checklist of all the resources you'll need for the lesson.</li>
</ul>

<h2>How It Works</h2>
<ol class="list-decimal list-inside space-y-2 my-4">
    <li><strong>Go to the Tool:</strong> Visit the <a href="/#/lesson-plan-creator" class="text-brand-red hover:underline">AI Lesson Plan Creator</a>.</li>
    <li><strong>Enter Your Lesson Details:</strong> Specify the grade, subject, topic, and duration. You can even suggest a teaching style (e.g., "Interactive & Hands-on").</li>
    <li><strong>Generate the Plan:</strong> Click the "Generate" button and watch as the AI crafts your lesson plan in real-time.</li>
    <li><strong>Review and Refine:</strong> Use the generated plan as-is, or copy and paste it into your favorite editor to tweak and personalize it for your students.</li>
</ol>
<p>The AI Lesson Plan Creator is more than a tool; it's a partner in education. It's here to help you reduce prep time, overcome creative blocks, and focus on what you do best: teaching. Give it a try and revolutionize your planning process today!</p>`,image:"https://ik.imagekit.io/fonepay/4B237CD5-C59B-4982-9ED4-E9A479E8BDA1.png?updatedAt=1753468582689",author:"The I Love PDFLY Team",authorImage:"/logo.svg",tags:["Lesson Plan Creator","AI for Teachers","Education","EdTech","Teaching Tools","Productivity"]},{slug:"turn-any-text-into-a-quiz-ai-question-generator",title:"Study Smarter: Turn Any Text into a Quiz with Our AI Question Generator",date:"August 8, 2025",excerpt:"Transform your study materials instantly! Our new AI Question Generator takes any textfrom articles to textbook chaptersand automatically creates a variety of quiz questions to help you learn and retain information more effectively.",content:`<h2>The Power of Active Recall in Learning</h2>
<p>Reading and highlighting text is a common study method, but research shows that one of the most effective ways to learn and remember information is through "active recall"the process of actively retrieving information from your memory. In other words, quizzing yourself is one of the best ways to study.</p>
<p>But creating good questions takes time and effort. What if you could instantly generate a quiz from any text you're studying? Now you can.</p>

<h2>Introducing the AI Question Generator</h2>
<p>We are excited to launch our <a href="/#/ai-question-generator" class="text-brand-red hover:underline">AI Question Generator</a>, a powerful tool for students, teachers, and lifelong learners. Simply paste any text into the tool, and our AI will analyze the content and generate a diverse set of questions to test your knowledge.</p>

<h2>How Can It Help You?</h2>
<ul class="list-disc list-inside space-y-2 my-4">
    <li><strong>For Students:</strong> Instantly create a practice quiz from your lecture notes, textbook chapters, or online articles. Test your understanding before an exam and identify areas where you need to review.</li>
    <li><strong>For Teachers:</strong> Quickly generate questions for a pop quiz, a worksheet, or a study guide. Save valuable prep time while still providing valuable learning materials for your students.</li>
    <li><strong>For Anyone:</strong> Want to make sure you understood that dense news article or business report? Paste it in and get a set of questions to confirm your comprehension.</li>
</ul>

<h2>A Variety of Question Types</h2>
<p>To ensure a comprehensive review, our AI generates a mix of question formats based on your text, including:</p>
<ul class="list-disc list-inside space-y-2 my-4">
    <li><strong>Multiple Choice:</strong> Test your knowledge with several options.</li>
    <li><strong>True/False:</strong> Verify key facts and statements.</li>
    <li><strong>Short Answer:</strong> Challenge yourself to recall specific information and concepts.</li>
</ul>
<p>Each question comes with the correct answer, so you can check your work immediately. Stop just reading and start actively learning. Turn your study material into an interactive learning experience with the AI Question Generator today!</p>`,image:"https://ik.imagekit.io/fonepay/7543789B-8C56-4BF2-9952-6D6C2F17BA25.png?updatedAt=1753468583193",author:"The I Love PDFLY Team",authorImage:"/logo.svg",tags:["AI Question Generator","Study Tools","Education","Quiz Maker","Learning","Productivity","AI"]},{slug:"you-can-now-edit-images-in-ilovepdfly",title:"You can now edit images in I Love PDFLY",date:"August 4, 2025",excerpt:"Exciting news! I Love PDFLY is expanding beyond PDFs. Discover our powerful new image editing tools, including a one-click Background Remover, designed to streamline your creative workflow. Edit your images and convert them to PDF all in one place.",content:`<h2>More Than Just PDFs: Welcome to Image Editing!</h2>
<p>We've always been your go-to solution for everything PDF, but we know your projects often involve more than just documents. That's why we're thrilled to announce that I Love PDFLY is expanding its toolkit to include powerful, easy-to-use image editing features!</p>
<p>Now, you can manage both your documents and your images in one convenient place, streamlining your workflow and boosting your productivity. Say goodbye to switching between different appsyour complete toolkit is right here.</p>

<h2>Introducing a Game-Changer: One-Click Background Removal</h2>
<p>Have you ever needed to isolate a subject from its background for a presentation, a product photo, or a creative project? Our new <a href="/#/remove-background" class="text-brand-red hover:underline">Remove Background tool</a> makes this complex task incredibly simple.</p>
<ul class="list-disc list-inside space-y-2 my-4">
    <li><strong>Effortless and Automatic:</strong> Simply upload your image (PNG or JPG), and our AI will automatically detect and remove the background with precision.</li>
    <li><strong>Perfect for Any Project:</strong> Create clean product images for your e-commerce store, professional headshots for your profile, or stunning graphics for your presentations.</li>
    <li><strong>High-Quality Results:</strong> Get a crisp, clean cutout with a transparent background, ready to be used anywhere.</li>
</ul>
<p>No more tedious manual selection or expensive software. It's professional-grade background removal, and it's free to use.</p>

<h2>A Complete Image-to-Document Workflow</h2>
<p>Our new image tools are designed to work seamlessly with our existing PDF features, creating a complete workflow from image to final document.</p>
<ol class="list-decimal list-inside space-y-2 my-4">
    <li><strong>Edit Your Image:</strong> Start by perfecting your image. Use the <a href="/#/remove-background" class="text-brand-red hover:underline">Remove Background</a> tool to get a clean cutout.</li>
    <li><strong>Convert to PDF:</strong> Once your image is ready, use our trusted <a href="/#/jpg-to-pdf" class="text-brand-red hover:underline">JPG to PDF</a> tool to convert single or multiple images into a high-quality PDF document.</li>
    <li><strong>Organize and Share:</strong> Need to add the new image PDF to an existing report? Use our <a href="/#/merge-pdf" class="text-brand-red hover:underline">Merge PDF</a> tool to combine it with other documents. Your polished, professional document is now ready to be shared.</li>
</ol>
<p>You can even capture images directly from your camera and convert them on the fly with our <a href="/#/scan-to-pdf" class="text-brand-red hover:underline">Scan to PDF</a> tool, making it easier than ever to digitize and manage your visual content.</p>

<h2>What's Next?</h2>
<p>This is just the beginning of our journey into image editing. We're committed to building the most comprehensive and user-friendly toolkit for all your digital needs. We can't wait for you to try out these new features and hear your feedback!</p>
<p>Ready to get started? Explore our new image tools today!</p>`,image:"https://www.ilovepdf.com/storage/blog/55-1623331581-iOS-mobile-app@348w.jpeg",author:"The I Love PDFLY Team",authorImage:"/logo.svg",tags:["Image Editing","New Feature","Productivity","Remove Background","Photo Editor","Design"]},{slug:"the-best-free-graphic-design-software-2025",title:"The best free graphic design software: 32 must-have tools (2025)",date:"January 4, 2024",excerpt:"Explore graphic design tools ranging from color pallets & AI image generators to photo editing software & file management tools.",content:`<p>Looking for the best free graphic design tools? Weve done the research so you dont have to. Check out this list containing some of the best tools for creating professional designs without the professional price tags.</p>
<p>The difficulty levels of the tools varies from motivated amateurs to perfectionist professionals, so you can choose the graphic design software that suits your needs and level.</p>
<p>This post will break down the graphic design software tools into 10 useful categories, from AI image generators to file management tools.</p>
<h2>AI image generators</h2>
<p>Text-to-image generators are a hot topic thats taking off in 2023. Artificial intelligence is changing the way we approach graphic design, and proving to be controversial in its journey.</p>
<p>These powerful tools use machine learning algorithms to create unique and eye-catching graphics in just a few clicks. Whether you're looking to generate patterns, logos, or photo-realistic images - AI image generators are captivating creative tools.</p>
<p>The software might not give you the perfect professional results every time as we are still in the early stages of this AI explosion. Nevertheless, these tools show incredible potential and can be used for content creation or to push your ideas and imagination to the max.</p>
<h3>DALL-E from OpenAI</h3>
<p>DALL-E from OpenAI (the same people who made the headline-smashing ChatGPT) is a clear front-runner in the race for AI image generators. The free AI image tool is great at taking precise inputs to create multiple variations that let you select the best from the bunch.</p>
<p>Its most effective when choosing a style for the images, for example an expressive oil painting, a pencil drawing, or a watercolor painting. This feature makes it possible to create unique, professional-looking images with ease.</p>
<p>The software is being updated and improved on a regular basis, so keep watching these AI image generators as many changes and new features are undoubtedly around the corner.</p>
<img src="https://www.ilovepdf.com/storage/blog/205-1678104291-6.-Dalle.png" alt="DALL-E AI Image Generator" class="my-4 rounded-lg shadow-md" />
<h3>Midjourney</h3>
<p>Midjourney creates high-quality designs compared to many of its competitors, with styles that are futuristic and atmospheric. Considering the early stages of the development, like DALL-E, its incredible how far these tools have come in such a short amount of time with such impressive results.</p>
<p>However, despite its impressive capabilities, the biggest drawback is its usability. The process to create an image is complicated and time-consumingyou have to enter Discord, find a new newbies channel, and then use the /imagine command in a chaotic chat with images flying through the chat.</p>
<p>Aside from the difficult usability, once you have understood the process the results of this AI art generator are remarkable.</p>
<h3>DeepAI</h3>
<p>DeepAI is fun AI image generator that lacks some finishing touches. Its a great tool to get some inspiration on specific ideas, with a simple search bar that is easy to use, and a number of free styles to choose from.</p>
<p>While the results produced by its text-to-image converter may not be as polished and professional as those produced by other AI image generators. DeepAI has a lot of potential, and is a playful tool with a number of free styles to choose from, giving users plenty to experiment with.</p>
<h2>Color palette generators</h2>
<p>This chapter is all about color. We'll explore the best free graphic design software options specifically made to help you create stunning color palettes.</p>
<p>Whether you're a seasoned designer or just starting out, these tools make it easy to experiment with color, select a harmonious scheme, and set the scene for your color scheme. So, let's dive in and discover the best free color palette tools.</p>
<h3>Coolors</h3>
<p>See whats hot with trending color palettes, generate colors, and select colors from photos with this well-designed website that helps you get into the creative mood from the get-go. Coolors is easy to use and palettes are simple to export, with many options for sharing your chosen colors.</p>
<p>Whether you want to find warm color palettes and share them with your team or save them for future projects, this tool has a smooth workflow that makes it easy to work on multiple new projects while organizing the old ones.</p>
<img src="https://www.ilovepdf.com/storage/blog/205-1678103451-1.-Coolors.png" alt="Coolors Color Palette Generator" class="my-4 rounded-lg shadow-md" />
<h3>Color Space</h3>
<p>Color Space is a useful color palette generator to develop your ideas for a design that starts with a single color. Put your desired color in and the site generates a variety of color palettes including gradient and random shades.</p>
<p>Its simple to create basic gradients, and has recently released the option to make 3 Color Gradients, which are extremely easy to edit and play around with.</p>
<p>The drawback is that you are limited in the amount of palettes that you can explore, especially if youre starting from scratch and dont have a color palette already in mind.</p>
<h3>Adobe Capture</h3>
<p>Adobe Capture is a color palette generator that offers ten free tasks before having to register. This is a superb mobile app that takes real-time images and lets you create a color palette from whatever you see around you.</p>
<p>The app is a useful addition that makes it easy to generate a color palette from an image, whether you choose to use a live camera view or select a saved photo. You can also create shapes and patterns as interesting artistic features.</p>
<h2>Image editing tools</h2>
<p>Photo editing is an essential aspect of graphic design. Whether it's adjusting the angle, changing the brightness and contrast, or adding special filters, having the right image editing software makes all the difference to your final results.</p>
<p>In this section, we'll explore some of the best free image editors available to help elevate your design work and give it that professional touch. Image editing tools can be difficult to use, so we've also included some that are more straightforward.</p>
<h3>iLoveIMG Editor</h3>
<p>The iLoveIMG's Photo Editor is by far the easiest of these free photo editing software. It is a simple yet versatile tool with a range of editing options that allow you to draw on images and add more image files. Users can easily crop, resize, add filters, frames, and effects to add a professional finish to designs.</p>
<p>If youre looking for a basic photo editor thats easy and quick to use for some basic editing, then this is the perfect option.</p>
<img src="https://www.ilovepdf.com/storage/blog/205-1678103763-2.1-iLoveIMG-Edit-tool.png" alt="iLoveIMG Photo Editor" class="my-4 rounded-lg shadow-md" />
<h3>Photopea</h3>
<p>Acting as a close alternative to Photoshop, Photopea is an online tool that provides many design features, without the need to download any expensive software.</p>
<p>It's worth pointing out that as an online tool it may run slowly if youre working with heavy editing tasks. Also, if you are used to other editing software then it will take some time to learn its features.</p>
<p>Despite these challenges, Photopea is a fantastic free editing tool for designers who want professional features to bring their creative visions to life.</p>
<img src="https://www.ilovepdf.com/storage/blog/205-1678103850-2.-Photopea.png" alt="Photopea Online Editor" class="my-4 rounded-lg shadow-md" />
<h3>GIMP</h3>
<p>GIMP is a fantastic open-source image editing software that provides powerful image editing tools and offers an impressive variety of file formats, all completely free.</p>
<p>The workspace is slightly cluttered and it can be difficult to navigate all of the features, especially for beginners, but once youve mastered the basics this is an amazing feature-packed photo editor and another free alternative to Photoshop.</p>
<h3>Adobe creative cloud (free trial)</h3>
<p>Adobe graphic design software isnt the easiest if youre just starting out, but it takes the top spot for the most in-depth software for image and video editing.</p>
<p>For professionals, this is the industry standard for quality editing, and within the Creative Cloud you have access to multiple Adobe products, including Photoshop, After Effects, and Premiere Pro just to name a few.</p>
<p>Perfect if you arent needing them long term, there are free trials for many of the tools. While a 7-day free trial is available, the software can be expensive if youre looking for a longer-term editing solution.</p>
<h2>Font generators</h2>
<p>Welcome to the world of font generators. For anyone working or playing around with designs, typography plays a crucial role in making your work stand out with the right style.</p>
<p>Free font generators help you find custom typefaces for your projects without the need for extensive design knowledge and expensive font licenses. Experiment with different styles and letterforms until you find the perfect look for your design.</p>
<h3>Fontspring</h3>
<p>Fontspring offers multiple categories that help you find the right free font download. It is also simple to sort the fonts by Most Favorited to see whats trending, as well as 'Best Of lists to investigate the most popular selection from previous years.</p>
<p>Frustratingly, when browsing the fonts some are listed as containing free versions when in reality they are only available as icons, which is misleading. If you dont mind spending time finding the free ones, this is a valuable resource.</p>
<img src="https://www.ilovepdf.com/storage/blog/205-1678105548-3.-Fontspring.png" alt="Fontspring Font Generator" class="my-4 rounded-lg shadow-md" />
<h3>WhatTheFont/MyFonts</h3>
<p>WhatTheFont (also known as MyFonts) has high-quality downloads that are searchable within useful categories. Are you trying to identify a font youve spotted? MyFonts can also scan an uploaded image to find and identify the font you want to identify.</p>
<p>Frustratingly, free fonts are often hidden among the paid options, requiring you to scroll through the listings to download the font you need. Despite this, MyFonts remains a great tool for anyone looking for a free font generator.</p>
<h3>Google Fonts</h3>
<p>Google Fonts provides an extremely popular free font browser that offers typography in multiple languages and design styles. There is a user-friendly interface that offers fonts that are free for personal and commercial use.</p>
<p>A drawback is that the range of types is not as diverse as other font browsers, with limited options within a chosen fonts style. If you're looking for a more specific font style, you may need to look elsewhere.</p>
<h2>Icon downloads</h2>
<p>Icons play a critical role in creating a professional and polished look for websites, mobile applications, and other digital platforms. In this section, we'll be exploring the best free icon downloads so you can find the perfect designs for your next project.</p>
<p>From modern designs and classic looks to simple social media icon downloads - the ability to browse and use royalty-free icons is key for any digital designer or marketer looking to create a cohesive brand experience.</p>
<p>We've compiled a list of the top free graphic design software that gives you quality icon libraries to complement your designs.</p>
<h3>Flaticon</h3>
<p>Flaticon gives users a robust library of high-quality designs, where you can find PNG, SVG, Android, and iOS versions of the most popular fonts. Selected fonts also have different styles with changing colors and contrast.</p>
<p>Free users are restricted to downloading certain icons as a PNG, and the SVG version of the icon is sometimes only available with the Premium service.</p>
<img src="https://www.ilovepdf.com/storage/blog/205-1678105567-4.-Flaticon.png" alt="Flaticon Icon Downloads" class="my-4 rounded-lg shadow-md" />
<h3>Noun Project</h3>
<p>The Noun Project is a well-designed platform that offers a more creative and inclusive range of free icons to what were used to.</p>
<p>With its user-friendly interface, easily find individual icons or browse through various icon collections to find the perfect fit for your project.</p>
<p>The basic free download option only provides icons in black, but the premium downloads are cost-effective and allow for more customization. If youre looking for basic but creative and inclusive icons, then Noun Project is a great choice.</p>
<h3>Google Icons within Fonts</h3>
<p>Were back to Google Fonts, but this time for downloading free icons. Google Icons offers an extensive library of high-quality icons that are perfect for UI design, allowing for the customization of Fill, Weight, Grade, and Optical Size.</p>
<p>Icons are available in SVG or PNG formats for download, as well as the information on the 'Variable Icon Font' configuration for CSS, making it easy for designers to integrate their icons into their web projects.</p>
<h2>3D & 2D Animation software</h2>
<p>Bring your ideas to life with 3D and 2D Animation software. Whether you're creating a short clip for a commercial, designing characters for a video game, or adding some movement to your graphics - free animation software takes your designs to the next level.</p>
<p>Weve found some of the best animation software that published professionals and aspiring amateurs can all enjoy.</p>
<h3>Blender</h3>
<p>Boasting an intuitive interface, Blender animation software is a widely acclaimed free and open-source tool thats best for intermediate or professional animators.</p>
<p>Its loved for its 3D pipeline editing, including 3D and 2D animation, and has an impressive array of animation features that youd expect to see in the best premium animators.</p>
<p>Despite some occasional lag and slow render times, the software is regularly updated and continues to receive improvements, making it one of the best free animation software options available.</p>
<p>With its versatile tools, Blender is widely used in the creation of animations, models, and artwork, providing a one-stop solution for artists and designers.</p>
<img src="https://www.ilovepdf.com/storage/blog/205-1678105589-5.-Blender.jpeg" alt="Blender Animation Software" class="my-4 rounded-lg shadow-md" />
<h3>Piskel</h3>
<p>Piskel is a perfect option for those just starting out with animation. As a beginners tool, the basic and straightforward interface makes it a breeze to use.</p>
<p>The focus of Piskel is on creating 2D animated pixel art and sprite animations, so it's a great choice for game designers and hobbyists.</p>
<p>This 2D animation software offers a wide range of tools and functions, including customizable color palettes, layers, frame management, and more. That being said, for more professional applications, it's unlikely to have all the features and tools required.</p>
<h3>Animaker</h3>
<p>Animaker is another tool that makes it easy to get started with 3D animation software. It has a lot of template characters and customization options that can build a professional final project, as well as sharing options that let you integrate it with other programs.</p>
<p>Within one free animation tool, you have everything you need to create your content within a single tool by adding music and effects, and even the option to create voiceovers from text.</p>
<p>It has various pricing plans if you find that the limited number of free version downloads arent enough.</p>
<h2>Find inspiration for your designs</h2>
<p>Stuck for inspiration? It isnt easy creating content, and being able to keep your designs fresh and interesting will require finding inspiration for your projects.</p>
<p>When you know where to look, the internet is a creative goldmine thats waiting to be explored. Kick off your next project by browsing the best design inspiration websites.</p>
<p>In this section, we'll outline interesting websites to look for design ideas, including some comments on the more professional sources that are more specifically aimed at graphic designers.</p>
<h3>Behance</h3>
<p>Behance is a leading online platform for graphic designers to showcase their work and connect with the design community. It offers a wealth of inspiration and opportunities for collaboration, with a diverse range of projects and designers to discover, and it has a more professional feel than Pinterest.</p>
<p>With its easy-to-use interface, Behance lets you search by Creative Tools, Colors, and Source Categories so you can narrow your search even further.</p>
<img src="https://www.ilovepdf.com/storage/blog/205-1678105849-7.-Behance-.png" alt="Behance for Design Inspiration" class="my-4 rounded-lg shadow-md" />
<h3>Pinterest</h3>
<p>Pinterest is a straightforward way to research, save, and send new ideas on whatever youre working on. You can build a network of profiles that you enjoy to follow the latest updates from creators that inspire you, or go through current trending topics.</p>
<p>It also allows you to create boards for your own work, making it an excellent portfolio tool, as well as a research tool.</p>
<h3>Dribbble</h3>
<p>Dribbble is a popular platform with a focus on design. Each category shows trending designs and techniques, and like our other examples, it also provides the chance for graphic designers to share their work and get feedback from the design community.</p>
<p>Browse and follow your favorite designers to keep yourself inspired. When selecting a profile you can see their designs neatly organized into Projects and Collections, as well as the liked designs which have inspired them.</p>
<h2>Stock images</h2>
<p>Are you searching for free stock images? Not everyone has access to professional photography equipment, which is why high-quality stock images are so key for creative roles.</p>
<p>Finding copyright-free images can take up a lot of time that would be better spent elsewhere. This section will look at the best free stock images for commercial use that offer landscapes, people shots, graphics, illustrations. and more.</p>
<h3>Pexels</h3>
<p>Pexels has high-quality content that doesnt leave you worrying about copyright issues. You can search for images and videos using different categories, but there are no advanced search features for more technical and specific content, so the results can sometimes be slightly repetitive.</p>
<p>In general, the design of the categories and popular collections could be improved to make browsing the stock photos a little more user-friendly. That being said, its easy to download the content you require without being bombarded with premium restrictions and payment obligations, which is a big plus.</p>
<img src="https://www.ilovepdf.com/storage/blog/205-1678106190-8.-Pexels.png" alt="Pexels Stock Images" class="my-4 rounded-lg shadow-md" />
<h3>Unsplash</h3>
<p>A fantastic resource for royalty-free, high-quality stock photos, Unsplash has a vast collection of over a million images. Easily browsable categories and a simple website can save you time when youre looking for free image downloads.</p>
<p>Depending on your theme and niche, the variety of results can be limited, but for general topics it is worth your time. If you dont have a budget for paid images, then this is a great source for professional content.</p>
<h3>Kaboompics</h3>
<p>From the get-go Kaboompics has a great design that draws you into the site. You can easily select the orientation from the search bar, there is the extremely useful feature of the color palette search also available from the main page, and you can include a custom aspect ratio when downloading.</p>
<p>While the library for Kaboompics isnt as large as some of its competitors, the usability of the site and the quality of the free stock photos are fantastic. Available for commercial or personal use, you can edit, post, and use them as you require.</p>
<h2>File management</h2>
<p>File management is an essential aspect of graphic design, and having the right software can make all the difference in keeping your work organized and accessible.</p>
<p>Every designer knows the struggles of working with large image files and the compatibility issues that arise when using different image types.</p>
<p>Here well be showcasing the best free file management software to keep your workflow streamlined and efficient. These software solutions are packed with features to keep your work organized, accessible, and secure.</p>
<h3>Compress PDF files with iLovePDF</h3>
<p>The Compress PDF tool is a lifesaver when it comes to helping you save, share, or design your portfolio. You can reduce the file size of your PDF files for free with this PDF compressor to make them easier to send, store, and upload.</p>
<p>Are you struggling to share or upload files because of large file sizes? Use the free Compress PDF tool to drastically make your files smaller and more manageable. This is especially useful for design students trying to submit their files for assessment.</p>
<img src="https://www.ilovepdf.com/storage/blog/205-1678110276-9.-iLovePDF-Compress-%281%29.png" alt="I Love PDFLY Compress PDF" class="my-4 rounded-lg shadow-md" />
<h3>iLoveIMG Compress Image tool</h3>
<p>This free image compressor takes your pictures and reduces the file size while keeping as much quality as possible. When youre creating designs, large file sizes lead to web designers struggling with storage, upload issues, and slow loading times for website and online contentthis is a perfect solution.</p>
<p>Quickly and easily reduce the size of your images with a user-friendly tool that can complete your task in under a minute from start to finish. It can also batch convert JPG to PDF along with the other image files it accepts, including PNG, SVG, and GIF.</p>
<h3>iLovePDF JPG to PDF converter</h3>
<p>Transform your JPG files into professional PDF documents with ease and precision, thanks to iLovePDF's free JPG to PDF converter.</p>
<p>Whether you're working with one file or a batch of JPGs, this fast and convenient tool will save you time and ensure your designs are ready for printing, presenting, or sharing in a format famed for its accuracy.</p>
<h3>iLovePDF/IMG Watermark tools</h3>
<p>Protect your valuable designs and ensure they are not used without your permission with the iLoveIMG and iLovePDF Watermark tools. With user-friendly interfaces, adding a custom watermark to your images or PDFs has never been easier.</p>
<p>Overall, its recommended that you use the iLovePDF tool for a wider range of features. The free watermark tools allow you to add a text box with editable fonts, sizes, color, and more.</p>
<p>Whether you're an artist, designer, photographer, or any other creative professional, these tools keep your designs protected.</p>
<h2>Bonus chapter: Simple design tools for content creation</h2>
<p>You dont have to be a design expert to create content for social media that looks professional and creative. This section is focused on graphic design tools for beginners that can be used to create content across various platforms like Instagram, LinkedIn, and TikTok.</p>
<p>A lot of design software now has entire sections for the creation of this content, with sizes, templates, and pre-made features meaning you can create without being a Photoshop and video-editing expert.</p>
<h3>Canva</h3>
<p>Canva is an outstanding way to edit high-quality templates or create your designs completely from scratch. It is extremely easy to use, and boasts a huge variety collection of templates, images, and graphics that simplify the design process and save you time, with intuitive editing features that take no time at all to get your head around.</p>
<p>It offers a seamless and accessible design experience, enabling designers of all levels to effortlessly craft visually appealing graphics and visual content.</p>
<p>It has a section designed specifically for social media that enable you to work with the correct aspect ratio relative to the platform you want to post on.</p>
<img src="https://www.ilovepdf.com/storage/blog/205-1678110794-10.-Canva.png" alt="Canva Design Tool" class="my-4 rounded-lg shadow-md" />
<h3>Capcut</h3>
<p>Another user-friendly tool, Capcut is designed especially for creating professional videos for your social media content. It provides the tools to craft captivating and professional-looking videos that will grab the attention of your audience with very little previous experience.</p>
<p>The web version may experience some issues with lag, so downloading the app and creating videos directly from your mobile device is a good idea if you come across this problem.</p>`,image:"https://www.ilovepdf.com/storage/blog/205-1678104167-Graphic-Design-Software.jpg",author:"The I Love PDFLY Team",authorImage:"/logo.svg",tags:["Graphic Design","Software","Free Tools","AI","Productivity","Design"]},{slug:"how-to-convert-html-to-pdf",title:"How to convert HTML websites into PDF files",date:"August 3, 2025",excerpt:"Have you tried to download a webpage before, only to be left with a faulty file that's cut the most important graph in half? Use this online tool to accurately convert web pages into PDF documents.",content:`<h2>The Problem with Saving Webpages</h2>
<p>Have you ever tried to save an important webpage for offline uselike an online receipt, a travel itinerary, or a fascinating articleonly to end up with a mess? Using the browser's "Save As" feature can result in broken layouts and missing images. Taking screenshots often means stitching together multiple images and losing the ability to select text. The "Print to PDF" function can be even worse, awkwardly cutting off content and ruining the formatting of tables and graphs.</p>

<h2>The Perfect Solution: HTML to PDF Conversion</h2>
<p>Our <a href="/#/html-to-pdf" class="text-brand-red hover:underline">HTML to PDF converter</a> is designed to solve this problem perfectly. It accurately captures the entire content of a live webpageincluding all text, images, and layout elementsand preserves it in a single, high-quality PDF document. This method is incredibly useful for:</p>
<ul class="list-disc list-inside space-y-2 my-4">
    <li><strong>Archiving Articles:</strong> Save news articles or blog posts for offline reading or research.</li>
    <li><strong>Saving Online Receipts:</strong> Keep a clean, readable record of your online purchases.</li>
    <li><strong>Creating Offline Reading Material:</strong> Compile tutorials, guides, and documentation into a portable format.</li>
    <li><strong>Sharing Web Content:</strong> Share a static, unchangeable version of a webpage with colleagues or clients.</li>
</ul>

<h2>How to Convert a Webpage to PDF</h2>
<p>The process is incredibly simple and takes just a few seconds. Follow these steps:</p>
<ol class="list-decimal list-inside space-y-2 my-4">
    <li><strong>Find the webpage:</strong> Open the webpage you want to convert in your browser and copy its URL from the address bar.</li>
    <li><strong>Go to our tool:</strong> Navigate to the <a href="/#/html-to-pdf" class="text-brand-red hover:underline">HTML to PDF tool</a>.</li>
    <li><strong>Paste the URL:</strong> Paste the copied URL into the input field provided.</li>
    <li><strong>Click 'Convert to PDF':</strong> Our tool will instantly fetch the webpage, render it, and convert it into a perfectly formatted PDF.</li>
    <li><strong>Download your file:</strong> Your new PDF will be ready for download immediately.</li>
</ol>
<p>Say goodbye to awkward screenshots and incomplete printouts. With our HTML to PDF converter, you can reliably save any webpage as a clean, professional, and portable document.</p>`,image:"https://images.minitool.com/minitool.com/images/uploads/2021/04/html-to-pdf-thumbnail.png",author:"The I Love PDFLY Team",authorImage:"/logo.svg",tags:["HTML to PDF","Convert to PDF","Webpage to PDF","How To","Archive","Productivity"]},{slug:"how-to-add-password-to-pdf",title:"How to add a password to a PDF",date:"August 2, 2025",excerpt:'Find out how to keep your sensitive data secure by adding a password to your PDF document. In an age where data privacy is paramount, protecting your documents is more important than ever. Our "Protect PDF" tool offers a simple yet robust solution to encrypt your files.',content:`<h2>Why Add a Password to Your PDF?</h2>
<p>In an age where data privacy is paramount, protecting your documents is more important than ever. Whether you're sharing confidential business reports, sending personal identification, or archiving sensitive financial records, adding a password provides a critical layer of security. It ensures that only authorized individuals with the correct password can open and view the contents of your PDF file.</p>
<p>Password protection uses encryption to scramble the data within the PDF, making it unreadable without the key (your password). This is the most effective way to prevent unauthorized access and maintain confidentiality.</p>

<h2>How to Password Protect a PDF Online for Free</h2>
<p>Our <a href="/#/protect-pdf" class="text-brand-red hover:underline">Protect PDF tool</a> offers a simple, fast, and secure way to encrypt your files. Follow these easy steps:</p>
<ol class="list-decimal list-inside space-y-2 my-4">
    <li><strong>Go to the Protect PDF tool:</strong> Navigate to the tool page to get started.</li>
    <li><strong>Upload your PDF file:</strong> Select the PDF document you want to secure from your device, Google Drive, or Dropbox.</li>
    <li><strong>Set a strong password:</strong> In the options panel on the right, type your desired password. You will be asked to type it a second time to confirm and avoid typos. Choose a password that is strong and not easily guessable.</li>
    <li><strong>Click 'Protect PDF':</strong> Once you've set your password, click the button to start the encryption process.</li>
    <li><strong>Download your secure file:</strong> Your PDF is now password-protected. Click the download button to save it. Anyone who tries to open this file will now be prompted to enter the password you set.</li>
</ol>

<h2>Your Security is Our Priority</h2>
<p>We understand the importance of the documents you process with us. The entire password protection process is handled securely. Your files are uploaded over an encrypted connection, and they are automatically and permanently deleted from our servers within a few hours. This guarantees that your privacy is always respected.</p>
<p>Using our "Protect PDF" tool is the perfect way to share documents with peace of mind, knowing that your sensitive information is safe.</p>`,image:"https://www.ilovepdf.com/storage/blog/54-1623250400-Secure-remote-working@348w.jpeg",author:"The I Love PDFLY Team",authorImage:"/logo.svg",tags:["Protect PDF","Password","Security","Encryption","How To","Data Privacy"]},{slug:"are-digital-signatures-legally-binding",title:"Are digital signatures legally binding?",date:"August 1, 2025",excerpt:"Digital signatures are a top choice for cross-border business transactions. But are they legally binding? The short answer is yes, in many parts of the world. This guide explains the legal frameworks, the technology behind them, and how our Sign PDF tool can help.",content:`<h2>The Short Answer: Yes, They Are.</h2>
<p>In an increasingly digital world, signing documents electronically has become the norm. But a common question remains: are digital signatures actually legally binding? The short answer is yes, in most countries around the world, digital signatures carry the same legal weight as a traditional handwritten signature. Laws like the <strong>ESIGN Act</strong> in the United States and the <strong>eIDAS Regulation</strong> in the European Union have established solid legal frameworks that validate their use in commerce and legal proceedings.</p>

<h2>Understanding the Difference: Electronic vs. Digital Signatures</h2>
<p>While often used interchangeably, there's a key distinction between a standard "electronic signature" and a more secure "digital signature."</p>
<ul class="list-disc list-inside space-y-2 my-4">
    <li>An <strong>electronic signature</strong> can be as simple as a typed name at the end of an email or an image of a handwritten signature. It indicates intent to sign but has limited security.</li>
    <li>A <strong>digital signature</strong> is a highly secure type of electronic signature. It uses cryptographic technology to embed a unique, verifiable 'fingerprint' into the document. This makes it far more secure and legally robust.</li>
</ul>

<h2>The Three Pillars of a Secure Digital Signature</h2>
<p>A true digital signature provides three critical guarantees that make it legally sound:</p>
<ol class="list-decimal list-inside space-y-2 my-4">
    <li><strong>Authentication:</strong> It cryptographically verifies that the person signing is who they claim to be, preventing forgery.</li>
    <li><strong>Integrity:</strong> It creates a tamper-evident seal. If the document is altered in any way after being signed, the signature becomes invalid.</li>
    <li><strong>Non-repudiation:</strong> The cryptographic link between the signature and the document means the signer cannot later deny their involvement in the signing process.</li>
</ol>

<h2>How I Love PDFLY Helps</h2>
<p>Our <a href="/#/sign-pdf" class="text-brand-red hover:underline">Sign PDF tool</a> is designed to create secure and verifiable digital signatures. It provides a complete audit trail, including timestamps and IP addresses, which strengthens the legal standing of your signed documents. Whether you're signing a simple agreement or a critical business contract, our tool provides the security and validity you need.</p>

<h2>Final Recommendation</h2>
<p>While digital signatures are widely accepted, regulations can vary by jurisdiction and the nature of the document. For highly sensitive or regulated transactions, it's always a good practice to consult with a legal professional to ensure full compliance with local laws. For the vast majority of business and personal needs, a secure digital signature provides a reliable and legally binding solution.</p>`,image:"https://www.ilovepdf.com/storage/blog/43-1623746170-Digital-Signature@348w.jpeg",author:"The I Love PDFLY Team",authorImage:"/logo.svg",tags:["Digital Signature","eSign","Legally Binding","Security","Sign PDF","How To"]},{slug:"smart-ocr-tips-get-most-out-of-scanned-documents",title:"Smart OCR tips: how to get the most out of your scanned documents",date:"July 31, 2025",excerpt:"Boost your OCR results with smart scanning techniques. Learn how resolution, contrast, and language support affect text recognition accuracy. Optical Character Recognition (OCR) is a powerful technology, but its accuracy depends on the quality of the source image. This guide provides tips on how to scan your documents to achieve the best possible OCR results, ensuring your text is searchable and selectable with high fidelity.",content:`<h2>Why Scan Quality is Everything for OCR</h2>
<p>Optical Character Recognition (OCR) is a fantastic technology that transforms flat, non-interactive images of text (like a scanned document) into fully searchable, selectable, and editable text. It's the magic behind making your paper archives digital. However, the accuracy of OCR is highly dependent on one thing: the quality of the source scan. A blurry, skewed, or low-resolution scan will result in jumbled text and poor recognition. To get the most out of our <a href="/#/ocr-pdf" class="text-brand-red hover:underline">OCR PDF tool</a>, follow these smart scanning tips.</p>

<h2>1. Aim for the Right Resolution (DPI)</h2>
<p>DPI, or Dots Per Inch, is a measure of a scanner's resolution. For OCR, the sweet spot is generally <strong>300 DPI</strong>. Heres why:</p>
<ul class="list-disc list-inside space-y-2 my-4">
    <li><strong>Too Low (e.g., 150 DPI):</strong> The characters might be too pixelated for the OCR engine to recognize them accurately, leading to errors.</li>
    <li><strong>Just Right (300 DPI):</strong> This provides enough detail for clear character recognition without creating an unnecessarily large file. It's the industry standard for archiving documents.</li>
    <li><strong>Too High (e.g., 600+ DPI):</strong> While it provides more detail, it often doesn't significantly improve OCR accuracy for standard text and results in a much larger file size, which takes longer to process.</li>
</ul>

<h2>2. Optimize Contrast and Brightness</h2>
<p>Clarity is key. The OCR engine works best when there is a sharp contrast between the text and the background. The ideal document is crisp black text on a clean white background.</p>
<ul class="list-disc list-inside space-y-2 my-4">
    <li><strong>Adjust Scanner Settings:</strong> Before scanning, use your scanner's preview function to adjust brightness and contrast. Increase the contrast to make the text darker and the background whiter.</li>
    <li><strong>Avoid Shadows and Stains:</strong> Ensure your document is flat on the scanner bed to avoid shadows. Stains, wrinkles, or highlighter marks can interfere with recognition, so use the cleanest copy of the document you can find.</li>
</ul>

<h2>3. Keep it Straight (Deskewing)</h2>
<p>A document that was scanned at an angle (skewed) can be difficult for an OCR engine to read. The lines of text should be perfectly horizontal.</p>
<ul class="list-disc list-inside space-y-2 my-4">
    <li><strong>Align Carefully:</strong> Take an extra second to make sure your paper is aligned perfectly with the guides on your scanner.</li>
    <li><strong>Use Auto-Straighten Features:</strong> Most modern scanners and our OCR tool have a "deskew" or "auto-straighten" feature. Make sure it's enabled to automatically correct slight misalignments.</li>
</ul>

<h2>4. Choose the Right Color Mode</h2>
<p>Your scanner will likely offer three modes: Color, Grayscale, and Black & White (Monochrome).</p>
<ul class="list-disc list-inside space-y-2 my-4">
    <li><strong>Black & White (Monochrome):</strong> This is the best option for simple, high-contrast text documents. It produces the smallest file size and the sharpest distinction between text and background.</li>
    <li><strong>Grayscale:</strong> Use this if your document has light-colored text or images with shades of gray that are important.</li>
    <li><strong>Color:</strong> Only use this mode if the color of the text or images is essential to the document's meaning. It produces the largest file size and can sometimes reduce contrast for standard black text.</li>
</ul>

<h2>5. Select the Correct Language</h2>
<p>An OCR engine uses a dictionary and character set specific to a language to achieve the best results. If you're scanning a document in French, telling the OCR tool that the language is French will allow it to recognize characters like '', '', and '' correctly.</p>
<p>Our <a href="/#/ocr-pdf" class="text-brand-red hover:underline">OCR PDF tool</a> supports multiple languages. Always make sure you select the correct language from the options before starting the process to maximize accuracy.</p>

<h2>Conclusion: A Great Scan Means a Great Result</h2>
<p>By taking a few extra moments to prepare your documents and configure your scanner settings, you can dramatically improve the quality of your OCR results. A clean, high-contrast, 300 DPI scan will transform your paper documents into accurate, searchable, and highly usable digital files. Happy scanning!</p>`,image:"https://www.ilovepdf.com/storage/blog/49-1623244532-how-to-scan-and-convert-text@348w.jpeg",author:"The I Love PDFLY Team",authorImage:"/logo.svg",tags:["OCR","Scanning","Productivity","How To","Tips","Document Management"]},{slug:"how-to-edit-pdf-text-online",title:"How to edit text directly in your PDF files online",date:"July 30, 2025",excerpt:"Need to fix a typo or update a date in a PDF? Our advanced PDF editor makes it possible. This post walks you through the process, showing you how to select and edit text just like you would in a word processor, saving you the hassle of converting the file back and forth.",content:`<h2>The Challenge of Editing PDF Text</h2>
<p>PDFs are designed for reliability and consistency across platforms, which is great for sharing, but historically made them difficult to edit. Changing even a simple word often required converting the PDF to an editable format like Word, making the changes, and then converting it back to PDFa process that can mess up formatting.</p>

<h2>Introducing the I Love PDFLY Editor: Edit Text Directly</h2>
<p>Our powerful PDF Editor tool changes the game. It allows you to edit text directly within your PDF file, just as you would in a word processor. Here's how it works and what makes it so effective:</p>
<ul class="list-disc list-inside space-y-2 my-4">
    <li><strong>Automatic Font Detection:</strong> When you select text to edit, our tool automatically detects the original font, size, and color, ensuring that your changes blend in seamlessly.</li>
    <li><strong>Full Formatting Control:</strong> Want to change the style? You have full control to customize the font, size, color, and apply bold or italic formatting to your new text.</li>
    <li><strong>Simple and Intuitive:</strong> No complex menus or tools to learn. Just upload your PDF, click on the text you want to change, and start typing.</li>
</ul>

<h2>How to Edit Text in a PDF Online for Free</h2>
<p>Follow these simple steps to edit the text in your PDF document in just a few clicks:</p>
<ol class="list-decimal list-inside space-y-2 my-4">
    <li>Go to the <a href="/#/edit-pdf" class="text-brand-red hover:underline">Edit PDF tool</a>.</li>
    <li>Upload your PDF file from your device, Google Drive, or Dropbox.</li>
    <li>Once the file is loaded in the editor, select the <strong>'Edit text'</strong> option from the toolbar.</li>
    <li>Click on the text you want to modify. A bounding box will appear around the text block.</li>
    <li>Start typing to replace the existing text. Use the formatting toolbar that appears to adjust the font, size, color, and style as needed.</li>
    <li>After making all your changes, click the 'Save' button.</li>
    <li>Download your edited PDF file.</li>
</ol>
<p>That's it! You've successfully edited your PDF without losing quality or wasting time on conversions. Whether you need to correct a small typo, update an address, or revise a paragraph, the I Love PDFLY Editor is the fastest and easiest way to get it done online.</p>`,image:"https://www.ilovepdf.com/storage/blog/41-1623230784-Add-text-to-PDF@348w.png",author:"The I Love PDFLY Team",authorImage:"/logo.svg",tags:["Edit PDF","PDF Editor","Text Editing","How To","Productivity","Online Tools"]},{slug:"ilovepdfly-web-vs-desktop-vs-mobile-which-is-for-you",title:"I Love PDFLY Web vs. Desktop vs. Mobile: Which One Is for You?",date:"July 29, 2025",excerpt:"Confused about which I Love PDFLY version to use? This guide breaks down the key differences between our Web, Desktop, and Mobile platforms. Discover which tool is best for your specific needs, whether you prioritize online convenience, offline power, or on-the-go document management.",content:`Choosing the right tool for the job is key to maximizing productivity. At I Love PDFLY, we offer three powerful platforms designed to fit different workflows: Web, Desktop, and Mobile. Each has its unique strengths, and understanding them will help you manage your documents more effectively than ever before. Let's break down the differences.

<h2>I Love PDFLY Web: Instant Access, Anywhere</h2>
<p>The Web version is the heart of our service. It's the ultimate tool for convenience and accessibility.</p>
<ul class="list-disc list-inside space-y-2 my-4">
    <li><strong>No Installation Needed:</strong> Access our full suite of tools directly from any web browser (Chrome, Firefox, Safari, etc.) on any operating system (Windows, Mac, Linux).</li>
    <li><strong>Client-Side Processing:</strong> For most tools, your files are processed directly in your browser, ensuring maximum privacy and speed as nothing needs to be uploaded.</li>
    <li><strong>Always Up-to-Date:</strong> You are always using the latest version with the newest features and security enhancements, no updates required.</li>
    <li><strong>Best For:</strong> Quick, one-off tasks, users who work on multiple devices, and those who prioritize privacy and don't want to install software.</li>
</ul>

<h2>I Love PDFLY Desktop: Power and Offline Performance</h2>
<p>For professionals and power users who handle large volumes of documents, the Desktop app is a game-changer.</p>
<ul class="list-disc list-inside space-y-2 my-4">
    <li><strong>Work Completely Offline:</strong> Process your documents without an internet connection. Your files never leave your computer, offering an unparalleled level of security.</li>
    <li><strong>Enhanced Performance:</strong> The Desktop app is optimized to use your computer's full processing power, making it ideal for large files and heavy-duty tasks like batch processing.</li>
    <li><strong>No File Size Limits:</strong> Handle massive PDF files without worrying about browser or internet limitations.</li>
    <li><strong>Best For:</strong> Professionals who need to process sensitive or large documents, users with unstable internet connections, and anyone who wants the fastest possible performance.</li>
</ul>

<h2>I Love PDFLY Mobile: Your On-the-Go PDF Toolkit</h2>
<p>Turn your smartphone into a powerful document management tool with the I Love PDFLY Mobile app.</p>
<ul class="list-disc list-inside space-y-2 my-4">
    <li><strong>PDF Scanner:</strong> Use your phone's camera to scan physical documents and save them as high-quality PDFs.</li>
    <li><strong>Edit and Annotate:</strong> Add text, highlight, draw, and comment on your PDFs directly from your phone or tablet.</li>
    <li><strong>Sign on the Go:</strong> Sign documents with your finger or a stylus, or request signatures from others, no matter where you are.</li>
    <li><strong>Cloud Integration:</strong> Easily import files from and save them to Google Drive and Dropbox for a seamless workflow between your devices.</li>
    <li><strong>Best For:</strong> Students, remote workers, and anyone who needs to manage documents while away from their desk.</li>
</ul>

<h2>Which One Should You Choose?</h2>
<p>The best version of I Love PDFLY depends on your needs:</p>
<ul class="list-disc list-inside space-y-2 my-4">
    <li>For <strong>ultimate convenience and accessibility</strong>, use the <strong>Web</strong> version.</li>
    <li>For <strong>maximum power, security, and offline work</strong>, download the <strong>Desktop</strong> app.</li>
    <li>For <strong>managing documents on the move</strong>, the <strong>Mobile</strong> app is your perfect companion.</li>
</ul>
<p>Many of our users find that a combination of the platforms works best, using each for what it does best. The choice is yours, and no matter which you pick, you'll be equipped with the best tools to handle any PDF task.</p>`,image:"https://www.ilovepdf.com/storage/blog/34-1623144469-Organize-PDF@348w.jpg",author:"The I Love PDFLY Team",authorImage:"/logo.svg",tags:["Web App","Desktop App","Mobile App","Productivity","PDF Tools","Comparison","Offline PDF","On-the-go"]},{slug:"introducing-ilovepdfly-chatgpt-custom-pdf-gpt",title:"Introducing I Love PDFLY + ChatGPT: The Custom PDF GPT",date:"July 28, 2025",excerpt:"Meet your new PDF assistant! I Love PDFLY integrates with ChatGPT, allowing you to summarize, translate, and ask questions about your documents using natural language. Upload any PDF and interact with it like never before, saving time and working smarter.",content:`Use ChatGPT as your PDF assistant with I Love PDFLYno software needed. Just upload, describe, and go.

We are excited to announce an innovative integration that combines the power of our PDF tools with the intelligence of ChatGPT. Now you can summarize, translate, or ask questions about your PDF content using natural language. This feature is set to revolutionize how you interact with your documents.

Imagine you have a dense, 50-page research paper. Instead of spending hours reading it, you can simply upload it to our AI Assistant, and ask, "What are the key findings of this study?". Our tool will analyze the document and provide a concise summary in seconds.

This isn't just about saving time; it's about making information more accessible and allowing you to work smarter, not harder.

The integration is seamless. There are no complex settings or configurations. It's designed to be as intuitive as having a conversation. Whether you're a student preparing for an exam, a professional analyzing a report, or just someone curious about a document's contents, our AI Assistant is here to help.

We believe this is the future of document management, and we're thrilled to be at the forefront of this technology.`,image:"https://www.ilovepdf.com/storage/blog/310-1744202844-iLovePDF%27s-OpenAI-PDF-GPT.png",author:"The I Love PDFLY Team",authorImage:"/logo.svg",tags:["ChatGPT","AI Assistant","PDF GPT","Summarize PDF","Translate PDF","Productivity","New Feature"]},{slug:"see-result-2081-2082",title:"How to Check SEE Result 2081/2082?",date:"July 25, 2025",excerpt:"Eagerly awaiting your SEE (Secondary Education Examination) result for 2081/2082? You're in the right place! This comprehensive guide provides everything you need to check your NEB SEE result quickly, easily, and securely. We've compiled all the official websites, SMS services, and the complete grading system to help you and your guardians navigate the result-checking process without any stress.",content:`Eagerly awaiting your SEE (Secondary Education Examination) result for 2081/2082? You're in the right place! This comprehensive guide provides everything you need to check your NEB SEE result quickly, easily, and securely. We've compiled all the official websites, SMS services, and the complete grading system to help you and your guardians navigate the result-checking process without any stress. The National Examination Board (NEB) will be publishing the results soon, and this guide is your one-stop resource to get your score the moment it's live.

<a href="https://see.ntc.net.np/" target="_blank" rel="noopener noreferrer" class="inline-block bg-brand-red hover:bg-brand-red-dark text-white font-bold py-3 px-8 rounded-lg my-6 no-underline text-lg">Check SEE Result Now</a>

<h2>How to Check Your SEE Result 2081/2082</h2>
<p>There are multiple ways to check your result. Below are the most reliable methods provided by the NEB and other trusted organizations.</p>

<h3>1. Check SEE Result via Official Websites</h3>
<p>The fastest way to view your results online is through the official portals. Simply click on a link from the table below, and have your Symbol Number and Date of Birth ready.</p>

<div class="my-6 rounded-lg shadow-md overflow-hidden border border-gray-200 dark:border-gray-700">
  <table class="min-w-full border-collapse">
    <thead class="bg-gray-50 dark:bg-gray-800">
      <tr>
        <th scope="col" class="px-6 py-4 text-left text-sm font-semibold text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-700">Name of the Organization</th>
        <th scope="col" class="px-6 py-4 text-left text-sm font-semibold text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-700">Website</th>
      </tr>
    </thead>
    <tbody class="bg-white dark:bg-gray-900">
        <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">Edusanjal</td><td class="px-6 py-4 text-sm border border-gray-300 dark:border-gray-700"><a href="http://see.edusanjal.com" target="_blank" rel="noopener noreferrer" class="text-brand-red hover:underline">see.edusanjal.com</a></td></tr>
        <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">National Examination Board (NEB), Grade 10</td><td class="px-6 py-4 text-sm border border-gray-300 dark:border-gray-700"><a href="http://www.see.gov.np" target="_blank" rel="noopener noreferrer" class="text-brand-red hover:underline">www.see.gov.np</a></td></tr>
        <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">National Examination Board (NEB), Sanothimi</td><td class="px-6 py-4 text-sm border border-gray-300 dark:border-gray-700"><a href="http://www.neb.gov.np" target="_blank" rel="noopener noreferrer" class="text-brand-red hover:underline">www.neb.gov.np</a></td></tr>
        <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">Nepal Telecom</td><td class="px-6 py-4 text-sm border border-gray-300 dark:border-gray-700"><a href="http://www.see.ntc.net.np" target="_blank" rel="noopener noreferrer" class="text-brand-red hover:underline">www.see.ntc.net.np</a></td></tr>
        <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">Ekantipur</td><td class="px-6 py-4 text-sm border border-gray-300 dark:border-gray-700"><a href="http://results.ekantipur.com" target="_blank" rel="noopener noreferrer" class="text-brand-red hover:underline">results.ekantipur.com</a></td></tr>
        <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">The Connect Plus</td><td class="px-6 py-4 text-sm border border-gray-300 dark:border-gray-700"><a href="https://theconnectplus.com" target="_blank" rel="noopener noreferrer" class="text-brand-red hover:underline">https://theconnectplus.com</a></td></tr>
        <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">E-Sewa</td><td class="px-6 py-4 text-sm border border-gray-300 dark:border-gray-700"><a href="http://see.esewa.com.np" target="_blank" rel="noopener noreferrer" class="text-brand-red hover:underline">see.esewa.com.np</a></td></tr>
        <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">Khalti</td><td class="px-6 py-4 text-sm border border-gray-300 dark:border-gray-700"><a href="https://khalti.com/app" target="_blank" rel="noopener noreferrer" class="text-brand-red hover:underline">https://khalti.com/app</a></td></tr>
        <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">College Info Nepal</td><td class="px-6 py-4 text-sm border border-gray-300 dark:border-gray-700"><a href="http://collegeinfonepal.com/see" target="_blank" rel="noopener noreferrer" class="text-brand-red hover:underline">collegeinfonepal.com/see</a></td></tr>
    </tbody>
  </table>
</div>

<h3>2. Check SEE Result via SMS</h3>
<p>For students without easy internet access, the SMS service is a reliable alternative. Follow these simple steps:</p>
<ol class="list-decimal list-inside space-y-2 my-4">
    <li>Open the messaging app on your phone.</li>
    <li>Compose a new message and type: <strong>SEE &lt;space&gt; Your_Symbol_Number</strong></li>
    <li>Send this message to <strong>1600</strong>.</li>
    <li>Example: If your symbol number is 1234567A, type <strong>SEE 1234567A</strong>.</li>
    <li>You will receive your result with GPA via SMS shortly.</li>
</ol>

<h3>3. Check SEE Result via IVR Service</h3>
<p>You can also listen to your result through the Interactive Voice Response (IVR) system from any Nepal Telecom phone.</p>
<ol class="list-decimal list-inside space-y-2 my-4">
    <li>Dial <strong>1601</strong> from your NTC mobile or landline.</li>
    <li>Follow the instructions provided by the automated system.</li>
    <li>Enter your symbol number when prompted to hear your result.</li>
</ol>

<h2>Understanding the SEE Grading System</h2>
<p>The SEE result is published using a letter grading system. It's important to understand what each grade means:</p>
<div class="overflow-x-auto my-4 rounded-lg border border-gray-200 dark:border-gray-700">
  <table class="min-w-full bg-white dark:bg-black">
    <thead class="bg-gray-100 dark:bg-gray-800">
      <tr>
        <th class="px-4 py-3 text-left font-semibold text-gray-700 dark:text-gray-200">Percentage Range</th>
        <th class="px-4 py-3 text-left font-semibold text-gray-700 dark:text-gray-200">Grade</th>
        <th class="px-4 py-3 text-left font-semibold text-gray-700 dark:text-gray-200">Grade Point</th>
        <th class="px-4 py-3 text-left font-semibold text-gray-700 dark:text-gray-200">Description</th>
      </tr>
    </thead>
    <tbody class="divide-y divide-gray-200 dark:divide-gray-700">
      <tr><td class="px-4 py-2">90 - 100</td><td class="px-4 py-2 font-bold">A+</td><td class="px-4 py-2">4.0</td><td class="px-4 py-2">Outstanding</td></tr>
      <tr><td class="px-4 py-2">80 - 89</td><td class="px-4 py-2 font-bold">A</td><td class="px-4 py-2">3.6</td><td class="px-4 py-2">Excellent</td></tr>
      <tr><td class="px-4 py-2">70 - 79</td><td class="px-4 py-2 font-bold">B+</td><td class="px-4 py-2">3.2</td><td class="px-4 py-2">Very Good</td></tr>
      <tr><td class="px-4 py-2">60 - 69</td><td class="px-4 py-2 font-bold">B</td><td class="px-4 py-2">2.8</td><td class="px-4 py-2">Good</td></tr>
      <tr><td class="px-4 py-2">50 - 59</td><td class="px-4 py-2 font-bold">C+</td><td class="px-4 py-2">2.4</td><td class="px-4 py-2">Satisfactory</td></tr>
      <tr><td class="px-4 py-2">40 - 49</td><td class="px-4 py-2 font-bold">C</td><td class="px-4 py-2">2.0</td><td class="px-4 py-2">Acceptable</td></tr>
      <tr><td class="px-4 py-2">35 - 39</td><td class="px-4 py-2 font-bold">D</td><td class="px-4 py-2">1.6</td><td class="px-4 py-2">Basic</td></tr>
      <tr><td class="px-4 py-2" colspan="4">Below 35% in theory subjects is considered 'Non-Graded (NG)'.</td></tr>
    </tbody>
  </table>
</div>

<p>We wish all SEE students the very best of luck with their results!</p>`,image:"https://ik.imagekit.io/fonepay/result%20copy.jpg?updatedAt=1753159229021",author:"The I Love PDFLY Team",authorImage:"/logo.svg",tags:["SEE Result","Class 10","Education","Nepal","Result 2082"]}],nS=({className:n})=>d.jsx("svg",{className:n,stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})}),rS=({className:n})=>d.jsx("svg",{className:n,stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),iS=({onOpenProfileImageModal:n,onOpenSearchModal:e,onOpenChangePasswordModal:t})=>{const[r,i]=I.useState(!1),[s,o]=I.useState(!1),[a,c]=I.useState(!1),[u,p]=I.useState(!1),[m,g]=I.useState(!1),[b,A]=I.useState(!1),S=I.useRef(null),P=I.useRef(null),M=I.useRef(null),F=I.useRef(null),V=I.useRef(null),{theme:H,toggleTheme:J}=vg(),{user:Y,logout:w,auth:v}=Zo(),_=vl(),T=v.currentUser?.providerData.some(q=>q.providerId==="password");I.useEffect(()=>{const q=()=>{const ae=sessionStorage.getItem("isAdminAuthenticated")==="true";A(ae)};return q(),window.addEventListener("storage",q),()=>{window.removeEventListener("storage",q)}},[]),I.useEffect(()=>{const q=ae=>{S.current&&!S.current.contains(ae.target)&&i(!1),P.current&&!P.current.contains(ae.target)&&o(!1)};return document.addEventListener("mousedown",q),()=>{document.removeEventListener("mousedown",q)}},[]),I.useEffect(()=>(document.body.style.overflow=a?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[a]);const E=()=>{i(!1),o(!1),c(!1),p(!1),g(!1)},k=(q,ae)=>{ae.current&&(clearTimeout(ae.current),ae.current=null),q(!0)},x=(q,ae)=>{ae.current=window.setTimeout(()=>{q(!1)},200)},fe={organize:{title:"Organize PDF",order:1},optimize:{title:"Optimize PDF",order:2},"convert-to":{title:"Convert to PDF",order:3},"convert-from":{title:"Convert from PDF",order:4},edit:{title:"Edit PDF",order:5},security:{title:"PDF Security",order:6},business:{title:"Business Tools",order:7}},Be=Qs.reduce((q,ae)=>{const Ce=ae.category||"organize";return q[Ce]||(q[Ce]={...fe[Ce],tools:[]}),q[Ce].tools.push(ae),q},{}),ps=Object.entries(Be).map(([q,ae])=>({...ae,key:q})).sort((q,ae)=>q.order-ae.order),Mt=Qs.filter(q=>q.category==="convert-to"),Vt=Qs.filter(q=>q.category==="convert-from"),Ge=[{to:"/about",label:"About",icon:Ar},{to:"/blog",label:"Blog",icon:Th},{to:"/developer",label:"Developer",icon:X4},{to:"/api-reference",label:"API Reference",icon:Ow}],si=[{to:"/merge-pdf",label:"MERGE PDF"},{to:"/split-pdf",label:"SPLIT PDF"},{to:"/compress-pdf",label:"COMPRESS PDF"}],oi=[{to:"/pricing",label:"Pricing",icon:J4},{to:"/education",label:"Education",icon:Q4},{to:"/business",label:"Business",icon:W4},{to:"/press",label:"Press",icon:q4},{to:"/privacy-policy",label:"Privacy Policy",icon:$4},{to:"/terms-of-service",label:"Terms of Service",icon:K4}],ct=I.useMemo(()=>new Map(Qs.map(q=>[q.id,q])),[]),Fe=I.useMemo(()=>[{title:"ORGANIZE PDF",tools:["merge-pdf","split-pdf","organize-pdf","scan-to-pdf"]},{title:"OPTIMIZE PDF",tools:["compress-pdf","repair-pdf","ocr-pdf"]},{title:"CONVERT TO PDF",tools:["jpg-to-pdf","word-to-pdf","powerpoint-to-pdf","excel-to-pdf","html-to-pdf"]},{title:"CONVERT FROM PDF",tools:["pdf-to-jpg","pdf-to-word","pdf-to-powerpoint","pdf-to-excel","pdf-to-pdfa"]},{title:"EDIT PDF",tools:["rotate-pdf","page-numbers","watermark-pdf","edit-pdf"]},{title:"PDF SECURITY",tools:["unlock-pdf","protect-pdf","sign-pdf","redact-pdf","compare-pdf"]}],[]);return d.jsxs(d.Fragment,{children:[d.jsx("header",{className:"bg-white dark:bg-black border-b border-gray-200 dark:border-gray-800 sticky top-0 z-50",children:d.jsx("div",{className:"px-4 sm:px-6 py-3",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"md:hidden",children:d.jsx("button",{onClick:()=>c(!0),className:"text-gray-600 dark:text-gray-300 hover:text-brand-red dark:hover:text-brand-red transition-colors","aria-label":"Open main menu",title:"Open main menu",children:d.jsx(nS,{className:"h-6 w-6"})})}),d.jsx("a",{href:"/",className:"flex items-center text-gray-800 dark:text-gray-100",title:"I Love PDFLY Home",children:d.jsx(Lw,{className:"h-8 md:h-10 w-auto"})}),d.jsxs("nav",{className:"hidden md:flex items-center space-x-1",children:[si.map(q=>d.jsx(Ee,{to:q.to,onClick:E,title:q.label,className:"px-3 py-2 text-gray-800 dark:text-gray-300 hover:text-brand-red dark:hover:text-brand-red transition-colors rounded-md text-sm font-semibold whitespace-nowrap hidden lg:flex",children:q.label},q.to)),d.jsx(Ee,{to:"/developer",onClick:E,title:"Developer API",className:"px-3 py-2 text-gray-800 dark:text-gray-300 hover:text-brand-red dark:hover:text-brand-red transition-colors rounded-md text-sm font-semibold whitespace-nowrap hidden lg:flex",children:"DEVELOPER"}),d.jsxs("div",{className:"relative",onMouseEnter:()=>k(p,M),onMouseLeave:()=>x(p,M),children:[d.jsxs("button",{title:"Convert PDF Tools",className:"flex items-center px-3 py-2 text-gray-800 dark:text-gray-300 hover:text-brand-red dark:hover:text-brand-red transition-colors rounded-md text-sm font-semibold whitespace-nowrap",children:[d.jsx("span",{children:"CONVERT PDF"}),d.jsx(Mm,{className:`h-4 w-4 ml-1 transition-transform duration-200 ${u?"rotate-180":""}`})]}),d.jsx("div",{className:`absolute top-full left-1/2 -translate-x-1/2 mt-2 w-max bg-white dark:bg-black border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl p-6 z-20 transition-all duration-200 ease-out origin-top ${u?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}`,children:d.jsxs("div",{className:"grid grid-cols-2 gap-x-8",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"px-2 pb-2 text-sm font-bold text-gray-500 dark:text-gray-400 border-b border-gray-200 dark:border-gray-700 uppercase",children:"Convert to PDF"}),d.jsx("div",{className:"mt-2 space-y-1",children:Mt.map(q=>d.jsxs(Ee,{to:`/${q.id}`,onClick:E,title:q.title,className:"flex items-center gap-3 p-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[d.jsx(q.Icon,{className:`h-5 w-5 flex-shrink-0 ${q.textColor}`}),d.jsx("span",{className:"font-semibold text-sm whitespace-nowrap",children:q.title})]},q.id))})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"px-2 pb-2 text-sm font-bold text-gray-500 dark:text-gray-400 border-b border-gray-200 dark:border-gray-700 uppercase",children:"Convert from PDF"}),d.jsx("div",{className:"mt-2 space-y-1",children:Vt.map(q=>d.jsxs(Ee,{to:`/${q.id}`,onClick:E,title:q.title,className:"flex items-center gap-3 p-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[d.jsx(q.Icon,{className:`h-5 w-5 flex-shrink-0 ${q.textColor}`}),d.jsx("span",{className:"font-semibold text-sm whitespace-nowrap",children:q.title})]},q.id))})]})]})})]}),d.jsxs("div",{onMouseEnter:()=>k(g,F),onMouseLeave:()=>x(g,F),children:[d.jsxs("button",{title:"All PDF Tools",className:"flex items-center px-3 py-2 text-red-600 dark:text-red-400 transition-colors rounded-md text-sm font-semibold whitespace-nowrap",children:[d.jsx("span",{children:"ALL PDF TOOLS"}),d.jsx(Mm,{className:`h-4 w-4 ml-1 transition-transform duration-200 ${m?"rotate-180":""}`})]}),d.jsx("div",{className:`absolute top-full left-1/2 -translate-x-1/2 mt-2 w-max max-w-[calc(100vw-2rem)] bg-white dark:bg-black border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl z-50 transition-all duration-200 ease-out origin-top ${m?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"} overflow-x-auto no-scrollbar`,children:d.jsx("div",{className:"p-6 grid grid-cols-6 gap-x-4",children:Fe.map(q=>d.jsxs("div",{className:"pr-4 border-r border-gray-200 dark:border-gray-700 last:border-r-0",children:[d.jsx("h4",{className:"pb-2 text-sm font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:q.title}),d.jsx("div",{className:"mt-2 space-y-1",children:q.tools.map(ae=>{const Ce=ct.get(ae);return Ce?d.jsxs(Ee,{to:`/${Ce.id}`,onClick:E,title:Ce.title,className:"flex items-center gap-3 p-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[d.jsx(Ce.Icon,{className:`h-5 w-5 flex-shrink-0 ${Ce.textColor}`}),d.jsx("span",{className:"font-semibold text-sm",children:Ce.title})]},Ce.id):null})})]},q.title))})})]})]})]}),d.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[Y?d.jsxs("div",{className:"relative",ref:P,children:[d.jsx("button",{onClick:()=>o(!s),className:"block h-8 w-8 sm:h-10 sm:w-10 rounded-full overflow-hidden border-2 border-transparent hover:border-brand-red transition","aria-label":"Open user profile menu",title:"Open user profile menu",children:Y.profileImage?d.jsx("img",{src:Y.profileImage,alt:"Profile",className:"h-full w-full object-cover"}):d.jsx(S4,{className:"h-full w-full text-gray-500 dark:text-gray-400"})}),s&&d.jsxs("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white dark:bg-black border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl py-2",children:[d.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:[d.jsx("p",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200",children:"Signed in as"}),d.jsxs("div",{className:"flex items-center justify-between mt-1",children:[d.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white truncate",children:Y.username}),Y.isPremium&&d.jsxs("span",{className:"flex items-center gap-1 bg-yellow-100 text-yellow-800 text-xs font-semibold px-2 py-0.5 rounded-full border border-yellow-400 dark:bg-yellow-900/50 dark:text-yellow-300 dark:border-yellow-600",children:[d.jsx(L4,{className:"h-3 w-3"}),"Premium"]})]})]}),d.jsxs("div",{className:"py-1",children:[d.jsxs("button",{onClick:()=>{n(),E()},title:"Change profile photo",className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-brand-red transition-colors",children:[d.jsx(D4,{className:"h-5 w-5"}),d.jsx("span",{children:"Change Photo"})]}),d.jsxs("button",{onClick:()=>{_("/account-settings"),E()},title:"Account Settings",className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-brand-red transition-colors",children:[d.jsx(Z4,{className:"h-5 w-5"}),d.jsx("span",{children:"Account Settings"})]}),T&&d.jsxs("button",{onClick:()=>{t(),E()},title:"Change password",className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-brand-red transition-colors",children:[d.jsx(N4,{className:"h-5 w-5"}),d.jsx("span",{children:"Change Password"})]})]}),d.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 py-1",children:d.jsxs("button",{onClick:()=>{w(),E()},title:"Logout",className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-brand-red transition-colors",children:[d.jsx(V4,{className:"h-5 w-5"}),d.jsx("span",{children:"Logout"})]})})]})]}):d.jsxs("div",{className:"hidden sm:flex items-center space-x-2 md:space-x-4",children:[d.jsx(Ee,{to:"/login",title:"Login",className:"text-gray-800 dark:text-gray-300 hover:text-brand-red dark:hover:text-brand-red transition-colors font-semibold px-2 text-sm",children:"Login"}),d.jsx(Ee,{to:"/signup",title:"Sign Up",className:"bg-brand-red hover:bg-brand-red-dark text-white font-bold py-1.5 px-3 text-sm rounded-md transition-colors",children:"Sign up"})]}),d.jsx("button",{onClick:e,className:"text-gray-600 dark:text-gray-300 hover:text-brand-red dark:hover:text-brand-red transition-colors p-2 rounded-full","aria-label":"Search",title:"Search",children:d.jsx(Vw,{className:"h-6 w-6"})}),d.jsxs("div",{className:"relative block",ref:S,onMouseEnter:()=>k(i,V),onMouseLeave:()=>x(i,V),children:[d.jsx("button",{className:"text-gray-600 dark:text-gray-300 hover:text-brand-red dark:hover:text-brand-red transition-colors p-2 rounded-full","aria-label":"Open all tools and options",title:"Open all tools and options",children:d.jsx(h4,{className:"h-8 w-8"})}),r&&d.jsxs("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white dark:bg-black border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl py-2",children:[Ge.map(q=>d.jsxs(Ee,{to:q.to,onClick:E,title:q.label,className:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-brand-red transition-colors",children:[d.jsx(q.icon,{className:"h-5 w-5"}),d.jsx("span",{children:q.label})]},q.to)),d.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),oi.map(q=>d.jsxs(Ee,{to:q.to,onClick:E,title:q.label,className:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-brand-red transition-colors",children:[d.jsx(q.icon,{className:"h-5 w-5"}),d.jsx("span",{children:q.label})]},q.to)),d.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),d.jsxs(Ee,{to:"/contact",onClick:E,title:"Contact",className:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-brand-red transition-colors",children:[d.jsx(O4,{className:"h-5 w-5"}),d.jsx("span",{children:"Contact"})]}),d.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),d.jsx(Ee,{to:"/developer-access",onClick:E,title:"Admin Access",className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-brand-red",children:"Admin Access"}),b&&d.jsx(Ee,{to:"/admin-dashboard",onClick:E,title:"Admin Dashboard",className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-brand-red",children:"Admin Dashboard"}),d.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),d.jsxs("button",{onClick:J,title:"Toggle Theme",className:"w-full flex items-center justify-between px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-brand-red",children:[d.jsx("span",{children:"Toggle Theme"}),H==="light"?d.jsx(A4,{className:"h-5 w-5"}):d.jsx(P4,{className:"h-5 w-5"})]})]})]}),!Y&&d.jsx("div",{className:"sm:hidden",children:d.jsx(Ee,{to:"/login",className:"text-gray-600 dark:text-gray-300 hover:text-brand-red","aria-label":"Login or sign up",title:"Login or sign up",children:d.jsx(Ar,{className:"h-7 w-7"})})})]})]})})}),d.jsx("div",{className:`fixed inset-0 z-[60] bg-black/50 transition-opacity md:hidden ${a?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>c(!1)}),d.jsx("div",{className:`fixed top-0 left-0 h-full w-full max-w-xs bg-white dark:bg-black z-[70] transition-transform duration-300 ease-in-out md:hidden transform ${a?"translate-x-0":"-translate-x-full"}`,children:d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[d.jsx("span",{className:"font-bold text-lg text-gray-800 dark:text-gray-100",children:"All Tools"}),d.jsx("button",{onClick:()=>c(!1),className:"text-gray-600 dark:text-gray-300","aria-label":"Close menu",title:"Close menu",children:d.jsx(rS,{className:"h-6 w-6"})})]}),d.jsx("nav",{className:"flex-grow overflow-y-auto p-2",children:d.jsx("div",{className:"space-y-4",children:ps.map(q=>d.jsxs("div",{children:[d.jsx("h4",{className:"px-3 py-2 text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:q.title}),d.jsx("div",{className:"mt-1 space-y-1",children:q.tools.map(ae=>d.jsxs(Ee,{to:`/${ae.id}`,onClick:E,title:ae.title,className:"flex items-center space-x-4 p-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[d.jsx(ae.Icon,{className:`h-6 w-6 flex-shrink-0 ${ae.textColor}`}),d.jsx("span",{className:"font-semibold text-sm",children:ae.title})]},ae.id))})]},q.title))})}),d.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:!Y&&d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Ee,{to:"/login",onClick:E,title:"Login",className:"flex-1 text-center font-semibold text-gray-600 dark:text-gray-300 hover:text-brand-red dark:hover:text-brand-red transition-colors py-2 px-4 rounded-md border border-gray-300 dark:border-gray-700",children:"Login"}),d.jsx(Ee,{to:"/signup",onClick:E,title:"Sign Up",className:"flex-1 text-center bg-brand-red hover:bg-brand-red-dark text-white font-bold py-2 px-4 rounded-md transition-colors",children:"Sign up"})]})})]})})]})},sS=I.memo(iS),oS=({onOpenCalendarModal:n})=>{const[e,t]=I.useState(""),[r,i]=I.useState(""),s=g=>{g.preventDefault(),e&&e.includes("@")?(i(`Thank you for subscribing, ${e}!`),t(""),setTimeout(()=>i(""),5e3)):(i("Please enter a valid email address."),setTimeout(()=>i(""),3e3))},o=()=>{const g=document.createElement("a");g.href="/logo.svg",g.download="ilovepdfly-logo.svg",document.body.appendChild(g),g.click(),document.body.removeChild(g)},a=[{path:"/merge-pdf",name:"Merge PDF"},{path:"/compress-pdf",name:"Compress PDF"},{path:"/jpg-to-pdf",name:"JPG to PDF"},{path:"/edit-pdf",name:"Edit PDF"},{path:"/pdf-to-word",name:"PDF to Word"}],c=[{path:"/education",name:"For Education"},{path:"/business",name:"For Business"},{path:"/how-to-use",name:"How-to Guides"}],u=[{path:"/about",name:"About"},{path:"/blog",name:"Blog"},{path:"/press",name:"Press"},{path:"/contact",name:"Contact"},{path:"/ceo",name:"Message from CEO"},{path:"/privacy-policy",name:"Privacy Policy"},{path:"/terms-of-service",name:"Terms & Conditions"},{path:"/cookies-policy",name:"Cookies Policy"},{path:"/user-data-deletion",name:"Data Deletion"}],p=[{path:"/developer",name:"Developer API"},{path:"/api-reference",name:"API Reference"},{path:"/api-pdf",name:"PDF Tools API"},{path:"/api-image",name:"Image Tools API"},{path:"/api-signature",name:"Signature API"}],m=d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex space-x-4 mt-5",children:[d.jsx("a",{href:"https://www.facebook.com/share/16sdjGNVGr/?mibextid=wwXIfr",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Facebook",title:"Facebook",children:d.jsx(R4,{className:"h-6 w-6"})}),d.jsx("a",{href:"https://wa.me/message/JYA22CVSYSZ4N1",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors","aria-label":"WhatsApp",title:"WhatsApp",children:d.jsx(k4,{className:"h-6 w-6"})}),d.jsx("a",{href:"https://www.youtube.com/@btmobilecare",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors","aria-label":"YouTube",title:"YouTube",children:d.jsx(C4,{className:"h-6 w-6"})})]}),d.jsx("div",{className:"mt-6",children:d.jsx("p",{className:"text-gray-400 text-sm font-semibold",children:"App Coming Soon"})})]});return d.jsx("footer",{className:"bg-black text-white w-full",children:d.jsxs("div",{className:"px-6 py-12",children:[d.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-6 gap-8",children:[d.jsxs("div",{className:"col-span-2",children:[d.jsx("a",{href:"/",title:"I Love PDFLY Home",children:d.jsx(Lw,{className:"h-10 w-auto mb-3",variant:"dark"})}),d.jsx("p",{className:"text-gray-400 text-sm max-w-xs",children:"Your go-to suite of online tools for PDF and image management."}),m]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-lg mb-4",children:"Tools"}),d.jsx("ul",{className:"space-y-2 text-gray-400 text-sm",children:a.map(g=>d.jsx("li",{children:d.jsx(Ee,{to:g.path,title:g.name,className:"hover:text-white",children:g.name})},g.path))})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-lg mb-4",children:"Solutions"}),d.jsx("ul",{className:"space-y-2 text-gray-400 text-sm",children:c.map(g=>d.jsx("li",{children:d.jsx(Ee,{to:g.path,title:g.name,className:"hover:text-white",children:g.name})},g.path))})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-lg mb-4",children:"Company"}),d.jsx("ul",{className:"space-y-2 text-gray-400 text-sm",children:u.map(g=>d.jsx("li",{children:d.jsx(Ee,{to:g.path,title:g.name,className:"hover:text-white",children:g.name})},g.path))})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-lg mb-4",children:"Resources"}),d.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[p.map(g=>d.jsx("li",{children:d.jsxs(Ee,{to:g.path,title:g.name,className:"hover:text-white flex items-center gap-2",children:[d.jsx(Ow,{className:"h-4 w-4"})," ",g.name]})},g.path)),d.jsx("li",{children:d.jsx("button",{onClick:n,title:"Open Calendar",className:"hover:text-white text-left",children:"Calendar"})}),d.jsx("li",{children:d.jsx("button",{onClick:o,title:"Download Our Logo",className:"hover:text-white text-left",children:"Our Logo"})})]})]})]}),d.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-700 text-center",children:[d.jsx("h3",{className:"font-bold text-lg mb-2",children:"Subscribe to our newsletter"}),d.jsx("p",{className:"text-gray-400 text-sm mb-4 max-w-md mx-auto",children:"Get the latest news, articles, and resources, sent to your inbox weekly."}),d.jsxs("form",{onSubmit:s,className:"flex flex-col sm:flex-row gap-2 max-w-md mx-auto",children:[d.jsx("input",{type:"email",placeholder:"Enter your email",value:e,onChange:g=>t(g.target.value),required:!0,"aria-label":"Email for newsletter",className:"flex-grow px-4 py-2 bg-gray-800 border border-gray-600 rounded-md text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-brand-red"}),d.jsx("button",{type:"submit",className:"bg-brand-red hover:bg-brand-red-dark text-white font-bold py-2 px-6 rounded-md transition-colors",children:"Subscribe"})]}),r&&d.jsx("p",{className:`text-sm mt-3 ${r.includes("Thank you")?"text-green-400":"text-red-400"}`,children:r})]}),d.jsxs("div",{className:"mt-12 border-t border-gray-700 pt-6 flex flex-col sm:flex-row justify-between items-center text-gray-400 text-sm",children:[d.jsxs("p",{className:"order-2 sm:order-1 mt-4 sm:mt-0",children:[" ",new Date().getFullYear()," I Love PDFLY. All Rights Reserved."]}),d.jsx("div",{className:"order-1 sm:order-2",children:d.jsx(Ee,{to:"/sitemap",title:"Sitemap",className:"hover:text-white transition-colors",children:"Sitemap"})})]})]})})},aS=I.memo(oS),lS=()=>{const[n,e]=I.useState(!1),t=()=>{window.pageYOffset>300?e(!0):e(!1)},r=()=>{window.scrollTo({top:0,behavior:"smooth"})};return I.useEffect(()=>(window.addEventListener("scroll",t),()=>{window.removeEventListener("scroll",t)}),[]),d.jsx("button",{onClick:r,className:`fixed bottom-6 right-6 z-50 text-brand-red filter drop-shadow-lg hover:text-brand-red-dark transition-all duration-300 ease-in-out transform hover:scale-110 ${n?"opacity-100 scale-100":"opacity-0 scale-0"}`,"aria-label":"Scroll to top",title:"Scroll to top",children:d.jsx("svg",{className:"h-14 w-14",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9v6c0 3.87 3.13 7 7 7s7-3.13 7-7V9c0-3.87-3.13-7-7-7zm0 2c2.76 0 5 2.24 5 5v6c0 2.76-2.24 5-5 5s-5-2.24-5-5V9c0-2.76 2.24-5 5-5zm-1 2v4h2V6h-2z"})})})};var Uc={exports:{}},zc,qm;function cS(){if(qm)return zc;qm=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return zc=n,zc}var Bc,Hm;function uS(){if(Hm)return Bc;Hm=1;var n=cS();function e(){}function t(){}return t.resetWarningCache=e,Bc=function(){function r(o,a,c,u,p,m){if(m!==n){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},Bc}var Gm;function dS(){return Gm||(Gm=1,Uc.exports=uS()()),Uc.exports}var hS=dS();const ge=gl(hS),pS=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Xi(n,e,t){const r=fS(n),{webkitRelativePath:i}=n,s=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${n.name}`;return typeof r.path!="string"&&Wm(r,"path",s),Wm(r,"relativePath",s),r}function fS(n){const{name:e}=n;if(e&&e.lastIndexOf(".")!==-1&&!n.type){const r=e.split(".").pop().toLowerCase(),i=pS.get(r);i&&Object.defineProperty(n,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return n}function Wm(n,e,t){Object.defineProperty(n,e,{value:t,writable:!1,configurable:!1,enumerable:!0})}const mS=[".DS_Store","Thumbs.db"];function gS(n){return Xr(this,void 0,void 0,function*(){return pl(n)&&yS(n.dataTransfer)?bS(n.dataTransfer,n.type):vS(n)?_S(n):Array.isArray(n)&&n.every(e=>"getFile"in e&&typeof e.getFile=="function")?wS(n):[]})}function yS(n){return pl(n)}function vS(n){return pl(n)&&pl(n.target)}function pl(n){return typeof n=="object"&&n!==null}function _S(n){return Su(n.target.files).map(e=>Xi(e))}function wS(n){return Xr(this,void 0,void 0,function*(){return(yield Promise.all(n.map(t=>t.getFile()))).map(t=>Xi(t))})}function bS(n,e){return Xr(this,void 0,void 0,function*(){if(n.items){const t=Su(n.items).filter(i=>i.kind==="file");if(e!=="drop")return t;const r=yield Promise.all(t.map(xS));return $m(Fw(r))}return $m(Su(n.files).map(t=>Xi(t)))})}function $m(n){return n.filter(e=>mS.indexOf(e.name)===-1)}function Su(n){if(n===null)return[];const e=[];for(let t=0;t<n.length;t++){const r=n[t];e.push(r)}return e}function xS(n){if(typeof n.webkitGetAsEntry!="function")return Km(n);const e=n.webkitGetAsEntry();return e&&e.isDirectory?Mw(e):Km(n,e)}function Fw(n){return n.reduce((e,t)=>[...e,...Array.isArray(t)?Fw(t):[t]],[])}function Km(n,e){return Xr(this,void 0,void 0,function*(){var t;if(globalThis.isSecureContext&&typeof n.getAsFileSystemHandle=="function"){const s=yield n.getAsFileSystemHandle();if(s===null)throw new Error(`${n} is not a File`);if(s!==void 0){const o=yield s.getFile();return o.handle=s,Xi(o)}}const r=n.getAsFile();if(!r)throw new Error(`${n} is not a File`);return Xi(r,(t=e?.fullPath)!==null&&t!==void 0?t:void 0)})}function IS(n){return Xr(this,void 0,void 0,function*(){return n.isDirectory?Mw(n):TS(n)})}function Mw(n){const e=n.createReader();return new Promise((t,r)=>{const i=[];function s(){e.readEntries(o=>Xr(this,void 0,void 0,function*(){if(o.length){const a=Promise.all(o.map(IS));i.push(a),s()}else try{const a=yield Promise.all(i);t(a)}catch(a){r(a)}}),o=>{r(o)})}s()})}function TS(n){return Xr(this,void 0,void 0,function*(){return new Promise((e,t)=>{n.file(r=>{const i=Xi(r,n.fullPath);e(i)},r=>{t(r)})})})}var Ca={},Qm;function ES(){return Qm||(Qm=1,Ca.__esModule=!0,Ca.default=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(",");if(t.length===0)return!0;var r=n.name||"",i=(n.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return t.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0}),Ca}var PS=ES();const qc=gl(PS);function Ym(n){return RS(n)||kS(n)||Uw(n)||AS()}function AS(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kS(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function RS(n){if(Array.isArray(n))return Du(n)}function Jm(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Xm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Jm(Object(t),!0).forEach(function(r){jw(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Jm(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function jw(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Do(n,e){return DS(n)||SS(n,e)||Uw(n,e)||CS()}function CS(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uw(n,e){if(n){if(typeof n=="string")return Du(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Du(n,e)}}function Du(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function SS(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(c){s=!0,a=c}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function DS(n){if(Array.isArray(n))return n}var NS=typeof qc=="function"?qc:qc.default,VS="file-invalid-type",OS="file-too-large",LS="file-too-small",FS="too-many-files",MS=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=e.split(","),r=t.length>1?"one of ".concat(t.join(", ")):t[0];return{code:VS,message:"File type must be ".concat(r)}},Zm=function(e){return{code:OS,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},eg=function(e){return{code:LS,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},jS={code:FS,message:"Too many files"};function zw(n,e){var t=n.type==="application/x-moz-file"||NS(n,e);return[t,t?null:MS(e)]}function Bw(n,e,t){if(kr(n.size))if(kr(e)&&kr(t)){if(n.size>t)return[!1,Zm(t)];if(n.size<e)return[!1,eg(e)]}else{if(kr(e)&&n.size<e)return[!1,eg(e)];if(kr(t)&&n.size>t)return[!1,Zm(t)]}return[!0,null]}function kr(n){return n!=null}function US(n){var e=n.files,t=n.accept,r=n.minSize,i=n.maxSize,s=n.multiple,o=n.maxFiles,a=n.validator;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(c){var u=zw(c,t),p=Do(u,1),m=p[0],g=Bw(c,r,i),b=Do(g,1),A=b[0],S=a?a(c):null;return m&&A&&!S})}function fl(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function Sa(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function tg(n){n.preventDefault()}function zS(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function BS(n){return n.indexOf("Edge/")!==-1}function qS(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return zS(n)||BS(n)}function zt(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!fl(r)&&a&&a.apply(void 0,[r].concat(s)),fl(r)})}}function HS(){return"showOpenFilePicker"in window}function GS(n){if(kr(n)){var e=Object.entries(n).filter(function(t){var r=Do(t,2),i=r[0],s=r[1],o=!0;return qw(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(s)||!s.every(Hw))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(t,r){var i=Do(r,2),s=i[0],o=i[1];return Xm(Xm({},t),{},jw({},s,o))},{});return[{description:"Files",accept:e}]}return n}function WS(n){if(kr(n))return Object.entries(n).reduce(function(e,t){var r=Do(t,2),i=r[0],s=r[1];return[].concat(Ym(e),[i],Ym(s))},[]).filter(function(e){return qw(e)||Hw(e)}).join(",")}function $S(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function KS(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}function qw(n){return n==="audio/*"||n==="video/*"||n==="image/*"||n==="text/*"||n==="application/*"||/\w+\/[-+.\w]+/g.test(n)}function Hw(n){return/^.*\.[\w]+$/.test(n)}var QS=["children"],YS=["open"],JS=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],XS=["refKey","onChange","onClick"];function ZS(n){return n5(n)||t5(n)||Gw(n)||e5()}function e5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t5(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function n5(n){if(Array.isArray(n))return Nu(n)}function Hc(n,e){return s5(n)||i5(n,e)||Gw(n,e)||r5()}function r5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gw(n,e){if(n){if(typeof n=="string")return Nu(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Nu(n,e)}}function Nu(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function i5(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(c){s=!0,a=c}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function s5(n){if(Array.isArray(n))return n}function ng(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Pe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ng(Object(t),!0).forEach(function(r){Vu(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ng(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Vu(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ml(n,e){if(n==null)return{};var t=o5(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function o5(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var Eh=I.forwardRef(function(n,e){var t=n.children,r=ml(n,QS),i=$w(r),s=i.open,o=ml(i,YS);return I.useImperativeHandle(e,function(){return{open:s}},[s]),Vi.createElement(I.Fragment,null,t(Pe(Pe({},o),{},{open:s})))});Eh.displayName="Dropzone";var Ww={disabled:!1,getFilesFromEvent:gS,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Eh.defaultProps=Ww;Eh.propTypes={children:ge.func,accept:ge.objectOf(ge.arrayOf(ge.string)),multiple:ge.bool,preventDropOnDocument:ge.bool,noClick:ge.bool,noKeyboard:ge.bool,noDrag:ge.bool,noDragEventsBubbling:ge.bool,minSize:ge.number,maxSize:ge.number,maxFiles:ge.number,disabled:ge.bool,getFilesFromEvent:ge.func,onFileDialogCancel:ge.func,onFileDialogOpen:ge.func,useFsAccessApi:ge.bool,autoFocus:ge.bool,onDragEnter:ge.func,onDragLeave:ge.func,onDragOver:ge.func,onDrop:ge.func,onDropAccepted:ge.func,onDropRejected:ge.func,onError:ge.func,validator:ge.func};var Ou={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function $w(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Pe(Pe({},Ww),n),t=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,c=e.maxFiles,u=e.onDragEnter,p=e.onDragLeave,m=e.onDragOver,g=e.onDrop,b=e.onDropAccepted,A=e.onDropRejected,S=e.onFileDialogCancel,P=e.onFileDialogOpen,M=e.useFsAccessApi,F=e.autoFocus,V=e.preventDropOnDocument,H=e.noClick,J=e.noKeyboard,Y=e.noDrag,w=e.noDragEventsBubbling,v=e.onError,_=e.validator,T=I.useMemo(function(){return WS(t)},[t]),E=I.useMemo(function(){return GS(t)},[t]),k=I.useMemo(function(){return typeof P=="function"?P:rg},[P]),x=I.useMemo(function(){return typeof S=="function"?S:rg},[S]),fe=I.useRef(null),Be=I.useRef(null),ps=I.useReducer(a5,Ou),Mt=Hc(ps,2),Vt=Mt[0],Ge=Mt[1],si=Vt.isFocused,oi=Vt.isFileDialogActive,ct=I.useRef(typeof window<"u"&&window.isSecureContext&&M&&HS()),Fe=function(){!ct.current&&oi&&setTimeout(function(){if(Be.current){var Z=Be.current.files;Z.length||(Ge({type:"closeDialog"}),x())}},300)};I.useEffect(function(){return window.addEventListener("focus",Fe,!1),function(){window.removeEventListener("focus",Fe,!1)}},[Be,oi,x,ct]);var q=I.useRef([]),ae=function(Z){fe.current&&fe.current.contains(Z.target)||(Z.preventDefault(),q.current=[])};I.useEffect(function(){return V&&(document.addEventListener("dragover",tg,!1),document.addEventListener("drop",ae,!1)),function(){V&&(document.removeEventListener("dragover",tg),document.removeEventListener("drop",ae))}},[fe,V]),I.useEffect(function(){return!r&&F&&fe.current&&fe.current.focus(),function(){}},[fe,F,r]);var Ce=I.useCallback(function(G){v?v(G):console.error(G)},[v]),ur=I.useCallback(function(G){G.preventDefault(),G.persist(),Cn(G),q.current=[].concat(ZS(q.current),[G.target]),Sa(G)&&Promise.resolve(i(G)).then(function(Z){if(!(fl(G)&&!w)){var re=Z.length,le=re>0&&US({files:Z,accept:T,minSize:o,maxSize:s,multiple:a,maxFiles:c,validator:_}),Ke=re>0&&!le;Ge({isDragAccept:le,isDragReject:Ke,isDragActive:!0,type:"setDraggedFiles"}),u&&u(G)}}).catch(function(Z){return Ce(Z)})},[i,u,Ce,w,T,o,s,a,c,_]),ea=I.useCallback(function(G){G.preventDefault(),G.persist(),Cn(G);var Z=Sa(G);if(Z&&G.dataTransfer)try{G.dataTransfer.dropEffect="copy"}catch{}return Z&&m&&m(G),!1},[m,w]),ta=I.useCallback(function(G){G.preventDefault(),G.persist(),Cn(G);var Z=q.current.filter(function(le){return fe.current&&fe.current.contains(le)}),re=Z.indexOf(G.target);re!==-1&&Z.splice(re,1),q.current=Z,!(Z.length>0)&&(Ge({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Sa(G)&&p&&p(G))},[fe,p,w]),sn=I.useCallback(function(G,Z){var re=[],le=[];G.forEach(function(Ke){var Sn=zw(Ke,T),an=Hc(Sn,2),ys=an[0],ln=an[1],ui=Bw(Ke,o,s),hr=Hc(ui,2),pr=hr[0],vs=hr[1],_s=_?_(Ke):null;if(ys&&pr&&!_s)re.push(Ke);else{var fr=[ln,vs];_s&&(fr=fr.concat(_s)),le.push({file:Ke,errors:fr.filter(function(ra){return ra})})}}),(!a&&re.length>1||a&&c>=1&&re.length>c)&&(re.forEach(function(Ke){le.push({file:Ke,errors:[jS]})}),re.splice(0)),Ge({acceptedFiles:re,fileRejections:le,isDragReject:le.length>0,type:"setFiles"}),g&&g(re,le,Z),le.length>0&&A&&A(le,Z),re.length>0&&b&&b(re,Z)},[Ge,a,T,o,s,c,g,b,A,_]),on=I.useCallback(function(G){G.preventDefault(),G.persist(),Cn(G),q.current=[],Sa(G)&&Promise.resolve(i(G)).then(function(Z){fl(G)&&!w||sn(Z,G)}).catch(function(Z){return Ce(Z)}),Ge({type:"reset"})},[i,sn,Ce,w]),jt=I.useCallback(function(){if(ct.current){Ge({type:"openDialog"}),k();var G={multiple:a,types:E};window.showOpenFilePicker(G).then(function(Z){return i(Z)}).then(function(Z){sn(Z,null),Ge({type:"closeDialog"})}).catch(function(Z){$S(Z)?(x(Z),Ge({type:"closeDialog"})):KS(Z)?(ct.current=!1,Be.current?(Be.current.value=null,Be.current.click()):Ce(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Ce(Z)});return}Be.current&&(Ge({type:"openDialog"}),k(),Be.current.value=null,Be.current.click())},[Ge,k,x,M,sn,Ce,E,a]),ai=I.useCallback(function(G){!fe.current||!fe.current.isEqualNode(G.target)||(G.key===" "||G.key==="Enter"||G.keyCode===32||G.keyCode===13)&&(G.preventDefault(),jt())},[fe,jt]),li=I.useCallback(function(){Ge({type:"focus"})},[]),ci=I.useCallback(function(){Ge({type:"blur"})},[]),fs=I.useCallback(function(){H||(qS()?setTimeout(jt,0):jt())},[H,jt]),Rn=function(Z){return r?null:Z},ms=function(Z){return J?null:Rn(Z)},dr=function(Z){return Y?null:Rn(Z)},Cn=function(Z){w&&Z.stopPropagation()},na=I.useMemo(function(){return function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Z=G.refKey,re=Z===void 0?"ref":Z,le=G.role,Ke=G.onKeyDown,Sn=G.onFocus,an=G.onBlur,ys=G.onClick,ln=G.onDragEnter,ui=G.onDragOver,hr=G.onDragLeave,pr=G.onDrop,vs=ml(G,JS);return Pe(Pe(Vu({onKeyDown:ms(zt(Ke,ai)),onFocus:ms(zt(Sn,li)),onBlur:ms(zt(an,ci)),onClick:Rn(zt(ys,fs)),onDragEnter:dr(zt(ln,ur)),onDragOver:dr(zt(ui,ea)),onDragLeave:dr(zt(hr,ta)),onDrop:dr(zt(pr,on)),role:typeof le=="string"&&le!==""?le:"presentation"},re,fe),!r&&!J?{tabIndex:0}:{}),vs)}},[fe,ai,li,ci,fs,ur,ea,ta,on,J,Y,r]),ic=I.useCallback(function(G){G.stopPropagation()},[]),gs=I.useMemo(function(){return function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Z=G.refKey,re=Z===void 0?"ref":Z,le=G.onChange,Ke=G.onClick,Sn=ml(G,XS),an=Vu({accept:T,multiple:a,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Rn(zt(le,on)),onClick:Rn(zt(Ke,ic)),tabIndex:-1},re,Be);return Pe(Pe({},an),Sn)}},[Be,t,a,on,r]);return Pe(Pe({},Vt),{},{isFocused:si&&!r,getRootProps:na,getInputProps:gs,rootRef:fe,inputRef:Be,open:Rn(jt)})}function a5(n,e){switch(e.type){case"focus":return Pe(Pe({},n),{},{isFocused:!0});case"blur":return Pe(Pe({},n),{},{isFocused:!1});case"openDialog":return Pe(Pe({},Ou),{},{isFileDialogActive:!0});case"closeDialog":return Pe(Pe({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":return Pe(Pe({},n),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Pe(Pe({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Pe({},Ou);default:return n}}function rg(){}const l5=({isOpen:n,onClose:e})=>{const[t,r]=I.useState(null),[i,s]=I.useState(null),[o,a]=I.useState(""),[c,u]=I.useState(!1),{user:p,updateProfileImage:m}=Zo(),g=I.useCallback((F,V)=>{if(a(""),V.length>0){a("Please upload a valid image file (PNG, JPG, etc.) under 2MB.");return}if(F.length>0){const H=F[0];r(H);const J=new FileReader;J.onloadend=()=>{s(J.result)},J.readAsDataURL(H)}},[]),{getRootProps:b,getInputProps:A,isDragActive:S}=$w({onDrop:g,accept:{"image/*":[".jpeg",".png",".gif",".jpg",".webp"]},maxSize:2*1024*1024,multiple:!1}),P=async()=>{if(!(!t||!p)){u(!0),a("");try{await m(t),M()}catch(F){a(F.message||"Failed to save image.")}finally{u(!1)}}},M=()=>{r(null),s(null),a(""),u(!1),e()};return I.useEffect(()=>{if(!n)return;const F=V=>{V.key==="Escape"&&M()};return document.addEventListener("keydown",F),()=>{document.removeEventListener("keydown",F)}},[n,M]),n?d.jsx("div",{className:"fixed inset-0 bg-black/60 dark:bg-black/80 z-[100] flex items-center justify-center p-4",onClick:M,role:"dialog","aria-modal":"true","aria-labelledby":"profile-image-modal-title",children:d.jsxs("div",{className:"bg-white dark:bg-gray-900 w-full max-w-lg flex flex-col rounded-lg shadow-2xl",onClick:F=>F.stopPropagation(),children:[d.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[d.jsx("h2",{id:"profile-image-modal-title",className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:"Change Profile Photo"}),d.jsx("button",{onClick:M,className:"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-white transition-colors","aria-label":"Close modal",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsxs("main",{className:"p-8",children:[o&&d.jsx("p",{className:"text-center text-sm text-red-500 bg-red-100 dark:bg-red-900/30 p-3 rounded-md mb-4",children:o}),i?d.jsxs("div",{className:"text-center",children:[d.jsx("img",{src:i,alt:"Preview",className:"w-40 h-40 rounded-full mx-auto object-cover border-4 border-gray-200 dark:border-gray-700"}),d.jsx("button",{onClick:()=>{r(null),s(null)},className:"mt-4 text-sm text-brand-red hover:underline",children:"Choose a different photo"})]}):d.jsxs("div",{...b(),className:`relative flex flex-col items-center justify-center p-12 border-2 border-dashed rounded-lg cursor-pointer transition-colors duration-300 ${S?"border-brand-red bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800"}`,children:[d.jsx("input",{...A()}),d.jsx(p4,{className:"h-12 w-12 text-gray-400"}),d.jsx("p",{className:"mt-4 font-semibold text-gray-700 dark:text-gray-200",children:"Drag & drop or click to upload"}),d.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"PNG, JPG, GIF up to 2MB"})]})]}),d.jsxs("footer",{className:"flex justify-end gap-4 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-b-lg",children:[d.jsx("button",{onClick:M,className:"px-4 py-2 text-sm font-semibold text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),d.jsx("button",{onClick:P,disabled:!t||c,className:"px-4 py-2 text-sm font-semibold text-white bg-brand-red rounded-md hover:bg-brand-red-dark transition-colors disabled:bg-red-300 dark:disabled:bg-red-800 disabled:cursor-not-allowed",children:c?"Saving...":"Save Changes"})]})]})}):null},c5=[{path:"/about",title:"About Us",description:"Learn about our mission and story.",Icon:Ar,color:"bg-blue-500"},{path:"/contact",title:"Contact",description:"Get in touch with our team.",Icon:Ar,color:"bg-green-500"},{path:"/faq",title:"FAQ",description:"Find answers to frequently asked questions.",Icon:Ar,color:"bg-yellow-500"},{path:"/pricing",title:"Pricing",description:"View our flexible pricing plans.",Icon:Ar,color:"bg-purple-500"},{path:"/developer",title:"Developer API",description:"Integrate our tools with your applications.",Icon:Ar,color:"bg-teal-500"}],u5=({isOpen:n,onClose:e})=>{const[t,r]=I.useState(""),i=I.useRef(null),s=I.useMemo(()=>{const a=Qs.map(p=>({type:"tool",path:`/${p.id}`,title:p.title,description:p.description,Icon:p.Icon,color:p.color})),c=tS.map(p=>({type:"blog",path:`/blog/${p.slug}`,title:p.title,description:p.excerpt,Icon:Th,color:"bg-orange-500"})),u=c5.map(p=>({type:"page",...p}));return[...a,...c,...u]},[]),o=I.useMemo(()=>{if(!t.trim())return[];const a=t.toLowerCase();return s.filter(c=>c.title.toLowerCase().includes(a)||c.description.toLowerCase().includes(a))},[t,s]);return I.useEffect(()=>{if(n){r(""),setTimeout(()=>i.current?.focus(),100);const a=c=>{c.key==="Escape"&&e()};return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)}},[n,e]),n?d.jsx("div",{className:"fixed inset-0 bg-black/60 dark:bg-black/80 z-[100] flex items-start justify-center p-4 pt-[10vh]",onClick:e,role:"dialog","aria-modal":"true","aria-labelledby":"search-modal-title",children:d.jsxs("div",{className:"bg-white dark:bg-black w-full max-w-2xl rounded-lg shadow-2xl",onClick:a=>a.stopPropagation(),children:[d.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex items-center",children:[d.jsx("h2",{id:"search-modal-title",className:"sr-only",children:"Search Site"}),d.jsx(Vw,{className:"h-5 w-5 text-gray-400 mr-3"}),d.jsx("input",{ref:i,type:"text",value:t,onChange:a=>r(a.target.value),placeholder:"Search for tools, articles, and pages...",className:"w-full bg-transparent focus:outline-none text-gray-800 dark:text-gray-100"})]}),d.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:o.length>0?d.jsx("ul",{children:o.map(a=>d.jsx("li",{children:d.jsxs(Ee,{to:a.path,onClick:e,className:"flex items-center gap-4 p-4 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[d.jsx("div",{className:`p-2 rounded-lg ${a.color||"bg-gray-500"}`,children:d.jsx(a.Icon,{className:"h-6 w-6 text-white"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-100",children:a.title}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a.description})]})]})},`${a.type}-${a.path}`))}):t.trim()?d.jsx("div",{className:"p-8 text-center text-gray-500",children:d.jsxs("p",{children:['No results found for "',t,'"']})}):d.jsx("div",{className:"p-8 text-center text-gray-500",children:d.jsx("p",{children:"Start typing to search for anything on the site."})})})]})}):null},d5=()=>sessionStorage.getItem("isAdminAuthenticated")==="true"?d.jsx(gg,{}):d.jsx(mg,{to:"/developer-access"}),h5=()=>d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-white dark:bg-black",children:d.jsx("div",{className:"w-16 h-16 border-4 border-dashed rounded-full animate-spin border-brand-red"})}),p5=()=>{const{user:n,loading:e}=Zo(),t=Yr();return e?d.jsx(h5,{}):n?d.jsx(gg,{}):d.jsx(mg,{to:"/login",state:{from:t},replace:!0})},f5=({className:n})=>d.jsxs("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"currentColor",children:[d.jsx("path",{d:"M0 0h24v24H0V0z",fill:"none"}),d.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12l4.58-4.59z"})]}),m5=({className:n})=>d.jsxs("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"currentColor",children:[d.jsx("path",{d:"M0 0h24v24H0V0z",fill:"none"}),d.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6-6-6z"})]}),g5=({isOpen:n,onClose:e})=>{const[t,r]=I.useState(new Date);if(I.useEffect(()=>{if(!n)return;const b=A=>{A.key==="Escape"&&e()};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n,e]),!n)return null;const i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],s=new Date,o=t.getMonth(),a=t.getFullYear(),c=new Date(a,o,1).getDay(),u=new Date(a,o+1,0).getDate(),p=()=>r(new Date(a,o-1,1)),m=()=>r(new Date(a,o+1,1)),g=()=>{const b=[];for(let A=0;A<c;A++)b.push(d.jsx("div",{className:"p-2"},`empty-prev-${A}`));for(let A=1;A<=u;A++){const S=s.getDate()===A&&s.getMonth()===o&&s.getFullYear()===a;b.push(d.jsx("div",{className:`p-2 text-center rounded-full flex items-center justify-center font-semibold h-10 w-10
                    ${S?"bg-brand-red text-white":"text-gray-700 dark:text-gray-300"}`,children:A},A))}return b};return d.jsx("div",{className:"fixed inset-0 bg-black/60 dark:bg-black/80 z-[100] flex items-center justify-center p-4",onClick:e,role:"dialog","aria-modal":"true","aria-labelledby":"calendar-modal-title",children:d.jsxs("div",{className:"bg-white dark:bg-black w-full max-w-lg rounded-xl shadow-2xl animated-border",onClick:b=>b.stopPropagation(),children:[d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("button",{onClick:p,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800","aria-label":"Previous month",children:d.jsx(f5,{className:"h-6 w-6"})}),d.jsx("h2",{id:"calendar-modal-title",className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:t.toLocaleString("default",{month:"long",year:"numeric"})}),d.jsx("button",{onClick:m,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800","aria-label":"Next month",children:d.jsx(m5,{className:"h-6 w-6"})})]}),d.jsx("div",{className:"grid grid-cols-7 gap-2 text-center text-sm text-gray-500 dark:text-gray-400 mb-2",children:i.map(b=>d.jsx("div",{children:b},b))}),d.jsx("div",{className:"grid grid-cols-7 gap-2",children:g()})]}),d.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 text-center rounded-b-xl",children:d.jsx("button",{onClick:e,className:"text-brand-red font-semibold hover:underline",children:"Close"})})]})})},y5=()=>{const[n,e]=I.useState(!1);I.useEffect(()=>{try{if(!localStorage.getItem("cookie_consent")){const i=setTimeout(()=>{e(!0)},500);return()=>clearTimeout(i)}}catch(r){console.error("Could not access localStorage:",r);const i=setTimeout(()=>{e(!0)},500);return()=>clearTimeout(i)}},[]);const t=()=>{try{localStorage.setItem("cookie_consent","true")}catch(r){console.error("Could not set localStorage item:",r)}e(!1)};return n?d.jsx("div",{className:"fixed bottom-4 left-4 right-4 sm:left-auto sm:right-4 bg-white/80 dark:bg-black/80 backdrop-blur-sm border border-gray-200 dark:border-gray-700 p-4 sm:p-5 rounded-lg shadow-2xl z-[100] animate-fade-in-up max-w-lg",children:d.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[d.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"We use cookies to enhance your experience. By continuing to visit this site you agree to our use of cookies."}),d.jsxs("button",{onClick:t,className:"flex-shrink-0 w-full sm:w-auto bg-brand-red hover:bg-brand-red-dark text-white font-bold py-2 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[d.jsx(Y4,{className:"h-5 w-5"}),"Accept"]})]})}):null},v5=({isOpen:n,onClose:e})=>{const[t,r]=I.useState(""),[i,s]=I.useState(""),[o,a]=I.useState(""),[c,u]=I.useState(""),[p,m]=I.useState(""),[g,b]=I.useState(!1),{user:A,changePassword:S}=Zo(),P=I.useRef(null),M=async V=>{if(V.preventDefault(),u(""),m(""),i!==o){u("New passwords do not match.");return}if(i.length<6){u("Password must be at least 6 characters long.");return}if(!A){u("You must be logged in to change your password.");return}b(!0);try{await S(t,i),m("Password changed successfully! You can now close this window."),r(""),s(""),a("")}catch(H){u(H.message||"Failed to change password.")}finally{b(!1)}},F=()=>{r(""),s(""),a(""),u(""),m(""),b(!1),e()};return I.useEffect(()=>{if(n){setTimeout(()=>P.current?.focus(),100);const V=H=>{H.key==="Escape"&&F()};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)}},[n,F]),n?d.jsx("div",{className:"fixed inset-0 bg-black/60 dark:bg-black/80 z-[100] flex items-center justify-center p-4",onClick:F,role:"dialog","aria-modal":"true","aria-labelledby":"change-password-modal-title",children:d.jsxs("div",{className:"bg-white dark:bg-gray-900 w-full max-w-lg flex flex-col rounded-lg shadow-2xl",onClick:V=>V.stopPropagation(),children:[d.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[d.jsx("h2",{id:"change-password-modal-title",className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:"Change Password"}),d.jsx("button",{onClick:F,className:"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-white transition-colors","aria-label":"Close modal",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsxs("form",{onSubmit:M,children:[d.jsxs("main",{className:"p-8 space-y-4",children:[c&&d.jsx("p",{className:"text-center text-sm text-red-500 bg-red-100 dark:bg-red-900/30 p-3 rounded-md",children:c}),p&&d.jsx("p",{className:"text-center text-sm text-green-600 bg-green-100 dark:bg-green-900/30 p-3 rounded-md",children:p}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"old-password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Old Password"}),d.jsx("input",{ref:P,type:"password",id:"old-password",value:t,onChange:V=>r(V.target.value),required:!0,className:"w-full px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-brand-red focus:border-brand-red text-gray-800 dark:text-gray-200"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"new-password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"New Password"}),d.jsx("input",{type:"password",id:"new-password",value:i,onChange:V=>s(V.target.value),required:!0,className:"w-full px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-brand-red focus:border-brand-red text-gray-800 dark:text-gray-200"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirm New Password"}),d.jsx("input",{type:"password",id:"confirm-password",value:o,onChange:V=>a(V.target.value),required:!0,className:"w-full px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-brand-red focus:border-brand-red text-gray-800 dark:text-gray-200"})]})]}),d.jsxs("footer",{className:"flex justify-end gap-4 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-b-lg",children:[d.jsx("button",{type:"button",onClick:F,className:"px-4 py-2 text-sm font-semibold text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:g||!!p,className:"px-4 py-2 text-sm font-semibold text-white bg-brand-red rounded-md hover:bg-brand-red-dark transition-colors disabled:bg-red-300 dark:disabled:bg-red-800 disabled:cursor-not-allowed",children:g?"Saving...":"Save Changes"})]})]})]})}):null},_5=()=>{const[n,e]=I.useState(null);I.useEffect(()=>{const i=s=>{s.preventDefault(),e(s)};return window.addEventListener("beforeinstallprompt",i),()=>{window.removeEventListener("beforeinstallprompt",i)}},[]);const t=()=>{n&&(n.prompt(),n.userChoice.then(i=>{i.outcome==="accepted"?console.log("User accepted the PWA installation"):console.log("User dismissed the PWA installation"),e(null)}))},r=()=>{e(null)};return n?d.jsx("div",{className:"fixed bottom-24 right-4 z-[100] bg-white/80 dark:bg-black/80 backdrop-blur-sm p-4 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-800 animate-fade-in-up w-full max-w-sm",children:d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("div",{className:"flex-shrink-0 bg-brand-red p-3 rounded-lg mt-1",children:d.jsx(F4,{className:"h-6 w-6 text-white"})}),d.jsxs("div",{className:"flex-grow",children:[d.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-100",children:"Install I Love PDFLY App"}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Get a faster, offline-capable experience on your device."}),d.jsxs("div",{className:"mt-4 flex gap-2",children:[d.jsx("button",{onClick:t,className:"bg-brand-red hover:bg-brand-red-dark text-white font-bold py-2 px-6 rounded-lg transition-colors flex-shrink-0 text-sm",children:"Install"}),d.jsx("button",{onClick:r,className:"bg-transparent hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 font-bold py-2 px-4 rounded-lg transition-colors text-sm",children:"Later"})]})]}),d.jsx("button",{onClick:r,className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 absolute top-2 right-2","aria-label":"Dismiss install prompt",children:d.jsx(eS,{className:"h-5 w-5"})})]})}):null},w5=()=>(Vi.useEffect(()=>{document.title="User Data Deletion | I Love PDFLY"},[]),d.jsx("div",{className:"py-16 md:py-24",children:d.jsx("div",{className:"px-6",children:d.jsxs("div",{className:"max-w-4xl mx-auto bg-white dark:bg-black p-8 md:p-12 rounded-lg shadow-lg border border-gray-200 dark:border-gray-800",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-gray-800 dark:text-gray-100 mb-8",children:"User Data Deletion Request"}),d.jsxs("div",{className:"prose dark:prose-invert max-w-none text-gray-700 dark:text-gray-300",children:[d.jsx("p",{children:"We are committed to protecting your privacy and giving you control over your personal data. If you wish to delete your account and all associated data from our systems, please follow the instructions below."}),d.jsx("h3",{children:"How to Delete Your Data"}),d.jsx("p",{children:"You can permanently delete your account and all associated data directly from your account settings. This is the fastest and most secure way to delete your data."}),d.jsxs("ol",{children:[d.jsx("li",{children:"Log in to your I Love PDFLY account."}),d.jsxs("li",{children:["Navigate to the ",d.jsx(Ee,{to:"/account-settings",className:"text-brand-red hover:underline",children:"Account Settings"})," page."]}),d.jsx("li",{children:'Scroll down to the "Danger Zone" section.'}),d.jsx("li",{children:'Click on "Delete My Account" and follow the on-screen instructions to confirm the deletion.'})]}),d.jsx("h3",{className:"mt-6",children:"Alternative Method"}),d.jsx("p",{children:'If you are unable to access your account, you can request data deletion by sending an email to our support team with the subject line "Data Deletion Request".'}),d.jsxs("p",{children:[d.jsx("strong",{children:"Email:"})," ",d.jsx("a",{href:"mailto:Support@ilovepdfly.com",className:"text-brand-red hover:underline",children:"Support@ilovepdfly.com"})]}),d.jsx("p",{children:"Please include the username and email address associated with your account in your message."}),d.jsx("h3",{children:"What Happens Next?"}),d.jsxs("p",{children:[d.jsx("strong",{children:"For self-service deletion:"})," Your account and data will be permanently deleted immediately upon confirmation."]}),d.jsxs("p",{children:[d.jsx("strong",{children:"For email requests:"})," Once we receive your request, our team will verify your identity and process the deletion. We will confirm with you via email once the process is complete, which typically takes up to 30 days."]}),d.jsx("h3",{children:"What Data is Deleted?"}),d.jsx("p",{children:"The deletion process will remove:"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Your user account and profile information (username, email, profile picture, etc.)."}),d.jsx("li",{children:"Any content you have created or saved within your account."}),d.jsx("li",{children:"Your API key and associated usage data."})]}),d.jsx("p",{children:"Please note that some anonymous, aggregated usage data that is not linked to your personal identity may be retained for analytical purposes."}),d.jsx("p",{children:"If you have any questions about this process, please do not hesitate to contact us."})]})]})})})),b5=I.lazy(()=>ee(()=>import("./HomePage-CEuPkJ2m.js"),__vite__mapDeps([0,1,2]))),x5=I.lazy(()=>ee(()=>import("./ToolPage-JZsjQ0gw.js"),__vite__mapDeps([3,2,4,5,6,7,8,9]))),I5=I.lazy(()=>ee(()=>import("./AboutPage-Clsce6ge.js"),__vite__mapDeps([10,2]))),T5=I.lazy(()=>ee(()=>import("./BlogPage-CqfHYoYS.js"),__vite__mapDeps([11,2]))),E5=I.lazy(()=>ee(()=>import("./BlogPostPage-RaWUfGzT.js"),__vite__mapDeps([12,2]))),P5=I.lazy(()=>ee(()=>import("./ContactPage-BPQZh8ja.js"),__vite__mapDeps([13,2]))),A5=I.lazy(()=>ee(()=>import("./LoginPage-CPz0Nj8I.js"),__vite__mapDeps([14,2]))),k5=I.lazy(()=>ee(()=>import("./SignUpPage-BVW_RxFY.js"),__vite__mapDeps([15,2]))),R5=I.lazy(()=>ee(()=>import("./DeveloperPage-CIAs2cTv.js"),__vite__mapDeps([16,2]))),C5=I.lazy(()=>ee(()=>import("./FaqPage-enTRksZK.js"),__vite__mapDeps([17,2]))),S5=I.lazy(()=>ee(()=>import("./SitemapPage-A3n2IKUo.js"),__vite__mapDeps([18,2]))),D5=I.lazy(()=>ee(()=>import("./InvoiceGeneratorPage-DBbBdNsb.js"),__vite__mapDeps([19,5,6,2]))),N5=I.lazy(()=>ee(()=>import("./CVGeneratorPage-B5vhFSGK.js"),__vite__mapDeps([20,6,5,2]))),V5=I.lazy(()=>ee(()=>import("./LessonPlanCreatorPage-C_rHuCRG.js"),__vite__mapDeps([21,22,4,6,2]))),O5=I.lazy(()=>ee(()=>import("./AIQuestionGeneratorPage-CBc7CMlg.js"),__vite__mapDeps([23,22,2]))),L5=I.lazy(()=>ee(()=>import("./PricingPage-D97gtUAw.js"),__vite__mapDeps([24,2]))),F5=I.lazy(()=>ee(()=>import("./PremiumFeaturePage-DUnse9M3.js"),__vite__mapDeps([25,2]))),M5=I.lazy(()=>ee(()=>import("./PaymentPage-BOX2JMOk.js"),__vite__mapDeps([26,2]))),j5=I.lazy(()=>ee(()=>import("./DeveloperAccessPage-DiPObZEr.js"),__vite__mapDeps([27,2]))),U5=I.lazy(()=>ee(()=>import("./AdminDashboardPage-DUjEHJj9.js"),__vite__mapDeps([28,2]))),z5=I.lazy(()=>ee(()=>import("./HowToUsePage-DKFayJGS.js"),__vite__mapDeps([29,2]))),B5=I.lazy(()=>ee(()=>import("./EducationPage-BUWvOb4d.js"),__vite__mapDeps([30,2]))),q5=I.lazy(()=>ee(()=>import("./BusinessPage-DQPVxfef.js"),__vite__mapDeps([31,2]))),H5=I.lazy(()=>ee(()=>import("./PrivacyPolicyPage-ByrXuqcn.js"),__vite__mapDeps([32,2]))),G5=I.lazy(()=>ee(()=>import("./TermsOfServicePage-BQbKUvzz.js"),__vite__mapDeps([33,2]))),W5=I.lazy(()=>ee(()=>import("./CookiesPolicyPage-DBAwYcDQ.js"),__vite__mapDeps([34,2]))),$5=I.lazy(()=>ee(()=>import("./CeoPage-BY7pjXp3.js"),__vite__mapDeps([35,2]))),K5=I.lazy(()=>ee(()=>import("./ApiPricingPage-Bjv6x0dy.js"),__vite__mapDeps([36,2]))),Q5=I.lazy(()=>ee(()=>import("./ApiReferencePage-B_qE6fJ-.js"),__vite__mapDeps([37,2]))),Y5=I.lazy(()=>ee(()=>import("./ApiPdfPage-bWFQfgJt.js"),__vite__mapDeps([38,2]))),J5=I.lazy(()=>ee(()=>import("./ApiImagePage-DMQNJOpY.js"),__vite__mapDeps([39,2]))),X5=I.lazy(()=>ee(()=>import("./ApiSignaturePage-dJUaN426.js"),__vite__mapDeps([40,2]))),Z5=I.lazy(()=>ee(()=>import("./AccountSettingsPage-BhWABkeH.js"),__vite__mapDeps([41,2]))),eD=I.lazy(()=>ee(()=>import("./PressPage-CGXhmUcd.js"),__vite__mapDeps([42,2]))),tD=I.lazy(()=>ee(()=>import("./WorkflowsPage-DFF8sQIp.js"),__vite__mapDeps([43,1,2]))),nD=I.lazy(()=>ee(()=>import("./CreateWorkflowPage-BYfmfOcU.js"),__vite__mapDeps([44,1,2]))),rD=I.lazy(()=>ee(()=>import("./UserDashboardLayout-DLF_kNVM.js"),__vite__mapDeps([45,2]))),iD=I.lazy(()=>ee(()=>import("./SecurityPage-DvgEI4Pv.js"),__vite__mapDeps([46,2]))),sD=I.lazy(()=>ee(()=>import("./TeamPage-BqCPjPMk.js"),__vite__mapDeps([47,2]))),oD=I.lazy(()=>ee(()=>import("./LastTasksPage-DrhM6Fmh.js"),__vite__mapDeps([48,8,2]))),aD=I.lazy(()=>ee(()=>import("./SignaturesOverviewPage-TsGS5ll9.js"),__vite__mapDeps([49,50,5,9,2]))),lD=I.lazy(()=>ee(()=>import("./SentPage-BwNTkZmL.js"),__vite__mapDeps([51,50,5,2]))),cD=I.lazy(()=>ee(()=>import("./InboxPage-DGVk7g1W.js"),__vite__mapDeps([52,50,5,2]))),uD=I.lazy(()=>ee(()=>import("./SignedPage-CPN-EBYN.js"),__vite__mapDeps([53,6,9,2]))),dD=I.lazy(()=>ee(()=>import("./TemplatesPage-CkfO0yB8.js"),__vite__mapDeps([54,50,5,2]))),hD=I.lazy(()=>ee(()=>import("./ContactsPage-CgFa4Ujc.js"),__vite__mapDeps([55,50,5,7,2]))),pD=I.lazy(()=>ee(()=>import("./SignatureSettingsPage-CiFmBk28.js"),__vite__mapDeps([56,2]))),fD=I.lazy(()=>ee(()=>import("./PlansAndPackagesPage-BS9DviIf.js"),__vite__mapDeps([57,2]))),mD=I.lazy(()=>ee(()=>import("./BusinessDetailsPage-DslqwiVx.js"),__vite__mapDeps([58,2]))),gD=I.lazy(()=>ee(()=>import("./InvoicesPage-D1wccG_Y.js"),__vite__mapDeps([59,6,2])));function yD(){const n=Yr(),e=vl(),{user:t,loading:r}=Zo(),[i,s]=I.useState(!1),[o,a]=I.useState(!1),[c,u]=I.useState(!1),[p,m]=I.useState(!1);return Vi.useEffect(()=>{window.scrollTo(0,0)},[n.pathname]),Vi.useEffect(()=>{if(!r&&t){const g=sessionStorage.getItem("postLoginRedirect");if(g){sessionStorage.removeItem("postLoginRedirect");const b=JSON.parse(g),A=sessionStorage.getItem("pendingInvoiceDataRedirect");A?(sessionStorage.removeItem("pendingInvoiceDataRedirect"),e("/invoice-generator",{state:{restoredData:JSON.parse(A)},replace:!0})):b.from==="pricing"?e("/payment",{state:{plan:b.plan}}):b.from==="developer"?e("/developer"):b.from==="workflows_create"?e("/workflows/create"):(n.pathname==="/login"||n.pathname==="/signup")&&e("/")}else(n.pathname==="/login"||n.pathname==="/signup")&&e("/")}},[t,r,e,n.pathname]),d.jsxs("div",{className:"flex flex-col min-h-screen text-gray-800 dark:text-gray-200",children:[d.jsx(sS,{onOpenProfileImageModal:()=>s(!0),onOpenSearchModal:()=>a(!0),onOpenChangePasswordModal:()=>m(!0)}),d.jsx("main",{className:"flex-grow",children:d.jsx(I.Suspense,{fallback:d.jsx("div",{className:"w-full py-20"}),children:d.jsxs(yb,{children:[d.jsx(X,{path:"/",element:d.jsx(b5,{})}),d.jsx(X,{path:"/about",element:d.jsx(I5,{})}),d.jsx(X,{path:"/blog",element:d.jsx(T5,{})}),d.jsx(X,{path:"/blog/:slug",element:d.jsx(E5,{})}),d.jsx(X,{path:"/contact",element:d.jsx(P5,{})}),d.jsx(X,{path:"/login",element:d.jsx(A5,{})}),d.jsx(X,{path:"/signup",element:d.jsx(k5,{})}),d.jsx(X,{path:"/developer",element:d.jsx(R5,{})}),d.jsx(X,{path:"/faq",element:d.jsx(C5,{})}),d.jsx(X,{path:"/sitemap",element:d.jsx(S5,{})}),d.jsx(X,{path:"/invoice-generator",element:d.jsx(D5,{})}),d.jsx(X,{path:"/cv-generator",element:d.jsx(N5,{})}),d.jsx(X,{path:"/lesson-plan-creator",element:d.jsx(V5,{})}),d.jsx(X,{path:"/ai-question-generator",element:d.jsx(O5,{})}),d.jsx(X,{path:"/pricing",element:d.jsx(L5,{})}),d.jsx(X,{path:"/api-pricing",element:d.jsx(K5,{})}),d.jsx(X,{path:"/premium-feature",element:d.jsx(F5,{})}),d.jsx(X,{path:"/payment",element:d.jsx(M5,{})}),d.jsx(X,{path:"/developer-access",element:d.jsx(j5,{})}),d.jsx(X,{path:"/how-to-use",element:d.jsx(z5,{})}),d.jsx(X,{path:"/education",element:d.jsx(B5,{})}),d.jsx(X,{path:"/business",element:d.jsx(q5,{})}),d.jsx(X,{path:"/privacy-policy",element:d.jsx(H5,{})}),d.jsx(X,{path:"/terms-of-service",element:d.jsx(G5,{})}),d.jsx(X,{path:"/cookies-policy",element:d.jsx(W5,{})}),d.jsx(X,{path:"/ceo",element:d.jsx($5,{})}),d.jsx(X,{path:"/press",element:d.jsx(eD,{})}),d.jsx(X,{path:"/user-data-deletion",element:d.jsx(w5,{})}),d.jsx(X,{path:"/api-reference",element:d.jsx(Q5,{})}),d.jsx(X,{path:"/api-pdf",element:d.jsx(Y5,{})}),d.jsx(X,{path:"/api-image",element:d.jsx(J5,{})}),d.jsx(X,{path:"/api-signature",element:d.jsx(X5,{})}),d.jsx(X,{element:d.jsx(d5,{}),children:d.jsx(X,{path:"/admin-dashboard",element:d.jsx(U5,{})})}),d.jsx(X,{element:d.jsx(p5,{}),children:d.jsxs(X,{element:d.jsx(rD,{}),children:[d.jsx(X,{path:"/account-settings",element:d.jsx(Z5,{})}),d.jsx(X,{path:"/workflows",element:d.jsx(tD,{})}),d.jsx(X,{path:"/workflows/create",element:d.jsx(nD,{})}),d.jsx(X,{path:"/security",element:d.jsx(iD,{})}),d.jsx(X,{path:"/team",element:d.jsx(sD,{})}),d.jsx(X,{path:"/last-tasks",element:d.jsx(oD,{})}),d.jsx(X,{path:"/signatures-overview",element:d.jsx(aD,{})}),d.jsx(X,{path:"/sent",element:d.jsx(lD,{})}),d.jsx(X,{path:"/inbox",element:d.jsx(cD,{})}),d.jsx(X,{path:"/signed",element:d.jsx(uD,{})}),d.jsx(X,{path:"/templates",element:d.jsx(dD,{})}),d.jsx(X,{path:"/contacts",element:d.jsx(hD,{})}),d.jsx(X,{path:"/signature-settings",element:d.jsx(pD,{})}),d.jsx(X,{path:"/plans-packages",element:d.jsx(fD,{})}),d.jsx(X,{path:"/business-details",element:d.jsx(mD,{})}),d.jsx(X,{path:"/invoices",element:d.jsx(gD,{})})]})}),d.jsx(X,{path:"/:toolId",element:d.jsx(x5,{})})]})})}),d.jsx(aS,{onOpenCalendarModal:()=>u(!0)}),d.jsx(l5,{isOpen:i,onClose:()=>s(!1)}),d.jsx(u5,{isOpen:o,onClose:()=>a(!1)}),d.jsx(g5,{isOpen:c,onClose:()=>u(!1)}),d.jsx(v5,{isOpen:p,onClose:()=>m(!1)}),d.jsx(lS,{}),d.jsx(y5,{}),d.jsx(_5,{})]})}function vD(){return d.jsx(Cb,{children:d.jsx(l4,{children:d.jsx(yD,{})})})}const Kw=document.getElementById("root");if(!Kw)throw new Error("Could not find root element to mount to");const _D=T0.createRoot(Kw);_D.render(d.jsx(Vi.StrictMode,{children:d.jsx(Tb,{children:d.jsx(vD,{})})}));export{N4 as $,b3 as A,Th as B,KD as C,F4 as D,d4 as E,R4 as F,BD as G,K4 as H,w3 as I,Ar as J,ZD as K,Ee as L,x3 as M,k4 as N,Um as O,l3 as P,B4 as Q,y3 as R,L4 as S,Qs as T,p4 as U,O4 as V,A3 as W,MD as X,e3 as Y,t3 as Z,ee as _,qD as a,J4 as a0,UD as a1,h4 as a2,d3 as a3,c3 as a4,u3 as a5,YD as a6,XD as a7,GD as a8,X4 as a9,r3 as aa,s3 as ab,a3 as ac,i3 as ad,$4 as ae,n3 as af,JD as ag,f3 as ah,m3 as ai,g3 as aj,f4 as ak,jD as al,LD as am,Z4 as an,j4 as ao,gg as ap,v5 as aq,Mm as ar,Vw as as,T3 as at,E3 as au,v4 as av,P3 as aw,WD as ax,v3 as ay,vl as b,Yr as c,W4 as d,Q4 as e,$D as f,QD as g,I3 as h,zD as i,d as j,HD as k,tS as l,Vi as m,$w as n,h3 as o,p3 as p,eS as q,I as r,_3 as s,bD as t,Zo as u,Lw as v,Y4 as w,o3 as x,FD as y,D4 as z};
