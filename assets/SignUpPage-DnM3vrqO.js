import{r as t,s as k,q as N,b as S,j as e,L as C}from"./main-C15ChrZI.js";const I=()=>{const[i,h]=t.useState(""),[d,f]=t.useState(""),[u,r]=t.useState(""),[g,n]=t.useState(!1),{signup:y,loginOrSignupWithGoogle:v}=k(),l=N(),o=S(),m=o.state?.from==="pricing",p=o.state?.from==="/invoice-generator",b=o.state?.plan;t.useEffect(()=>{document.title="Sign Up | Create Your Free I Love PDFLY Account";const a=document.querySelector('meta[name="description"]');a&&a.setAttribute("content","Create a free account with I Love PDFLY to unlock more features. Sign up to manage your documents more effectively.")},[]);const x=()=>{const a=localStorage.getItem("pendingInvoiceData");p&&a?(localStorage.removeItem("pendingInvoiceData"),l("/invoice-generator",{state:{restoredData:JSON.parse(a)},replace:!0})):m?l("/payment",{state:{plan:b}}):l("/")},w=async a=>{if(a.preventDefault(),d.length<6){r("Password must be at least 6 characters long.");return}r(""),n(!0);try{await y(i,d),x()}catch(s){r(s.message||"Failed to create an account. Please try again.")}finally{n(!1)}},j=async a=>{r(""),n(!0);try{const s=a.credential,c=JSON.parse(atob(s.split(".")[1]));await v({email:c.email,name:c.name,picture:c.picture}),x()}catch(s){r(s.message||"Failed to sign up with Google.")}finally{n(!1)}};return t.useEffect(()=>{window.google&&(window.google.accounts.id.initialize({client_id:"974035582208-leq5h6cbrjr4n6q78pagt7br7piuvoep.apps.googleusercontent.com",callback:j}),window.google.accounts.id.renderButton(document.getElementById("google-signup-button"),{theme:"outline",size:"large",type:"standard",text:"signup_with",width:"300"}))},[]),e.jsx("div",{className:"min-h-[calc(100vh-200px)] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 bg-gray-50 dark:bg-black",children:e.jsxs("div",{className:"w-full max-w-md space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900 dark:text-white",children:m||p?"Create an Account to Continue":"Create a new account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",e.jsx(C,{to:"/login",state:{from:o.state?.from,plan:b},className:"font-medium text-brand-red hover:text-brand-red-dark",children:"sign in"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-black border border-gray-200 dark:border-gray-800 p-8 rounded-lg shadow-lg animated-border",children:[e.jsxs("form",{className:"space-y-6",onSubmit:w,children:[u&&e.jsx("p",{className:"text-center text-sm text-red-500 bg-red-100 dark:bg-red-900/30 p-3 rounded-md",children:u}),e.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"sr-only",children:"Username"}),e.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,value:i,onChange:a=>h(a.target.value),className:"relative block w-full appearance-none rounded-none rounded-t-md border border-gray-300 dark:border-gray-700 px-3 py-2 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 bg-white dark:bg-black focus:z-10 focus:border-brand-red focus:outline-none focus:ring-brand-red sm:text-sm",placeholder:"Username"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:d,onChange:a=>f(a.target.value),className:"relative block w-full appearance-none rounded-none rounded-b-md border border-gray-300 dark:border-gray-700 px-3 py-2 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 bg-white dark:bg-black focus:z-10 focus:border-brand-red focus:outline-none focus:ring-brand-red sm:text-sm",placeholder:"Password"})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:g,className:"group relative flex w-full justify-center rounded-md border border-transparent bg-brand-red py-2 px-4 text-sm font-medium text-white hover:bg-brand-red-dark focus:outline-none focus:ring-2 focus:ring-brand-red-dark focus:ring-offset-2 disabled:bg-red-300 dark:disabled:bg-red-800 transition-colors",children:g?"Creating account...":"Create Account"})})]}),e.jsxs("div",{className:"relative my-6",children:[e.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:e.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-700"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"bg-white dark:bg-black px-2 text-gray-500 dark:text-gray-400",children:"OR"})})]}),e.jsx("div",{id:"google-signup-button",className:"flex justify-center"})]})]})})};export{I as default};
