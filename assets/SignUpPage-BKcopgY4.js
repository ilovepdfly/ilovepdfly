import{r as n,u as I,c as L,j as e,L as P,Z as G,$ as A,V as D,a0 as f}from"./main-D7__OwvO.js";import"./react-Ckhrjn13.js";const z=()=>{const[l,b]=n.useState(""),[o,y]=n.useState(""),[c,w]=n.useState(""),[d,t]=n.useState(""),[g,m]=n.useState(!1),[u,p]=n.useState(!1),[h,x]=n.useState(!1),{loginOrSignupWithGoogle:v,signUpWithEmail:j,loginOrSignupWithGithub:k}=I(),s=L();n.useEffect(()=>{document.title="Sign Up | Create Your Free I Love PDFLY Account";const a=document.querySelector('meta[name="description"]');a&&a.setAttribute("content","Create a free account with I Love PDFLY to unlock more features. Sign up to manage your documents more effectively.")},[]);const N=async a=>{if(a.preventDefault(),o!==c){t("Passwords do not match.");return}if(o.length<6){t("Password must be at least 6 characters long.");return}t(""),m(!0);try{await j(l,o)}catch(r){r.code==="auth/email-already-in-use"?t("An account with this email already exists. Please sign in instead."):r.code==="auth/operation-not-allowed"?t("Email/Password sign up is currently disabled. Please contact support or try another method."):t(r.message||"Failed to create an account.")}finally{m(!1)}},C=async()=>{t(""),p(!0);try{const a={from:s.state?.from,plan:s.state?.plan};sessionStorage.setItem("postLoginRedirect",JSON.stringify(a));const r=localStorage.getItem("pendingInvoiceData");r&&(sessionStorage.setItem("pendingInvoiceDataRedirect",r),localStorage.removeItem("pendingInvoiceData")),await v()}catch(a){a.code!=="auth/popup-closed-by-user"&&t(a.message||"Failed to sign up with Google. Please try again.")}finally{p(!1)}},S=async()=>{t(""),x(!0);try{const a={from:s.state?.from,plan:s.state?.plan};sessionStorage.setItem("postLoginRedirect",JSON.stringify(a));const r=localStorage.getItem("pendingInvoiceData");r&&(sessionStorage.setItem("pendingInvoiceDataRedirect",r),localStorage.removeItem("pendingInvoiceData")),await k()}catch(a){a.code!=="auth/popup-closed-by-user"&&t(a.message||"Failed to sign up with GitHub. Please try again.")}finally{x(!1)}},i=g||u||h;return e.jsx("div",{className:"min-h-[calc(100vh-200px)] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 bg-gray-50 dark:bg-black",children:e.jsxs("div",{className:"w-full max-w-md space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 dark:text-white",children:s.state?.from==="pricing"||s.state?.from==="/invoice-generator"?"Create an Account to Continue":"Create a Free Account"}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",e.jsx(P,{to:"/login",state:{from:s.state?.from,plan:s.state?.plan},className:"font-medium text-brand-red hover:text-brand-red-dark",children:"Sign in"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-black border border-gray-200 dark:border-gray-800 p-8 rounded-lg shadow-xl animated-border",children:[d&&e.jsx("p",{className:"text-center text-sm text-red-500 bg-red-100 dark:bg-red-900/30 p-3 rounded-md mb-6",children:d}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{onClick:C,disabled:i,className:"w-full flex justify-center items-center gap-3 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-black py-3 px-4 text-sm font-semibold text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-brand-red-dark focus:ring-offset-2 disabled:opacity-50 transition-colors",children:u?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Connecting..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"h-5 w-5"}),e.jsx("span",{children:"Continue with Google"})]})}),e.jsx("button",{onClick:S,disabled:i,className:"w-full flex justify-center items-center gap-3 rounded-md border border-gray-300 dark:border-gray-700 bg-gray-800 dark:bg-gray-900 py-3 px-4 text-sm font-semibold text-white hover:bg-gray-700 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50 transition-colors",children:h?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Connecting..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"h-5 w-5"}),e.jsx("span",{children:"Continue with GitHub"})]})})]}),e.jsxs("div",{className:"relative my-6",children:[e.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:e.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-700"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"bg-white dark:bg-black px-2 text-gray-500 dark:text-gray-400",children:"Or with email"})})]}),e.jsxs("form",{className:"space-y-6",onSubmit:N,children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:e.jsx(D,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:l,onChange:a=>b(a.target.value),className:"w-full rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-black py-3 pl-10 pr-3 text-sm placeholder-gray-500 focus:z-10 focus:border-brand-red focus:outline-none focus:ring-brand-red",placeholder:"Email address"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:e.jsx(f,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:o,onChange:a=>y(a.target.value),className:"w-full rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-black py-3 pl-10 pr-3 text-sm placeholder-gray-500 focus:z-10 focus:border-brand-red focus:outline-none focus:ring-brand-red",placeholder:"Password (6+ characters)"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:e.jsx(f,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",required:!0,value:c,onChange:a=>w(a.target.value),className:"w-full rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-black py-3 pl-10 pr-3 text-sm placeholder-gray-500 focus:z-10 focus:border-brand-red focus:outline-none focus:ring-brand-red",placeholder:"Confirm Password"})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:i,className:"w-full flex justify-center items-center rounded-md border border-transparent bg-brand-red py-3 px-4 text-sm font-medium text-white hover:bg-brand-red-dark focus:outline-none focus:ring-2 focus:ring-brand-red-dark focus:ring-offset-2 disabled:opacity-50 transition-colors",children:g?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Creating Account..."})]}):"Create Account"})})]})]})]})})};export{z as default};
