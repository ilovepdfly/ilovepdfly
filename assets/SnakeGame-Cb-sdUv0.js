import{r as x,j as a,L as T}from"./main-VwpIltfS.js";const A=()=>{const g=x.useRef(null),[u,b]=x.useState(0),[h,k]=x.useState(!1);x.useEffect(()=>{if(h)return;const n=g.current;if(!n)return;const r=n.getContext("2d");if(!r)return;const i=20,o=n.width/i;let l=[{x:10,y:10}],c={x:15,y:15},t={x:0,y:0},y={x:0,y:0};const N=()=>{const e={x:l[0].x+t.x,y:l[0].y+t.y};if(l.unshift(e),e.x<0||e.x>=i||e.y<0||e.y>=i||E(e)){k(!0);return}e.x===c.x&&e.y===c.y?(b(s=>s+10),m()):l.pop(),S()},S=()=>{r.fillStyle="#1a202c",r.fillRect(0,0,n.width,n.height),r.strokeStyle="#2d3748";for(let s=0;s<i;s++)r.beginPath(),r.moveTo(s*o,0),r.lineTo(s*o,n.height),r.moveTo(0,s*o),r.lineTo(n.width,s*o),r.stroke();const e=Math.abs(Math.sin(Date.now()/200))*2;r.fillStyle="#e53935",r.fillRect(c.x*o-e/2,c.y*o-e/2,o+e,o+e),l.forEach((s,d)=>{r.fillStyle=d===0?"#68d391":"#48bb78",r.fillRect(s.x*o,s.y*o,o-1,o-1)})},m=()=>{c={x:Math.floor(Math.random()*i),y:Math.floor(Math.random()*i)},l.some(e=>e.x===c.x&&e.y===c.y)&&m()},E=e=>l.slice(1).some(s=>s.x===e.x&&s.y===e.y),v=e=>{e.preventDefault(),e.key==="ArrowUp"&&t.y===0&&(t={x:0,y:-1}),e.key==="ArrowDown"&&t.y===0&&(t={x:0,y:1}),e.key==="ArrowLeft"&&t.x===0&&(t={x:-1,y:0}),e.key==="ArrowRight"&&t.x===0&&(t={x:1,y:0})},w=e=>{y={x:e.touches[0].clientX,y:e.touches[0].clientY}},j=e=>{const s={x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY},d=s.x-y.x,f=s.y-y.y;Math.abs(d)>Math.abs(f)?d>0&&t.x===0?t={x:1,y:0}:d<0&&t.x===0&&(t={x:-1,y:0}):f>0&&t.y===0?t={x:0,y:1}:f<0&&t.y===0&&(t={x:0,y:-1})};window.addEventListener("keydown",v),n.addEventListener("touchstart",w),n.addEventListener("touchend",j),n.style.touchAction="none",m();const L=setInterval(N,100);return()=>{clearInterval(L),window.removeEventListener("keydown",v),n.removeEventListener("touchstart",w),n.removeEventListener("touchend",j)}},[h]);const p=()=>{b(0),k(!1)};return a.jsx("div",{className:"py-16 bg-gray-50 dark:bg-black min-h-screen flex flex-col items-center justify-center",children:a.jsxs("div",{className:"container mx-auto px-4 text-center",children:[a.jsx("h1",{className:"text-4xl font-extrabold text-gray-800 dark:text-gray-100",children:"Snake Game"}),a.jsxs("div",{className:"my-4 p-4 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg max-w-lg mx-auto",children:[a.jsx("h2",{className:"text-lg font-bold text-gray-700 dark:text-gray-200 mb-2",children:"How to Play"}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[a.jsx("strong",{className:"text-brand-red",children:"Desktop:"})," Use Arrow Keys to control the snake."]}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[a.jsx("strong",{className:"text-brand-red",children:"Mobile:"})," Swipe on the screen to change direction."]})]}),a.jsxs("div",{className:"text-2xl font-bold my-4",children:["Score: ",a.jsx("span",{className:"text-brand-red",children:u})]}),a.jsxs("div",{className:"relative max-w-lg mx-auto aspect-square bg-gray-200 dark:bg-black rounded-lg shadow-lg overflow-hidden",children:[a.jsx("canvas",{ref:g,width:"400",height:"400",className:"w-full h-full"}),h&&a.jsxs("div",{className:"absolute inset-0 bg-black/70 flex flex-col items-center justify-center rounded-lg animate-fade-in-down",children:[a.jsx("h2",{className:"text-4xl font-bold text-white",children:"Game Over"}),a.jsxs("p",{className:"text-2xl text-gray-200 mt-2",children:["Final Score: ",u]}),a.jsx("button",{onClick:p,className:"mt-6 bg-brand-red hover:bg-brand-red-dark text-white font-bold py-3 px-8 rounded-lg transition-colors",children:"Play Again"})]})]}),a.jsx(T,{to:"/play-game",className:"inline-block mt-8 text-gray-600 dark:text-gray-400 hover:text-brand-red dark:hover:text-brand-red font-medium transition-colors",children:"‚Üê Back to Arcade"})]})})};export{A as default};
